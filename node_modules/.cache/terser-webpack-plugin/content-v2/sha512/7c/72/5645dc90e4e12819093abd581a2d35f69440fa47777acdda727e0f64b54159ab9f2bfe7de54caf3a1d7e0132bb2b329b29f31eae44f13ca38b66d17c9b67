{"code":"!function(e){function t(t){for(var o,a,s=t[0],l=t[1],c=t[2],m=0,d=[];m<s.length;m++)a=s[m],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(u&&u(t);d.length;)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(o=!1)}o&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},r={0:0},i=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,\"a\",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p=\"/\";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;i.push([391,1]),n()}({171:function(e,t){throw new Error(\"Module build failed (from ./node_modules/babel-loader/lib/index.js):\\nSyntaxError: D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\browser\\\\game\\\\FixedCube.js: Unexpected token (20:72)\\n\\n\u001b[0m \u001b[90m 18 | \u001b[39m  init() {\u001b[0m\\n\u001b[0m \u001b[90m 19 | \u001b[39m    \u001b[90m/*----- CREATE FIXED CUBE -----*/\u001b[39m\u001b[0m\\n\u001b[0m\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 | \u001b[39m    \u001b[36mconst\u001b[39m fixedCubeBody \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mCANNON\u001b[39m\u001b[33m.\u001b[39m\u001b[33mBody\u001b[39m({ mass\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m collisionFilterMask\u001b[33m=\u001b[39m\u001b[35m1\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\\n\u001b[0m \u001b[90m    | \u001b[39m                                                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\u001b[0m\\n\u001b[0m \u001b[90m 21 | \u001b[39m    fixedCubeBody\u001b[33m.\u001b[39maddShape(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mfixedCubeShape)\u001b[33m;\u001b[39m\u001b[0m\\n\u001b[0m \u001b[90m 22 | \u001b[39m    \u001b[36mconst\u001b[39m fixedCubeMesh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTHREE\u001b[39m\u001b[33m.\u001b[39m\u001b[33mMesh\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mfixedCubeGeometry\u001b[33m,\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmaterial)\u001b[33m;\u001b[39m\u001b[0m\\n\u001b[0m \u001b[90m 23 | \u001b[39m\u001b[0m\\n    at Object.raise (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:6975:17)\\n    at Object.unexpected (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:8368:16)\\n    at Object.parseMaybeAssign (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:9019:12)\\n    at Object.parseExprListItem (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:10297:18)\\n    at Object.parseExprList (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:10271:22)\\n    at Object.parseNewArguments (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:9882:25)\\n    at Object.parseNew (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:9876:10)\\n    at Object.parseExprAtom (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:9587:21)\\n    at Object.parseExprAtom (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:4097:20)\\n    at Object.parseExprSubscripts (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:9210:23)\\n    at Object.parseMaybeUnary (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:9190:21)\\n    at Object.parseExprOps (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:9056:23)\\n    at Object.parseMaybeConditional (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:9029:23)\\n    at Object.parseMaybeAssign (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:8975:21)\\n    at Object.parseVar (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:11307:26)\\n    at Object.parseVarStatement (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:11126:10)\\n    at Object.parseStatementContent (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:10723:21)\\n    at Object.parseStatement (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:10656:17)\\n    at Object.parseBlockOrModuleBlockBody (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:11232:25)\\n    at Object.parseBlockBody (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:11219:10)\\n    at Object.parseBlock (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:11203:10)\\n    at Object.parseFunctionBody (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:10222:24)\\n    at Object.parseFunctionBodyAndFinish (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:10192:10)\\n    at Object.parseMethod (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:10146:10)\\n    at Object.pushClassMethod (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:11637:30)\\n    at Object.parseClassMemberWithIsStatic (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:11556:12)\\n    at Object.parseClassMember (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:11498:10)\\n    at D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:11453:14\\n    at Object.withTopicForbiddingContext (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:10531:14)\\n    at Object.parseClassBody (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:11430:10)\\n    at Object.parseClass (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:11404:22)\\n    at Object.parseExportDefaultExpression (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:11825:19)\\n    at Object.parseExport (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:11738:31)\\n    at Object.parseStatementContent (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:10760:27)\\n    at Object.parseStatement (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:10656:17)\\n    at Object.parseBlockOrModuleBlockBody (D:\\\\Semester 5\\\\GRAFKOM\\\\FPgrakom\\\\node_modules\\\\@babel\\\\parser\\\\lib\\\\index.js:11232:25)\")},386:function(e,t,n){var o=n(387);\"string\"==typeof o&&(o=[[e.i,o,\"\"]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(389)(o,r);o.locals&&(e.exports=o.locals)},387:function(e,t,n){(e.exports=n(388)(!1)).push([e.i,\"html,body{width:100%;height:100%}body{background-color:#ffffff;margin:0;overflow:hidden;font-family:'Lato', cursive}#blocker{position:absolute;width:100%;height:100%;background-color:rgba(0,0,0,0.5)}.blocker-instruction-controls{font-size:24px}.blocker-instruction-tips{font-size:20px}.blocker-title{display:inline-block;margin-bottom:50px;font-size:40px;z-index:999}#instructions{width:100%;height:100%;display:-webkit-box;display:-moz-box;display:box;-webkit-box-orient:horizontal;-moz-box-orient:horizontal;box-orient:horizontal;-webkit-box-pack:center;-moz-box-pack:center;box-pack:center;-webkit-box-align:center;-moz-box-align:center;box-align:center;color:#ffffff;text-align:center;cursor:pointer}#scores{position:absolute;top:-5;left:-20;font-size:150%;color:#ffffff}#scoreslist{list-style:none}#winner{font-size:400%}.timer{position:absolute;right:20;top:10;font-size:200%;color:#ffffff}.center{margin-top:0;position:absolute;left:50%;top:45%;transform:translate(-50%, -50%)}#title{margin-bottom:0;font-size:100;letter-spacing:5px;color:#D5D1D0;font-weight:300}#nickname-form{padding-top:5px;margin:auto;width:43.6%}#backgroundimage{background:-webkit-linear-gradient(rgba(156,0,0,0), rgba(156,0,0,0.5)),url(/images/background.jpg);background:-o-linear-gradient(rgba(156,0,0,0), rgba(156,0,0,0.5)),url(/images/background.jpg);background:linear-gradient(rgba(156,0,0,0), rgba(156,0,0,0.5)),url(/images/background.jpg);line:rgba(39,62,84,0.11);background-size:cover;height:100%;width:100%}#bomberman{position:absolute;right:20px;bottom:20px}#announcer{font-size:25;bottom:47;color:#ffffff}.mute{position:absolute;left:0;top:0}.git{position:absolute !important;bottom:0;left:0}.material-icons:hover{color:#cc2d2d !important}.dead-overlay{background-color:#700303;position:absolute;opacity:0.7;width:100vw;height:100vh;pointer-events:none}.dead-message{font-size:50;margin:auto;text-align:center;position:relative;display:table;top:60}.chat-message{font-size:15;color:#ffffff}.chat-box{position:absolute;bottom:5%;margin-left:2%}\\n\",\"\"])},391:function(e,t,n){\"use strict\";n.r(t);var o=n(0),r=n.n(o),i=n(34),a=n.n(i),s=n(15),l=n(168),c=n.n(l),u=n(169),m=n.n(u),d=n(1),p=n(3),f=n(35),h=n(170),b={},y=function(e){return e.dead},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:180,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"SET_TIME\":return t.time;default:return e}},g=function(e){return e.timer},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"SET_WINNER\":return t.playerId;default:return e}},x=function(e){return e.winner},k=function(e){return e.isPlaying},S={score:0,nickname:\"\"},E={killerNickname:\"\",victimNickname:\"\"},O=function(e){return e.announcement.killerNickname},M=function(e){return e.announcement.victimNickname};function _(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}var j={isChatting:!1,lastFiveMessages:[]},C=function(e){return e.chat.isChatting},P=function(e){return e.chat.lastFiveMessages},A=function(e){return e.sound},F=Object(f.c)({players:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case\"UPDATE_PLAYER_LOCATIONS\":return t.otherPlayers;case\"ADD_PLAYER\":return n[t.player.id]=t.player.position,n;case\"REMOVE_PLAYER\":return delete n[t.id],n;default:return e}},bombs:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case\"UPDATE_BOMB_LOCATIONS\":for(var o in e=Object.assign({},t),n.allBombs)e[o]=n.allBombs[o];return e;case\"REMOVE_PLAYER_BOMBS\":return delete(e=Object.assign({},t))[n.id],e;default:return t}},map:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"GENERATE_MAP\":return t.map;default:return e}return newState},dead:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"KILL_PLAYER\":return!0;case\"REVIVE_PLAYER\":return!1;default:return e}},timer:v,winner:w,isPlaying:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"START_GAME\":return!0;default:return e}},ownInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case\"SET_NAME\":n.nickname=t.name;break;case\"SET_SCORE\":n.score=t.score;break;default:return e}return n},announcement:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"ANNOUNCE_KILL\":return Object.assign({},e,t);case\"REMOVE_ANNOUNCEMENT\":return E;default:return e}},chat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"START_CHAT\":return Object.assign({},e,{isChatting:!0});case\"STOP_CHAT\":return Object.assign({},e,{isChatting:!1});case\"RECEIVE_MESSAGE\":return e.lastFiveMessages.length>0&&e.lastFiveMessages.length>4?Object.assign({},e,{lastFiveMessages:[].concat(_(e.lastFiveMessages.slice(1)),[t.message])}):Object.assign({},e,{lastFiveMessages:[].concat(_(e.lastFiveMessages),[t.message])});default:return e}},sound:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"MUTE\":return!1;case\"UNMUTE\":return!0;default:return e}}}),z=Object(f.d)(F,Object(f.a)(h.a)),T=function(e,t,n){d.Geometry.call(this);var o=this,r=e/2,i=t/2,a=n/2;function s(e,t,n){o.vertices.push(new d.Vector3(e,t,n))}function l(e,t,n){o.faces.push(new d.Face3(e,t,n))}s(r,i,-a),s(r,-i,-a),s(-r,-i,-a),s(-r,i,-a),s(r,i,a),s(r,-i,a),s(-r,-i,a),s(-r,i,a),l(0,1,2),l(4,7,6),l(0,4,5),l(1,5,6),l(2,6,7),l(4,0,3)};(T.prototype=new d.Geometry).constructor=T;var R=function(e,t,n,o,r,i){\"cube\"===o&&(this.particle=new d.Mesh(r,i)),\"bomb\"===o&&(this.particle=new d.Mesh(r,i),n.y-=6),\"player\"===o&&(this.particle=new d.Mesh(r,i),n.y-=6),this.particle.position.x=n.x,this.particle.position.y=n.y,this.particle.position.z=n.z,this.reset(this.particle.position.x,this.particle.position.y,this.particle.position.z),e.add(this.particle)};function B(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}R.prototype.reset=function(e,t,n){this.xd=.75*Math.random()*2-.75,this.yd=Math.abs(.75*Math.random()*2-.75),this.zd=.75*Math.random()*2-.75,this.particle.position.x=e,this.particle.position.y=t,this.particle.position.z=n,this.xrd=.1*Math.random()*2-.1,this.zrd=.1*Math.random()*2-.1,this.particle.rotation.x=360*Math.random(),this.particle.rotation.z=360*Math.random(),this.ticks=0},R.prototype.loop=function(e){this.particle.position.x+=this.xd,this.particle.position.y+=this.yd,this.particle.position.z+=this.zd,this.particle.rotation.x+=this.xrd,this.particle.rotation.z+=this.zrd,this.ticks++,this.ticks>100&&(Me.remove(this.particle),this.ticks>301&&(He[e]=[]))};var N=function(){function e(t,n,o,r,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.socketId=t,this.x=n,this.y=o,this.z=r,this.dead=i,this.nickname=z.getState().players[t].nickname,this.material,this.playerMesh,this.playerBox,this.sprite}var t,n,o;return t=e,(n=[{key:\"init\",value:function(){var e=new p.Vec3(2,2,2),t=new p.Box(e),n=new d.BoxGeometry(1.5*e.x,1.5*e.y,1.5*e.z),o=(new d.TextureLoader).load(\"images/creeperface.jpg\"),r=(new d.TextureLoader).load(\"images/creeperbody.jpg\"),i=new d.MeshLambertMaterial({map:o}),a=new d.MeshLambertMaterial({map:r}),s=[i,i,a,a,i,i],l=new p.Body({mass:0});l.addShape(t),l.name=this.socketId,this.material=new d.MultiMaterial(s);var c=new d.Mesh(n,this.material);c.name=this.socketId,c.position.set(this.x,this.y,this.z),l.position.set(c.position.x,c.position.y,c.position.z),this.dead||(Me.add(c),Se.add(l)),this.playerMesh=c,this.playerBox=l}},{key:\"explode\",value:function(){if(!this.dead){for(var e=new d.BoxGeometry(.4,.4,.4),t=[],n=0;n<Xe;n++){var o=new R(Me,Se,{x:this.x,y:this.y,z:this.z},\"player\",e,this.material);t.push(o)}return He[this.playerMesh.id]=t.slice(),Se.remove(this.playerBox),Me.remove(this.playerMesh),this.dead=!0,!0}}}])&&B(t.prototype,n),o&&B(t,o),e}(),D=function(e){return{type:\"UPDATE_PLAYER_LOCATIONS\",otherPlayers:e}},G=function(e){return{type:\"UPDATE_BOMB_LOCATIONS\",allBombs:e}},I=function(e){return{type:\"GENERATE_MAP\",map:e}},L=function(e){return{type:\"SET_TIME\",time:e}},V=function(e){return{type:\"SET_WINNER\",playerId:e}},K=io(\"/\"),U=[],q=0;K.on(\"connect\",(function(){K.on(\"initial\",(function(e){z.dispatch(D(e.players)),z.dispatch(G(e.bombs)),z.dispatch(I(e.map)),z.dispatch(L(e.timer))})),K.on(\"update_world\",(function(e){q+=1,U=Object.keys(e.players),e.players[K.id]&&(z.dispatch({type:\"SET_SCORE\",score:e.players[K.id].score}),z.dispatch({type:\"SET_NAME\",name:e.players[K.id].nickname})),delete e.players[K.id],delete e.bombs[K.id],z.dispatch(D(e.players)),z.dispatch(G(e.bombs)),q%30==0&&(z.dispatch(L(e.timer)),q=0)})),K.on(\"set_winner\",(function(e){z.dispatch(V(e))})),K.on(\"update_bomb_positions\",(function(e){delete e[K.id],z.dispatch(G(e))})),K.on(\"kill_player\",(function(e){var t,n;z.dispatch((t=e.killerNickname,n=e.victimNickname,{type:\"ANNOUNCE_KILL\",killerNickname:t.nickname,victimNickname:n.nickname})),setTimeout((function(){z.dispatch({type:\"REMOVE_ANNOUNCEMENT\"})}),3e3);var o=Ye.filter((function(t){return t.socketId===e.id}))[0];if(o){var r=z.getState(),i=r.announcement;if(r.sound){var a=new d.PositionalAudio(Be),s=new d.AudioLoader;i.killer.nickname===i.victim.nickname&&s.load(\"sounds/witch.mp3\",(function(e){a.setBuffer(e),a.setRefDistance(10),a.play()})),s.load(\"sounds/die.mp3\",(function(e){a.setBuffer(e),a.setRefDistance(10),a.play()}))}o.explode()}})),K.on(\"reset_world\",(function(e){setTimeout((function(){z.dispatch(I(e.map)),z.dispatch(D(e.players)),z.dispatch(G(e.bombs)),z.dispatch({type:\"REVIVE_PLAYER\"}),z.dispatch(L(e.timer)),be(Me,Se,Ve,Le,Ge,Ie,qe,Je,We,Ke,Ue),Ve=[],Le=[],Ge=[],Ie=[],qe=[],Je=[],We=[],Ke=[],Ue=[],Ye=[],ue(),Ne.position.x=ot[U.indexOf(W.id)].x,Ne.position.y=5,Ne.position.z=ot[U.indexOf(W.id)].z,Ze=!1,z.dispatch(V(null))}),5e3)})),K.on(\"remove_player\",(function(e){z.dispatch(function(e){return{type:\"REMOVE_PLAYER\",id:e}}(e));var t=Se.bodies.filter((function(t){return t.name===e}))[0],n=Me.children.filter((function(t){return t.name===e}))[0];t&&Se.remove(t),n&&(Me.remove(n),Me.remove(void 0),Se.remove(void 0))})),K.on(\"new_message\",(function(e){z.dispatch(function(e){return{type:\"RECEIVE_MESSAGE\",message:e}}(e))}))}));var W=K,Y=function(e,t){var n=this,o=new d.Object3D;o.add(e);var r=!1,i=!1,a=!1,s=!1,l=new d.Object3D;l.position.y=2,l.add(o);var c=new d.Quaternion,u=new p.Vec3,m=new p.Vec3(0,1,0);t.addEventListener(\"collide\",(function(e){var n=e.contact;n.bi.id===t.id?n.ni.negate(u):u.copy(n.ni),u.dot(m)>.5&&!0}));var f=t.velocity,h=Math.PI/2;document.addEventListener(\"mousemove\",(function(e){if(!1!==n.enabled){var t=e.movementX||e.mozMovementX||e.webkitMovementX||0,r=e.movementY||e.mozMovementY||e.webkitMovementY||0;l.rotation.y-=.002*t,o.rotation.x-=.002*r,o.rotation.x=Math.max(-h,Math.min(h,o.rotation.x))}}),!1),document.addEventListener(\"keydown\",(function(e){switch(e.keyCode){case 38:case 87:r=!0;break;case 37:case 65:a=!0;break;case 40:case 83:i=!0;break;case 39:case 68:s=!0}}),!1),document.addEventListener(\"keyup\",(function(e){switch(e.keyCode){case 38:case 87:r=!1;break;case 37:case 65:a=!1;break;case 40:case 83:i=!1;break;case 39:case 68:s=!1}}),!1),this.enabled=!1,this.getObject=function(){return l},this.getDirection=function(e){e.set(0,0,-1),c.multiplyVector3(e)};var b=new d.Vector3,y=new d.Euler;this.update=function(e){!1!==n.enabled&&(e*=.1,b.set(0,0,0),r&&(b.z=-.3*e),i&&(b.z=.3*e),a&&(b.x=-.3*e),s&&(b.x=.3*e),y.x=o.rotation.x,y.y=l.rotation.y,y.order=\"XYZ\",c.setFromEuler(y),b.applyQuaternion(c),f.x+=b.x,f.z+=b.z,l.position.copy(t.position))}};function H(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var X=function(){function e(t,n,o,r,i,a,s,l,c){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.x=i,this.y=a,this.z=s,this.j=l,this.k=c,this.exploded=!1,this.cubeMesh={},this.cubeBox={},this.material=t,this.texture=n,this.fixedCubeShape=o,this.fixedCubeGeometry=r}var t,n,o;return t=e,(n=[{key:\"init\",value:function(){var e=new p.Body({mass:0});e.addShape(this.fixedCubeShape);var t=new d.Mesh(this.fixedCubeGeometry,this.material);t.position.set(this.x,this.y,this.z),e.position.set(t.position.x,t.position.y,t.position.z),Me.add(t),Se.add(e),this.cubeMesh=t,this.cubeBox=e}},{key:\"explode\",value:function(){if(!this.exploded){for(var e=new d.BoxGeometry(.4,.4,.4),t=[],n=0;n<Xe;n++){var o=new R(Me,Se,{x:this.x,y:this.y,z:this.z},\"cube\",e,this.material);t.push(o)}return He[this.cubeMesh.id]=t.slice(),Se.remove(this.cubeBox),Me.remove(this.cubeMesh),this.exploded=!0,!0}}}])&&H(t.prototype,n),o&&H(t,o),e}();n(354);function J(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Q,Z,$=function(){function e(t,n,o,r,i,a,s){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.x=i,this.y=a,this.z=s,this.wallMesh={},this.wallBody={},this.material=t,this.texture=n,this.fixedCubeShape=o,this.fixedCubeGeometry=r}var t,n,o;return t=e,(n=[{key:\"init\",value:function(){var e=new p.Body({mass:0});e.addShape(this.fixedCubeShape);var t=new d.Mesh(this.fixedCubeGeometry,this.material);t.position.set(this.x,this.y,this.z),e.position.set(this.x,this.y,this.z),Me.add(t),Se.add(e),this.wallMesh=t,this.wallBody=e}}])&&J(t.prototype,n),o&&J(t,o),e}(),ee=n(171),te=n.n(ee),ne=[\"attribute vec3 position;\",\"attribute vec3 tex;\",\"uniform mat4 projectionMatrix;\",\"uniform mat4 modelViewMatrix;\",\"varying vec3 texOut;\",\"void main ( void ) {\",\"gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );\",\"texOut = tex;\",\"}\"].join(\"\\n\"),oe=[\"precision highp float;\",\"vec2 mBBS( vec2 val, float modulus ) {\",\"val = mod( val, modulus ); // For numerical consistancy.\",\"return mod(val * val, modulus);\",\"}\",\"uniform sampler2D nzw;\",\"const float modulus = 61.0;  // Value used in pregenerated noise texture.\",\"float mnoise ( vec3 pos ) {\",\"float intArg = floor( pos.z );\",\"float fracArg = fract( pos.z );\",\"vec2 hash = mBBS( intArg * 3.0 + vec2( 0, 3 ), modulus );\",\"vec4 g = vec4 (\",\"texture2D( nzw, vec2( pos.x, pos.y + hash.x ) / modulus ).xy,\",\"texture2D( nzw, vec2( pos.x, pos.y + hash.y ) / modulus ).xy\",\") * 2.0 - 1.0;\",\"return mix(\",\"g.x + g.y * fracArg,\",\"g.z + g.w * ( fracArg - 1.0 ),\",\"smoothstep( 0.0, 1.0, fracArg )\",\");\",\"}\",\"const int octives = 4;\",\"const float lacunarity = 2.0;\",\"const float gain = 0.5;\",\"float turbulence( vec3 pos ) {\",\"float sum  = 0.0;\",\"float freq = 1.0;\",\"float amp  = 1.0;\",\"for ( int i = 0; i < 4; i++ ) {\",\"sum += abs( mnoise( pos * freq ) ) * amp;\",\"freq *= lacunarity;\",\"amp *= gain;\",\"}\",\"return sum;\",\"}\",\"const float magnatude = 1.3;\",\"uniform float time;\",\"uniform sampler2D fireProfile;\",\"vec4 sampleFire( vec3 loc, vec4 scale ) {\",\"loc.xz = loc.xz * 2.0 - 1.0;\",\"vec2 st = vec2( sqrt( dot( loc.xz, loc.xz ) ), loc.y );\",\"loc.y -= time * scale.w; // Scrolling noise upwards over time.\",\"loc *= scale.xyz; // Scaling noise space.\",\"float offset = sqrt( st.y ) * magnatude * turbulence( loc );\",\"st.y += offset;\",\"if ( st.y > 1.0 ) {\",\"return vec4( 0, 0, 0, 1 );\",\"}\",\"vec4 result = texture2D( fireProfile, st );\",\"if ( st.y < 0.1 ) {\",\"result *= st.y / 0.1;\",\"}\",\"return result;\",\"}\",\"varying vec3 texOut;\",\"void main( void ) {\",\"vec3 color = sampleFire( texOut, vec4( 1.0, 2.0, 1.0, 0.5 ) ).xyz;\",\"gl_FragColor = vec4( color * 1.5, 1 );\",\"}\"].join(\"\\n\"),re=(Z=new d.TextureLoader,function(){if(Q)return Q;var e=Z.load(se.texturePath+\"nzw.png\");e.wrapS=d.RepeatWrapping,e.wrapT=d.RepeatWrapping,e.magFilter=d.LinearFilter,e.minFilter=d.LinearFilter;var t=Z.load(se.texturePath+\"firetex.png\");t.wrapS=d.ClampToEdgeWrapping,t.wrapT=d.ClampToEdgeWrapping,t.magFilter=d.LinearFilter,t.minFilter=d.LinearFilter;var n={nzw:{type:\"t\",value:e},fireProfile:{type:\"t\",value:t},time:{type:\"f\",value:1}};return Q=new d.RawShaderMaterial({vertexShader:ne,fragmentShader:oe,uniforms:n,side:d.DoubleSide,blending:d.AdditiveBlending,transparent:!0})}),ie=[[1,2,4],[0,5,3],[0,3,6],[1,7,2],[0,6,5],[1,4,7],[2,7,4],[3,5,6]],ae=[[-1,2,4,-1,1,-1,-1,-1],[5,-1,-1,0,-1,3,-1,-1],[3,-1,-1,6,-1,-1,0,-1],[-1,7,1,-1,-1,-1,-1,2],[6,-1,-1,-1,-1,0,5,-1],[-1,4,-1,-1,7,-1,-1,1],[-1,-1,7,-1,2,-1,-1,4],[-1,-1,-1,5,-1,6,3,-1]],se=function(e,t,n,o,r){this.camera=r,this._sliceSpacing=o;var i=.5*e,a=.5*t,s=.5*n;this._posCorners=[new d.Vector3(-i,-a,-s),new d.Vector3(i,-a,-s),new d.Vector3(-i,a,-s),new d.Vector3(i,a,-s),new d.Vector3(-i,-a,s),new d.Vector3(i,-a,s),new d.Vector3(-i,a,s),new d.Vector3(i,a,s)],this._texCorners=[new d.Vector3(0,0,0),new d.Vector3(1,0,0),new d.Vector3(0,1,0),new d.Vector3(1,1,0),new d.Vector3(0,0,1),new d.Vector3(1,0,1),new d.Vector3(0,1,1),new d.Vector3(1,1,1)],this._viewVector=new d.Vector3;var l=new Uint16Array(30*(e+t+n)),c=new Float32Array(30*(e+t+n)*3),u=new Float32Array(30*(e+t+n)*3),m=new d.BufferGeometry;m.dynamic=!0,m.setIndex(new d.BufferAttribute(l,1)),m.addAttribute(\"position\",new d.BufferAttribute(c,3)),m.addAttribute(\"tex\",new d.BufferAttribute(u,3));var p=re();this.mesh=new d.Mesh(m,p),this.mesh.updateMatrixWorld()};se.prototype.update=function(e){this.updateViewVector(),this.slice(),this.updateGeometry(),this.mesh.material.uniforms.time.value=e},se.prototype.updateGeometry=function(){this.mesh.geometry.index.array.set(this._indexes),this.mesh.geometry.attributes.position.array.set(this._points),this.mesh.geometry.attributes.tex.array.set(this._texCoords),this.mesh.geometry.index.needsUpdate=!0,this.mesh.geometry.attributes.position.needsUpdate=!0,this.mesh.geometry.attributes.tex.needsUpdate=!0},se.prototype.updateViewVector=function(){var e=new d.Matrix4;e.multiplyMatrices(this.camera.matrixWorldInverse,this.mesh.matrixWorld),this._viewVector.set(-e.elements[2],-e.elements[6],-e.elements[10]).normalize()},se.prototype.slice=function(){var e;this._points=[],this._texCoords=[],this._indexes=[];var t=this._posCorners[0].dot(this._viewVector),n=[t],o=0,r=t,i=t;for(e=1;e<8;e=e+1|0)n[e]=this._posCorners[e].dot(this._viewVector),n[e]>i&&(o=e,i=n[e]),n[e]<r&&(r=n[e]);var a=Math.floor(i/this._sliceSpacing)*this._sliceSpacing,s=[],l=0,c=0,u=new ce,m=function(e,t){if(!(c>=12)){var o={expired:!1,startIndex:e,endIndex:t,deltaPos:new d.Vector3,deltaTex:new d.Vector3,pos:new d.Vector3,tex:new d.Vector3,cur:c},r=n[e]-n[t];if(0!==r){var i=1/r;o.deltaPos.subVectors(this._posCorners[t],this._posCorners[e]).multiplyScalar(i),o.deltaTex.subVectors(this._texCorners[t],this._texCorners[e]).multiplyScalar(i);var l=n[e]-a;o.pos.addVectors(o.deltaPos.clone().multiplyScalar(l),this._posCorners[e]),o.tex.addVectors(o.deltaTex.clone().multiplyScalar(l),this._texCorners[e]),o.deltaPos.multiplyScalar(this._sliceSpacing),o.deltaTex.multiplyScalar(this._sliceSpacing)}return u.push(o,n[t]),s[c++]=o,o}};for(e=0;e<3;e=e+1|0){var p=m.call(this,o,ie[o][e]);p.prev=(e+2)%3,p.next=(e+1)%3}for(var f=0;a>r;){for(;u.top().priority>=a;){var h=u.pop().object;if(!h.expired)if(h.endIndex!==s[h.prev].endIndex&&h.endIndex!==s[h.next].endIndex){h.expired=!0;var b=m.call(this,h.endIndex,ae[h.endIndex][h.startIndex]);b.prev=h.prev,s[h.prev].next=c-1,b.next=c;var y=m.call(this,h.endIndex,ae[h.endIndex][b.endIndex]);y.prev=c-2,y.next=h.next,s[y.next].prev=c-1,l=c-1}else{var v=void 0,g=void 0;h.endIndex===s[h.prev].endIndex?(v=s[h.prev],g=h):(v=h,g=s[h.next]),v.expired=!0,g.expired=!0;var w=m.call(this,h.endIndex,ae[h.endIndex][v.startIndex]);w.prev=v.prev,s[w.prev].next=c-1,w.next=g.next,s[w.next].prev=c-1,l=c-1}}var x=l,k=0;do{++k;var S=s[x];this._points.push(S.pos.x,S.pos.y,S.pos.z),this._texCoords.push(S.tex.x,S.tex.y,S.tex.z),S.pos.add(S.deltaPos),S.tex.add(S.deltaTex),x=S.next}while(x!==l);for(e=2;e<k;e=e+1|0)this._indexes.push(f,f+e-1,f+e);f+=k,a-=this._sliceSpacing}},se.texturePath=\"images/\";var le,ce=function(){this.contents=[],this.sorted=!1};ce.prototype={sort:function(){this.contents.sort(),this.sorted=!0},pop:function(){return this.sorted||this.sort(),this.contents.pop()},top:function(){return this.sorted||this.sort(),this.contents[this.contents.length-1]},push:function(e,t){this.contents.push({object:e,priority:t}),this.sorted=!1}};var ue=function(){!function(e){le=null,le={};for(var t=e.length,n=e[0].length,o=(new d.TextureLoader).load(\"images/crate.png\"),r=new d.MeshLambertMaterial({map:o}),i=(new d.TextureLoader).load(\"images/plaster.jpg\"),a=new d.MeshLambertMaterial({map:i}),s=(new d.TextureLoader).load(\"images/Tileable1b.png\"),l=new d.MeshLambertMaterial({map:s}),c=new p.Vec3(2,10,2),u=new p.Box(c),m=new d.BoxGeometry(1.9*c.x,3.8,1.9*c.z),f=new d.BoxGeometry(2*c.x,6,2*c.z),h=0;h<t;h++)for(var b=0;b<n;b++){var y=4*(h+t)-100,v=4*-(b+t)+100;if(2===e[h][b]){var g=new te.a(l,s,u,m,y,2,v);g.init(),Le.push(g.fixedCubeBody),Ve.push(g.fixedCubeMesh)}else if(1===e[h][b]){var w=new $(a,i,u,f,y,2,v);w.init(),Le.push(w.wallBody),Ve.push(w.wallMesh)}else if(3===e[h][b]){var x=new X(r,o,u,m,y,2,v,h,b);x.init(),Le.push(x.cubeBox),Ve.push(x.cubeMesh),le[\"\".concat(y,\"_\").concat(v)]=[!0,x]}else 0===e[h][b]&&(le[\"\".concat(y,\"_\").concat(v)]=!0)}}(z.getState().map)},me=function(e){return 4*Math.round(e/4)},de=function(e,t,n){for(var o=t.getElapsedTime(),r=function(e,t){e&&(e.update(o),e.mesh.position.x===me(Ne.position.x)&&e.mesh.position.z===me(Ne.position.z)&&(n||(n=!0,W.emit(\"kill_player\",{id:W.id,killedBy:t}),z.dispatch({type:\"KILL_PLAYER\"}))))},i=0;i<e.length;i++)if(e[i].bool)for(var a=1;a<=5;a++){var s=\"fire\";1!==a&&(s+=a),r(e[i][s],e[i].userId)}return n},pe=function(e,t,n,o){for(var r=0;r<e.length;r++)if(n[t[r]]&&!n[t[r]].dead){var i=n[t[r]],a=i.x,s=i.y,l=i.z;o[r].position.set(a,s,l),e[r].position.x=a,e[r].position.y=s,e[r].position.z=l}},fe=function(e){for(var t in e)if(e[t].length)for(var n=0;n<e[t].length;n++)e[t][n].loop(t);else delete e[t]},he=function(e,t,n,o,r,i){for(var a=n.length-o.length,s=0;s<i;s++){var l=o[s].position,c=l.x,u=l.y,m=l.z;n[s+a].position.x=c,n[s+a].position.y=u,n[s+a].position.z=m,r[s+a].position.copy(n[s+a].position)}for(var d=0;d<e.length;d++)t[d].position.copy(e[d].position)},be=function(e,t,n,o,r,i,a,s,l,c,u){for(var m=0;m<n.length;m++)e.remove(n[m]);for(var d=0;d<o.length;d++)t.remove(o[d]);for(var p=0;p<r.length;p++)t.remove(r[p]);for(var f=0;f<i.length;f++)e.remove(i[f]);for(var h=0;h<s.length;h++)s[h].clearTimeout&&clearTimeout(s[h].clearTimeout),s[h].bombBody&&t.remove(s[h].bombBody);for(var b=0;b<l.length;b++)e.remove(l[b]);for(var y=0;y<u.length;y++)e.remove(u[y]);for(var v=0;v<c.length;v++)t.remove(c[v])},ye=function(e,t,n){var o=n;n.set(0,0,1),e.unprojectVector(o,t);var r=new d.Ray(Ne.position,o.sub(Ne.position).normalize());n.copy(r.direction)},ve=function(e){return new Promise((function(t){setTimeout(t,e)}))},ge=function(e,t){e[t].length&&le[t][1].explode()&&W.emit(\"destroy_cube\",{j:le[t][1].j,k:le[t][1].k})},we=function(e,t,n,o,r){var i=new se(4,12,4,.5,t);return i.mesh.frustumCulled=!1,i.mesh.position.set(n,o,r),e.add(i.mesh),se.texturePath=\"../../public/assets/images\",i};function xe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var ke,Se,Ee,Oe,Me,_e,je,Ce,Pe,Ae,Fe=function(){function e(t,n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.id=t,this.userId=r,this.position=n,this.bool=!0,this.clearTimeout=null,this.material=o,this.bombMesh,this.bombBody,this.bombShape,this.fire,this.fire2,this.fire3,this.fire4,this.fire5}var t,n,o;return t=e,(n=[{key:\"init\",value:function(){z.getState().sound&&this.initSound(),this.bombShape=new p.Sphere(1.5);var e=new d.SphereGeometry(this.bombShape.radius,32,32);this.bombBody=new p.Body({mass:10}),this.bombBody.addShape(this.bombShape),this.bombMesh=new d.Mesh(e,this.material),Se.addBody(this.bombBody),Me.add(this.bombMesh),this.initFlashing()}},{key:\"explode\",value:function(){for(var e=me(this.bombBody.position.x),t=this.bombBody.position.y+4,n=me(this.bombBody.position.z),o=new d.SphereGeometry(.2,.2,.2),r=[],i=0;i<Xe;i++){var a=new R(Me,Se,{x:e,y:t,z:n},\"bomb\",o,this.material);r.push(a)}He[this.bombMesh.id]=r.slice(),Me.remove(this.bombMesh),Se.remove(this.bombBody);var s=\"\".concat(e,\"_\").concat(n),l=\"\".concat(e+4,\"_\").concat(n),c=\"\".concat(e-4,\"_\").concat(n),u=\"\".concat(e,\"_\").concat(n+4),m=\"\".concat(e,\"_\").concat(n-4);le[s]&&(this.fire=we(Me,Oe,e,t,n),ge(le,s)),le[l]&&(this.fire2=we(Me,Oe,e+4,t,n),ge(le,l)),le[c]&&(this.fire3=we(Me,Oe,e-4,t,n),ge(le,c)),le[u]&&(this.fire4=we(Me,Oe,e,t,n+4),ge(le,u)),le[m]&&(this.fire5=we(Me,Oe,e,t,n-4),ge(le,m)),this.removeFire()}},{key:\"removeFire\",value:function(){var e=this;setTimeout((function(){e.fire&&Me.remove(e.fire.mesh),e.fire2&&Me.remove(e.fire2.mesh),e.fire3&&Me.remove(e.fire3.mesh),e.fire4&&Me.remove(e.fire4.mesh),e.fire5&&Me.remove(e.fire5.mesh),e.fire=null,e.fire2=null,e.fire3=null,e.fire4=null,e.fire5=null,e.bool=!1}),1e3)}},{key:\"initSound\",value:function(){var e=new d.PositionalAudio(Be);(new d.AudioLoader).load(\"sounds/explosion.mp3\",(function(t){e.setBuffer(t),e.setRefDistance(10),e.play()}))}},{key:\"initFlashing\",value:function(){var e,t=this,n=!1;setTimeout((function(){e=setInterval((function(){n?n&&t.bombMesh.material.color.setHex(0):t.bombMesh.material.color.setHex(5308416),n=!n}),100)}),800),this.clearTimeout=setTimeout((function(){t.explode(),clearInterval(e),t.bombMesh.material=t.material}),1700)}}])&&xe(t.prototype,n),o&&xe(t,o),e}();function ze(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}var Te,Re,Be,Ne,De=Date.now(),Ge=[],Ie=[],Le=[],Ve=[],Ke=[],Ue=[],qe=[],We=[],Ye=[],He={},Xe=50,Je=[],Qe=1,Ze=!1,$e=!0,et=1/60,tt=0,nt=0,ot=[{x:11.5,y:1.5,z:-4},{x:-36,y:1.5,z:36},{x:12.1,y:1.5,z:36.4},{x:-36.4,y:1.5,z:-4}],rt=new d.MeshPhongMaterial({color:0,specular:328965,shininess:100});var it=new p.Sphere(1.5),at=(new d.SphereGeometry(it.radius,32,32),new d.Vector3),st=8,lt=new d.Projector;function ct(){Oe.aspect=window.innerWidth/window.innerHeight,Oe.updateProjectionMatrix(),_e.setSize(window.innerWidth,window.innerHeight)}function ut(){setTimeout((function(){requestAnimationFrame(ut)}),1e3/60),Te.update(Date.now()-De),_e.render(Me,Oe),De=Date.now()}var mt=n(70),dt=n.n(mt),pt={largeIcon:{width:60,height:60,fontSize:60,color:\"#fff\"},large:{width:120,height:120,padding:30}},ft={muteSound:function(){return{type:\"MUTE\"}},unmuteSound:function(){return{type:\"UNMUTE\"}}},ht=Object(s.b)((function(e){return{sound:A(e)}}),ft)((function(e){var t=e.sound,n=e.muteSound,o=e.unmuteSound,i=t?n:o,a=t?\"volume_up\":\"volume_off\";return r.a.createElement(\"div\",{className:\"mute\"},r.a.createElement(dt.a,{onClick:i,disableTouchRipple:!0,iconClassName:\"material-icons\",iconStyle:pt.largeIcon,style:pt.large},a))}));function bt(e){return(bt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function yt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function vt(e){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gt(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xt=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),o=this,(n=!(r=vt(t).call(this,e))||\"object\"!==bt(r)&&\"function\"!=typeof r?gt(o):r).state={instructions:!0},n.handleClick=n.handleClick.bind(gt(n)),n}var n,o,i;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(t,e),n=t,(o=[{key:\"componentDidMount\",value:function(){var e=this,t=document.body,n=this.refs.blocker,o=this.refs.instructions;document.addEventListener(\"pointerlockchange\",(function(r){document.pointerLockElement===t||document.mozPointerLockElement===t||document.webkitPointerLockElement===t?(Te.enabled=!0,n.style.display=\"none\"):(Te.enabled=!1,n.style.display=\"-webkit-box\",n.style.display=\"-moz-box\",n.style.display=\"box\",o.style.display=\"\",e.setState({instructions:!0}))}),!1)}},{key:\"handleClick\",value:function(e){var t=document.body;t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock,t.requestPointerLock(),this.setState({instructions:!1})}},{key:\"render\",value:function(){return r.a.createElement(\"div\",{id:\"blocker\",ref:\"blocker\"},this.state.instructions&&r.a.createElement(\"div\",{id:\"instructions\",ref:\"instructions\",onClick:this.handleClick},r.a.createElement(\"span\",{className:\"blocker-title\"},\"Click to play\"),r.a.createElement(\"br\",null),r.a.createElement(\"span\",{className:\"blocker-instruction-controls\"},\"(W,A,S,D = Move, MOUSE = Look, CLICK = Plant Bomb, SPACE = Throw Bomb)\"),r.a.createElement(\"br\",null),r.a.createElement(\"span\",{className:\"blocker-instruction-controls\"},\"(ENTER = Open Chat, ` = Close Chat, ESC = Instructions)\"),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"span\",{className:\"blocker-instruction-controls\"},\" Tips: \"),r.a.createElement(\"br\",null),r.a.createElement(\"span\",{className:\"blocker-instruction-tips\"},\"Wooden crates can be broken with bombs to navigate the map.\"),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"span\",{className:\"blocker-instruction-tips\"},\"You cannot throw bombs over blocks or crates.\"),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"span\",{className:\"blocker-instruction-tips\"},\"You can throw your bombs at other players' bombs to move them.\"),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"span\",{className:\"blocker-instruction-tips\"},\"Be careful not to kill yourself!\"),r.a.createElement(\"br\",null)),r.a.createElement(ht,null))}}])&&yt(n.prototype,o),i&&yt(n,i),t}(o.Component),kt=n(172),St=n.n(kt),Et=n(71),Ot=n.n(Et);function Mt(e){return(Mt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function _t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ct(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Pt(e,t){return(Pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var At={colorGray:{color:\"#D5D1D0\"},colorRed:{color:\"#CC2D2D\"},borderColor:{borderColor:\"#CC2D2D\"},buttonStyle:{display:\"block\",borderColor:\"none\"}},Ft=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),o=this,(n=!(r=jt(t).call(this,e))||\"object\"!==Mt(r)&&\"function\"!=typeof r?Ct(o):r).state={nickname:\"\"},n.updateNickname=n.updateNickname.bind(Ct(n)),n.setNickname=n.setNickname.bind(Ct(n)),n}var n,o,i;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pt(e,t)}(t,e),n=t,(o=[{key:\"updateNickname\",value:function(e){this.setState({nickname:e.target.value})}},{key:\"setNickname\",value:function(){W.emit(\"set_nickname\",this.state.nickname),this.props.startGame()}},{key:\"render\",value:function(){return r.a.createElement(\"div\",{id:\"backgroundimage\"},r.a.createElement(\"div\",{id:\"name\",className:\"center\"},r.a.createElement(\"h1\",{id:\"title\"},\"Bombanauts\"),r.a.createElement(\"div\",{id:\"nickname-form\"},r.a.createElement(Ot.a,{id:\"nickname\",onChange:this.updateNickname,maxLength:15,hintText:\"Nickname\",hintStyle:At.colorGray,floatingLabelText:\"Nickname\",floatingLabelStyle:At.colorRed,underlineFocusStyle:At.borderColor,inputStyle:At.colorGray}),r.a.createElement(St.a,{disabled:!this.state.nickname,onClick:this.setNickname,backgroundColor:At.colorRed.color,disabledBackgroundColor:At.colorGray.color,label:\"Play\",style:At.buttonStyle}))),r.a.createElement(ht,null),r.a.createElement(dt.a,{href:\"https://github.com/Bombanauts/Bombanauts\",target:\"_blank\",disableTouchRipple:!0,iconClassName:\"material-icons\",className:\"git\",iconStyle:pt.largeIcon,hoveredStyle:At.colorRed,style:pt.large},\"code\"),r.a.createElement(\"img\",{id:\"bomberman\",src:\"/images/bomberman.gif\"}))}}])&&_t(n.prototype,o),i&&_t(n,i),t}(o.Component),zt={startGame:function(){return{type:\"START_GAME\"}}},Tt=Object(s.b)(null,zt)(Ft),Rt=Object(s.b)((function(e){return{killerNickname:O(e),victimNickname:M(e)}}))((function(e){var t=e.killerNickname,n=e.victimNickname;return r.a.createElement(\"div\",null,0!==t.length&&(t===n?r.a.createElement(\"h1\",{className:\"center\",id:\"announcer\"},t,\" committed suicide.\"):r.a.createElement(\"h1\",{className:\"center\",id:\"announcer\"},t,\" killed \",n,\".\")))}));function Bt(e){return(Bt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Nt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Dt(e){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gt(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function It(e,t){return(It=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Lt={borderStyles:{borderColor:\"#ffffff\"},fontStyles:{ontSize:15,color:\"#ffffff\"}},Vt=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),o=this,(n=!(r=Dt(t).call(this,e))||\"object\"!==Bt(r)&&\"function\"!=typeof r?Gt(o):r).state={message:\"\"},n.submitMessage=n.submitMessage.bind(Gt(n)),n.handleMessageChange=n.handleMessageChange.bind(Gt(n)),n}var n,o,i;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&It(e,t)}(t,e),n=t,(o=[{key:\"componentDidMount\",value:function(){var e=this;window.addEventListener(\"keydown\",(function(t){13===t.keyCode&&(e.props.startChat(),Te.enabled=!1),192===t.keyCode&&(e.props.stopChat(),Te.enabled=!0)}),!1)}},{key:\"componentDidUpdate\",value:function(){this.props.isChatting&&this.refs.chat.focus()}},{key:\"submitMessage\",value:function(e){13===e.keyCode&&this.state.message.length>0&&(Te.enabled=!0,W.emit(\"new_message\",{id:W.id,message:this.state.message}),this.setState({message:\"\"}),this.props.stopChat())}},{key:\"handleMessageChange\",value:function(e){this.setState({message:e.target.value})}},{key:\"render\",value:function(){var e=this.handleMessageChange,t=this.submitMessage,n=this.props,o=n.lastFiveMessages,i=n.isChatting,a=this.state.message,s=o.map((function(e,t){return r.a.createElement(\"h1\",{key:\"\".concat(t),className:\"chat-message\"},e)}));return r.a.createElement(\"div\",{className:\"chat-box\"},s,i?r.a.createElement(Ot.a,{id:\"chat\",ref:\"chat\",onChange:e,onKeyDown:t,value:a,underlineFocusStyle:Lt.borderStyles,inputStyle:Lt.fontStyles}):r.a.createElement(\"h1\",{className:\"chat-message\"},\"Press Enter to Chat / Back Tick to Exit Chat\"))}}])&&Nt(n.prototype,o),i&&Nt(n,i),t}(o.Component),Kt={startChat:function(){return{type:\"START_CHAT\"}},stopChat:function(){return{type:\"STOP_CHAT\"}}},Ut=Object(s.b)((function(e){return{isChatting:C(e),isPlaying:k(e),lastFiveMessages:P(e)}}),Kt)(Vt);function qt(e){return(qt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Wt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Yt(e,t){return!t||\"object\"!==qt(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function Ht(e){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xt(e,t){return(Xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Jt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),(n=Yt(this,Ht(t).call(this,e))).state={players:{},ownInfo:{}},n}var n,o,i;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xt(e,t)}(t,e),n=t,(o=[{key:\"componentDidMount\",value:function(){var e=this;ve(100).then((function(){var t=z.getState();e.setState({players:t.players,ownInfo:t.ownInfo})}))}},{key:\"render\",value:function(){var e=this.state.ownInfo,t=this.state.players,n=Object.keys(t).map((function(e){return t[e]}));return n.push(e),n.sort((function(e,t){return t.score-e.score})),r.a.createElement(\"div\",{id:\"scores\"},r.a.createElement(\"ul\",{id:\"scoreslist\"},r.a.createElement(\"li\",{key:\"score\"},r.a.createElement(\"h3\",null,\"Score:\")),r.a.createElement(\"hr\",null),n.length&&n.map((function(e,t){return r.a.createElement(\"li\",{key:\"\".concat(t)},\"\".concat(e.nickname,\":   \").concat(e.score))}))))}}])&&Wt(n.prototype,o),i&&Wt(n,i),t}(o.Component),Qt=function(e){var t,n=e.winner,o=z.getState().players;return W.id===n&&n?(t=\"You win!\",W.emit(\"reset_world\",{})):n&&(t=o[n].nickname+\" wins!\"),r.a.createElement(\"div\",null,r.a.createElement(\"h1\",{id:\"winner\",className:\"center\"},t),r.a.createElement(Jt,null))},Zt=function(){return r.a.createElement(\"div\",{className:\"dead-overlay\"},r.a.createElement(\"span\",{className:\"dead-message\"},\"You died.\"))},$t=function(e){var t=Math.floor(e/60)||0;t=t.toString();var n=Math.floor(e-60*t);return n=n<10?\"0\"+n.toString():n.toString(),\"\".concat(t,\":\").concat(n)},en=Object(s.b)((function(e){return{time:g(e),isPlaying:k(e)}}))((function(e){return r.a.createElement(\"div\",{className:\"timer\"},e.time?$t(e.time):\"\")}));function tn(e){return(tn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function nn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function on(e,t){return!t||\"object\"!==tn(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function rn(e){return(rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function an(e,t){return(an=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),on(this,rn(t).apply(this,arguments))}var n,o,i;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&an(e,t)}(t,e),n=t,(o=[{key:\"componentDidMount\",value:function(){ve(500).then((function(){!function(){W&&W.emit(\"get_players\",{}),(Se=new p.World).quatNormalizeSkip=0,Se.quatNormalizeFast=!1;var e=new p.GSSolver;Se.defaultContactMaterial.contactEquationStiffness=1e9,Se.defaultContactMaterial.contactEquationRelaxation=4,e.iterations=7,e.tolerance=.1,Se.solver=new p.SplitSolver(e),Se.solver.iterations=20,Se.solver.tolerance=0,Se.gravity.set(0,-40,0),Se.broadphase=new p.NaiveBroadphase,Ee=new p.Material(\"groundMaterial\");var t=new p.ContactMaterial(Ee,Ee,{friction:.7,restitution:.3,contactEquationStiffness:1e8,contactEquationRelaxation:3,frictionEquationStiffness:1e8,frictionEquationRegularizationTime:3});Se.addContactMaterial(t),ke=new p.Sphere(1.3),(Ne=new p.Body({mass:100,material:Ee})).addShape(ke),Ne.position.set(0,5,0),Ne.linearDamping=.9,Se.addBody(Ne);var n=new p.Plane,o=new p.Body({mass:0});o.addShape(n),o.quaternion.setFromAxisAngle(new p.Vec3(1,0,0),-Math.PI/2),Se.addBody(o)}(),function(){(Oe=new d.PerspectiveCamera(55,window.innerWidth/window.innerHeight,.1,1500)).position.set(0,3,0),Me=new d.Scene;var e=new d.AmbientLight(16777215);Me.add(e),(je=new d.SpotLight(16777215)).position.set(10,30,20),je.target.position.set(0,5,0),je.castShadow=!0,Me.add(je),Re=new d.Clock,Te=new Y(Oe,Ne),Me.add(Te.getObject()),(Ce=new d.PlaneGeometry(125,125,50,50)).applyMatrix((new d.Matrix4).makeRotationX(-Math.PI/2));var t=(new d.TextureLoader).load(\"images/grasslight-big.jpg\");Pe=new d.MeshLambertMaterial({map:t}),t.wrapS=d.RepeatWrapping,t.wrapT=d.RepeatWrapping,t.repeat.x=20,t.repeat.y=20,Ae=new d.Mesh(Ce,Pe),Me.add(Ae);var n=new d.SphereGeometry(1e3,32,32),o=new d.MeshBasicMaterial({color:\"#00bfff\"}),r=new d.Mesh(n,o);r.material.side=d.BackSide,Me.add(r),(_e=new d.WebGLRenderer).setSize(window.innerWidth,window.innerHeight),document.body.appendChild(_e.domElement),window.addEventListener(\"resize\",ct,!1),ue(),Ne.position.x=100,Ne.position.y=100,Ne.position.z=100,Be=new d.AudioListener,Oe.add(Be);var i,a=z.getState().players;for(var s in a)a[s].nickname&&((i=new N(s,a[s].x,a[s].y,a[s].z,a[s].dead,a[s].nickname)).init(),Ke.push(i.playerBox),Ue.push(i.playerMesh),Ye.push(i));function l(e){if(1==Te.enabled&&!Ze&&$e){var t=Ne.position.x,n=Ne.position.y,o=Ne.position.z,r=new Fe(Qe++,{x:t,y:n,z:o},rt,W.id);r.init(),$e=!1,setTimeout((function(){$e=!0}),500);var i={id:r.id,position:r.bombBody.position,created:Date.now()};W.emit(\"add_bomb\",{userId:W.id,bombId:i.id,position:{x:t,y:n,z:o}}),setTimeout((function(){qe=qe.filter((function(e){return e.id!==i.id})),We=We.filter((function(e){return r.bombMesh.id!==e.id}))}),2e3),qe.push(i),Je.push(r),We.push(r.bombMesh),ye(lt,Oe,at),r.bombBody.velocity.set(at.x*e,at.y*e,at.z*e),t+=at.x*(1.02*ke.radius+r.bombShape.radius),n+=at.y*(1.02*ke.radius+r.bombShape.radius),o+=at.z*(1.02*ke.radius+r.bombShape.radius),r.bombBody.position.set(t,n,o),r.bombMesh.position.set(t,n,o)}}Te&&(window.addEventListener(\"click\",(function(e){l(st)})),window.addEventListener(\"keydown\",(function(e){32===e.keyCode&&l(40)}))),setInterval((function(){W&&W.emit(\"update_world\",{playerId:W.id,playerPosition:{x:Ne.position.x,y:Ne.position.y,z:Ne.position.z},dead:Ze,playerBombs:qe}),50==++nt&&(Ne.position.x=ot[U.indexOf(W.id)].x,Ne.position.y=5,Ne.position.z=ot[U.indexOf(W.id)].z),Se.step(et);var e=z.getState(),t=e.players,n=Object.keys(t),o=e.bombs,r=[],i=function(e){var t=o[e].map((function(t){return t.userId=e,t}));r.push.apply(r,ze(t))};for(var a in o)i(a);if(n.length!==Ke.length)for(var s in Ke.forEach((function(e){Se.remove(e)})),Ue.forEach((function(e){Me.remove(e)})),Ke=[],Ue=[],Ye=[],t)if(t[s].nickname){var l=void 0;(l=new N(s,t[s].x,t[s].y,t[s].z,!1)).init(),Ke.push(l.playerBox),Ue.push(l.playerMesh),Ye.push(l)}if(r.length>tt){var c=r[r.length-1],u=new Fe(c.id,c.position,rt,c.userId);u.init(),Ge.push(u.bombBody),Je.push(u),Ie.push(u.bombMesh)}tt=r.length,Ze=de(Je,Re,Ze),pe(Ke,n,t,Ue),fe(He),he(qe,We,Ge,r,Ie,tt)}),1e3/60)}(),ut()}))}},{key:\"render\",value:function(){var e=this.props,t=e.isPlaying,n=e.winner,o=e.dead;return r.a.createElement(\"div\",null,t&&r.a.createElement(Ut,null),t&&r.a.createElement(Rt,null),!t&&r.a.createElement(Tt,null),n&&r.a.createElement(Qt,{winner:n}),r.a.createElement(xt,{dead:o}),o&&r.a.createElement(Zt,null),t&&!n&&r.a.createElement(en,null))}}])&&nn(n.prototype,o),i&&nn(n,i),t}(o.Component),ln=Object(s.b)((function(e){return{dead:y(e),winner:x(e),isPlaying:k(e)}}))(sn);n(386);c()();a.a.render(r.a.createElement(s.a,{store:z},r.a.createElement((function(){return r.a.createElement(m.a,null,r.a.createElement(ln,null))}),null)),document.getElementById(\"app\"))}});","extractedComments":[]}