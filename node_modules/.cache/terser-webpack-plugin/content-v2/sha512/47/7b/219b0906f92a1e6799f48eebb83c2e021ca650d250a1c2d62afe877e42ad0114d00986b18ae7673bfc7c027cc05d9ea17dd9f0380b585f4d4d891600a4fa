{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[function(t,e,n){\"use strict\";function r(){}n.d(e,\"bb\",(function(){return ni})),n.d(e,\"V\",(function(){return oi})),n.d(e,\"z\",(function(){return Er})),n.d(e,\"t\",(function(){return mi})),n.d(e,\"I\",(function(){return gi})),n.d(e,\"r\",(function(){return yi})),n.d(e,\"k\",(function(){return Mo})),n.d(e,\"Y\",(function(){return Co})),n.d(e,\"w\",(function(){return xo})),n.d(e,\"o\",(function(){return _o})),n.d(e,\"v\",(function(){return oa})),n.d(e,\"d\",(function(){return Ua})),n.d(e,\"X\",(function(){return Oo})),n.d(e,\"b\",(function(){return Do})),n.d(e,\"G\",(function(){return Rr})),n.d(e,\"c\",(function(){return Va})),n.d(e,\"K\",(function(){return Ga})),n.d(e,\"h\",(function(){return Mr})),n.d(e,\"q\",(function(){return _r})),n.d(e,\"n\",(function(){return or})),n.d(e,\"F\",(function(){return nr})),n.d(e,\"j\",(function(){return as})),n.d(e,\"T\",(function(){return Hn})),n.d(e,\"y\",(function(){return Ae})),n.d(e,\"m\",(function(){return qn})),n.d(e,\"Z\",(function(){return Ce})),n.d(e,\"M\",(function(){return Te})),n.d(e,\"W\",(function(){return Hi})),n.d(e,\"H\",(function(){return Ar})),n.d(e,\"f\",(function(){return Sr})),n.d(e,\"S\",(function(){return lo})),n.d(e,\"J\",(function(){return vi})),n.d(e,\"D\",(function(){return uo})),n.d(e,\"C\",(function(){return po})),n.d(e,\"B\",(function(){return vo})),n.d(e,\"A\",(function(){return ar})),n.d(e,\"s\",(function(){return di})),n.d(e,\"x\",(function(){return Dn})),n.d(e,\"p\",(function(){return mr})),n.d(e,\"g\",(function(){return sr})),n.d(e,\"e\",(function(){return y})),n.d(e,\"l\",(function(){return b})),n.d(e,\"E\",(function(){return _})),n.d(e,\"ab\",(function(){return E})),n.d(e,\"a\",(function(){return C})),n.d(e,\"U\",(function(){return vt})),n.d(e,\"i\",(function(){return gt})),n.d(e,\"u\",(function(){return _t})),n.d(e,\"N\",(function(){return Ut})),n.d(e,\"R\",(function(){return Gt})),n.d(e,\"O\",(function(){return qt})),n.d(e,\"P\",(function(){return Xt})),n.d(e,\"Q\",(function(){return Jt})),n.d(e,\"L\",(function(){return Ds})),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,\"name\",{get:function(){return this.toString().match(/^\\s*function\\s*([^\\(\\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError(\"Cannot convert undefined or null to object\");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),r.prototype={addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;var n=[],r=0,i=e.length;for(r=0;r<i;r++)n[r]=e[r];for(r=0;r<i;r++)n[r].call(this,t)}}}};var i,o,a,s,l,u,c=\"84\",h=0,p=1,d=2,f=0,m=1,v=2,g=0,y=1,b=2,x=1,w=2,_=0,M=1,E=2,S=0,T=1,C=2,A=3,P=4,R=5,L=100,O=101,I=102,N=103,k=104,D=200,F=201,B=202,U=203,z=204,j=205,V=206,W=207,G=208,H=209,q=210,X=0,Y=1,K=2,Z=3,Q=4,J=5,$=6,tt=7,et=0,nt=1,rt=2,it=0,ot=1,at=2,st=3,lt=4,ut=301,ct=302,ht=303,pt=304,dt=305,ft=306,mt=307,vt=1e3,gt=1001,yt=1002,bt=1003,xt=1004,wt=1005,_t=1006,Mt=1007,Et=1008,St=1009,Tt=1010,Ct=1011,At=1012,Pt=1013,Rt=1014,Lt=1015,Ot=1016,It=1017,Nt=1018,kt=1019,Dt=1020,Ft=1021,Bt=1022,Ut=1023,zt=1024,jt=1025,Vt=1026,Wt=1027,Gt=2001,Ht=2002,qt=2003,Xt=2004,Yt=2100,Kt=2101,Zt=2102,Qt=2103,Jt=2151,$t=2201,te=2400,ee=0,ne=1,re=2,ie=3e3,oe=3001,ae=3007,se=3002,le=3004,ue=3005,ce=3006,he=3200,pe=3201,de={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:(o=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\".split(\"\"),a=new Array(36),s=0,function(){for(var t=0;t<36;t++)8===t||13===t||18===t||23===t?a[t]=\"-\":14===t?a[t]=\"4\":(s<=2&&(s=33554432+16777216*Math.random()|0),i=15&s,s>>=4,a[t]=o[19===t?3&i|8:i]);return a.join(\"\")}),clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*de.DEG2RAD},radToDeg:function(t){return t*de.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}};function fe(t,e){this.x=t||0,this.y=e||0}fe.prototype={constructor:fe,isVector2:!0,get width(){return this.x},set width(t){this.x=t},get height(){return this.y},set height(t){this.y=t},set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error(\"index is out of range: \"+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error(\"index is out of range: \"+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn(\"THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\"),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn(\"THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\"),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(t,e){return void 0===l&&(l=new fe,u=new fe),l.set(t,t),u.set(e,e),this.clamp(l,u)},clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn(\"THREE.Vector2: offset has been removed from .fromBufferAttribute().\"),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,o=this.y-t.y;return this.x=i*n-o*r+t.x,this.y=i*r+o*n+t.y,this}};var me,ve,ge,ye,be,xe,we=0;function _e(t,e,n,r,i,o,a,s,l,u){Object.defineProperty(this,\"id\",{value:we++}),this.uuid=de.generateUUID(),this.name=\"\",this.image=void 0!==t?t:_e.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:_e.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:gt,this.wrapT=void 0!==r?r:gt,this.magFilter=void 0!==i?i:_t,this.minFilter=void 0!==o?o:Et,this.anisotropy=void 0!==l?l:1,this.format=void 0!==a?a:Ut,this.type=void 0!==s?s:St,this.offset=new fe(0,0),this.repeat=new fe(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==u?u:ie,this.version=0,this.onUpdate=null}function Me(t,e,n,r){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==r?r:1}function Ee(t,e,n){this.uuid=de.generateUUID(),this.width=t,this.height=e,this.scissor=new Me(0,0,t,e),this.scissorTest=!1,this.viewport=new Me(0,0,t,e),void 0===(n=n||{}).minFilter&&(n.minFilter=_t),this.texture=new _e(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function Se(t,e,n){Ee.call(this,t,e,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function Te(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==r?r:1}function Ce(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}function Ae(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error(\"THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.\")}function Pe(t,e,n,r,i,o,a,s,l,u){t=void 0!==t?t:[],e=void 0!==e?e:ut,_e.call(this,t,e,n,r,i,o,a,s,l,u),this.flipY=!1}_e.DEFAULT_IMAGE=void 0,_e.DEFAULT_MAPPING=300,_e.prototype={constructor:_e,isTexture:!0,set needsUpdate(t){!0===t&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){if(void 0!==t.textures[this.uuid])return t.textures[this.uuid];var e={metadata:{version:4.4,type:\"Texture\",generator:\"Texture.toJSON\"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var n=this.image;void 0===n.uuid&&(n.uuid=de.generateUUID()),void 0===t.images[n.uuid]&&(t.images[n.uuid]={uuid:n.uuid,url:function(t){var e;return void 0!==t.toDataURL?e=t:((e=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"canvas\")).width=t.width,e.height=t.height,e.getContext(\"2d\").drawImage(t,0,0,t.width,t.height)),e.width>2048||e.height>2048?e.toDataURL(\"image/jpeg\",.6):e.toDataURL(\"image/png\")}(n)}),e.image=n.uuid}return t.textures[this.uuid]=e,e},dispose:function(){this.dispatchEvent({type:\"dispose\"})},transformUv:function(t){if(300===this.mapping){if(t.multiply(this.repeat),t.add(this.offset),t.x<0||t.x>1)switch(this.wrapS){case vt:t.x=t.x-Math.floor(t.x);break;case gt:t.x=t.x<0?0:1;break;case yt:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case vt:t.y=t.y-Math.floor(t.y);break;case gt:t.y=t.y<0?0:1;break;case yt:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}},Object.assign(_e.prototype,r.prototype),Me.prototype={constructor:Me,isVector4:!0,set:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error(\"index is out of range: \"+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error(\"index is out of range: \"+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn(\"THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\"),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn(\"THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\"),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this.w*=t):(this.x=0,this.y=0,this.z=0,this.w=0),this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*e+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*e+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*e+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,n,r,i,o=t.elements,a=o[0],s=o[4],l=o[8],u=o[1],c=o[5],h=o[9],p=o[2],d=o[6],f=o[10];if(Math.abs(s-u)<.01&&Math.abs(l-p)<.01&&Math.abs(h-d)<.01){if(Math.abs(s+u)<.1&&Math.abs(l+p)<.1&&Math.abs(h+d)<.1&&Math.abs(a+c+f-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var m=(a+1)/2,v=(c+1)/2,g=(f+1)/2,y=(s+u)/4,b=(l+p)/4,x=(h+d)/4;return m>v&&m>g?m<.01?(n=0,r=.707106781,i=.707106781):(r=y/(n=Math.sqrt(m)),i=b/n):v>g?v<.01?(n=.707106781,r=0,i=.707106781):(n=y/(r=Math.sqrt(v)),i=x/r):g<.01?(n=.707106781,r=.707106781,i=0):(n=b/(i=Math.sqrt(g)),r=x/i),this.set(n,r,i,e),this}var w=Math.sqrt((d-h)*(d-h)+(l-p)*(l-p)+(u-s)*(u-s));return Math.abs(w)<.001&&(w=1),this.x=(d-h)/w,this.y=(l-p)/w,this.z=(u-s)/w,this.w=Math.acos((a+c+f-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new Me,e=new Me),t.set(n,n,n,n),e.set(r,r,r,r),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn(\"THREE.Vector4: offset has been removed from .fromBufferAttribute().\"),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}},Ee.prototype={constructor:Ee,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:\"dispose\"})}},Object.assign(Ee.prototype,r.prototype),Se.prototype=Object.create(Ee.prototype),Se.prototype.constructor=Se,Se.prototype.isWebGLRenderTargetCube=!0,Te.prototype={constructor:Te,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get w(){return this._w},set w(t){this._w=t,this.onChangeCallback()},set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!1===(t&&t.isEuler))throw new Error(\"THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.\");var n=Math.cos(t._x/2),r=Math.cos(t._y/2),i=Math.cos(t._z/2),o=Math.sin(t._x/2),a=Math.sin(t._y/2),s=Math.sin(t._z/2),l=t.order;return\"XYZ\"===l?(this._x=o*r*i+n*a*s,this._y=n*a*i-o*r*s,this._z=n*r*s+o*a*i,this._w=n*r*i-o*a*s):\"YXZ\"===l?(this._x=o*r*i+n*a*s,this._y=n*a*i-o*r*s,this._z=n*r*s-o*a*i,this._w=n*r*i+o*a*s):\"ZXY\"===l?(this._x=o*r*i-n*a*s,this._y=n*a*i+o*r*s,this._z=n*r*s+o*a*i,this._w=n*r*i-o*a*s):\"ZYX\"===l?(this._x=o*r*i-n*a*s,this._y=n*a*i+o*r*s,this._z=n*r*s-o*a*i,this._w=n*r*i+o*a*s):\"YZX\"===l?(this._x=o*r*i+n*a*s,this._y=n*a*i+o*r*s,this._z=n*r*s-o*a*i,this._w=n*r*i-o*a*s):\"XZY\"===l&&(this._x=o*r*i-n*a*s,this._y=n*a*i-o*r*s,this._z=n*r*s+o*a*i,this._w=n*r*i+o*a*s),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,n=t.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],l=n[9],u=n[2],c=n[6],h=n[10],p=r+s+h;return p>0?(e=.5/Math.sqrt(p+1),this._w=.25/e,this._x=(c-l)*e,this._y=(o-u)*e,this._z=(a-i)*e):r>s&&r>h?(e=2*Math.sqrt(1+r-s-h),this._w=(c-l)/e,this._x=.25*e,this._y=(i+a)/e,this._z=(o+u)/e):s>h?(e=2*Math.sqrt(1+s-r-h),this._w=(o-u)/e,this._x=(i+a)/e,this._y=.25*e,this._z=(l+c)/e):(e=2*Math.sqrt(1+h-r-s),this._w=(a-i)/e,this._x=(o+u)/e,this._y=(l+c)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e;return function(n,r){return void 0===t&&(t=new Ce),(e=n.dot(r)+1)<1e-6?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,r),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn(\"THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.\"),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var n=t._x,r=t._y,i=t._z,o=t._w,a=e._x,s=e._y,l=e._z,u=e._w;return this._x=n*u+o*a+r*l-i*s,this._y=r*u+o*s+i*a-n*l,this._z=i*u+o*l+n*s-r*a,this._w=o*u-n*a-r*s-i*l,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*t._w+n*t._x+r*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=Math.sqrt(1-a*a);if(Math.abs(s)<.001)return this._w=.5*(o+this._w),this._x=.5*(n+this._x),this._y=.5*(r+this._y),this._z=.5*(i+this._z),this;var l=Math.atan2(s,a),u=Math.sin((1-e)*l)/s,c=Math.sin(e*l)/s;return this._w=o*u+this._w*c,this._x=n*u+this._x*c,this._y=r*u+this._y*c,this._z=i*u+this._z*c,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},Object.assign(Te,{slerp:function(t,e,n,r){return n.copy(t).slerp(e,r)},slerpFlat:function(t,e,n,r,i,o,a){var s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3],h=i[o+0],p=i[o+1],d=i[o+2],f=i[o+3];if(c!==f||s!==h||l!==p||u!==d){var m=1-a,v=s*h+l*p+u*d+c*f,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var b=Math.sqrt(y),x=Math.atan2(b,v*g);m=Math.sin(m*x)/b,a=Math.sin(a*x)/b}var w=a*g;if(s=s*m+h*w,l=l*m+p*w,u=u*m+d*w,c=c*m+f*w,m===1-a){var _=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=_,l*=_,u*=_,c*=_}}t[e]=s,t[e+1]=l,t[e+2]=u,t[e+3]=c}}),Ce.prototype={constructor:Ce,isVector3:!0,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error(\"index is out of range: \"+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error(\"index is out of range: \"+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn(\"THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\"),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn(\"THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\"),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn(\"THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.\"),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(t){return!1===(t&&t.isEuler)&&console.error(\"THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.\"),void 0===ge&&(ge=new Te),this.applyQuaternion(ge.setFromEuler(t))},applyAxisAngle:function(){var t;return function(e,n){return void 0===t&&(t=new Te),this.applyQuaternion(t.setFromAxisAngle(e,n))}}(),applyMatrix3:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;this.x=i[0]*e+i[4]*n+i[8]*r+i[12],this.y=i[1]*e+i[5]*n+i[9]*r+i[13],this.z=i[2]*e+i[6]*n+i[10]*r+i[14];var o=i[3]*e+i[7]*n+i[11]*r+i[15];return this.divideScalar(o)},applyQuaternion:function(t){var e=this.x,n=this.y,r=this.z,i=t.x,o=t.y,a=t.z,s=t.w,l=s*e+o*r-a*n,u=s*n+a*e-i*r,c=s*r+i*n-o*e,h=-i*e-o*n-a*r;return this.x=l*s+h*-i+u*-a-c*-o,this.y=u*s+h*-o+c*-i-l*-a,this.z=c*s+h*-a+l*-o-u*-i,this},project:function(t){return void 0===ve&&(ve=new Ae),ve.multiplyMatrices(t.projectionMatrix,ve.getInverse(t.matrixWorld)),this.applyMatrix4(ve)},unproject:function(){var t;return function(e){return void 0===t&&(t=new Ae),t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyMatrix4(t)}}(),transformDirection:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new Ce,e=new Ce),t.set(n,n,n),e.set(r,r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){if(void 0!==e)return console.warn(\"THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.\"),this.crossVectors(t,e);var n=this.x,r=this.y,i=this.z;return this.x=r*t.z-i*t.y,this.y=i*t.x-n*t.z,this.z=n*t.y-r*t.x,this},crossVectors:function(t,e){var n=t.x,r=t.y,i=t.z,o=e.x,a=e.y,s=e.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(t){return void 0===me&&(me=new Ce),me.copy(this).projectOnVector(t),this.sub(me)},reflect:function(){var t;return function(e){return void 0===t&&(t=new Ce),this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(de.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){return this.setFromMatrixColumn(t,3)},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this},setFromMatrixColumn:function(t,e){if(\"number\"==typeof t){console.warn(\"THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).\");var n=t;t=e,e=n}return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn(\"THREE.Vector3: offset has been removed from .fromBufferAttribute().\"),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}},Ae.prototype={constructor:Ae,isMatrix4:!0,set:function(t,e,n,r,i,o,a,s,l,u,c,h,p,d,f,m){var v=this.elements;return v[0]=t,v[4]=e,v[8]=n,v[12]=r,v[1]=i,v[5]=o,v[9]=a,v[13]=s,v[2]=l,v[6]=u,v[10]=c,v[14]=h,v[3]=p,v[7]=d,v[11]=f,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Ae).fromArray(this.elements)},copy:function(t){return this.elements.set(t.elements),this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(){var t;return function(e){void 0===t&&(t=new Ce);var n=this.elements,r=e.elements,i=1/t.setFromMatrixColumn(e,0).length(),o=1/t.setFromMatrixColumn(e,1).length(),a=1/t.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,this}}(),makeRotationFromEuler:function(t){!1===(t&&t.isEuler)&&console.error(\"THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.\");var e=this.elements,n=t.x,r=t.y,i=t.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),l=Math.sin(r),u=Math.cos(i),c=Math.sin(i);if(\"XYZ\"===t.order){var h=o*u,p=o*c,d=a*u,f=a*c;e[0]=s*u,e[4]=-s*c,e[8]=l,e[1]=p+d*l,e[5]=h-f*l,e[9]=-a*s,e[2]=f-h*l,e[6]=d+p*l,e[10]=o*s}else if(\"YXZ\"===t.order){var m=s*u,v=s*c,g=l*u,y=l*c;e[0]=m+y*a,e[4]=g*a-v,e[8]=o*l,e[1]=o*c,e[5]=o*u,e[9]=-a,e[2]=v*a-g,e[6]=y+m*a,e[10]=o*s}else if(\"ZXY\"===t.order){m=s*u,v=s*c,g=l*u,y=l*c;e[0]=m-y*a,e[4]=-o*c,e[8]=g+v*a,e[1]=v+g*a,e[5]=o*u,e[9]=y-m*a,e[2]=-o*l,e[6]=a,e[10]=o*s}else if(\"ZYX\"===t.order){h=o*u,p=o*c,d=a*u,f=a*c;e[0]=s*u,e[4]=d*l-p,e[8]=h*l+f,e[1]=s*c,e[5]=f*l+h,e[9]=p*l-d,e[2]=-l,e[6]=a*s,e[10]=o*s}else if(\"YZX\"===t.order){var b=o*s,x=o*l,w=a*s,_=a*l;e[0]=s*u,e[4]=_-b*c,e[8]=w*c+x,e[1]=c,e[5]=o*u,e[9]=-a*u,e[2]=-l*u,e[6]=x*c+w,e[10]=b-_*c}else if(\"XZY\"===t.order){b=o*s,x=o*l,w=a*s,_=a*l;e[0]=s*u,e[4]=-c,e[8]=l*u,e[1]=b*c+_,e[5]=o*u,e[9]=x*c-w,e[2]=w*c-x,e[6]=a*u,e[10]=_*c+b}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z,o=t.w,a=n+n,s=r+r,l=i+i,u=n*a,c=n*s,h=n*l,p=r*s,d=r*l,f=i*l,m=o*a,v=o*s,g=o*l;return e[0]=1-(p+f),e[4]=c-g,e[8]=h+v,e[1]=c+g,e[5]=1-(u+f),e[9]=d-m,e[2]=h-v,e[6]=d+m,e[10]=1-(u+p),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:function(t,e,n){void 0===ye&&(ye=new Ce,be=new Ce,xe=new Ce);var r=this.elements;return xe.subVectors(t,e).normalize(),0===xe.lengthSq()&&(xe.z=1),ye.crossVectors(n,xe).normalize(),0===ye.lengthSq()&&(xe.z+=1e-4,ye.crossVectors(n,xe).normalize()),be.crossVectors(xe,ye),r[0]=ye.x,r[4]=be.x,r[8]=xe.x,r[1]=ye.y,r[5]=be.y,r[9]=xe.y,r[2]=ye.z,r[6]=be.z,r[10]=xe.z,this},multiply:function(t,e){return void 0!==e?(console.warn(\"THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.\"),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,o=n[0],a=n[4],s=n[8],l=n[12],u=n[1],c=n[5],h=n[9],p=n[13],d=n[2],f=n[6],m=n[10],v=n[14],g=n[3],y=n[7],b=n[11],x=n[15],w=r[0],_=r[4],M=r[8],E=r[12],S=r[1],T=r[5],C=r[9],A=r[13],P=r[2],R=r[6],L=r[10],O=r[14],I=r[3],N=r[7],k=r[11],D=r[15];return i[0]=o*w+a*S+s*P+l*I,i[4]=o*_+a*T+s*R+l*N,i[8]=o*M+a*C+s*L+l*k,i[12]=o*E+a*A+s*O+l*D,i[1]=u*w+c*S+h*P+p*I,i[5]=u*_+c*T+h*R+p*N,i[9]=u*M+c*C+h*L+p*k,i[13]=u*E+c*A+h*O+p*D,i[2]=d*w+f*S+m*P+v*I,i[6]=d*_+f*T+m*R+v*N,i[10]=d*M+f*C+m*L+v*k,i[14]=d*E+f*A+m*O+v*D,i[3]=g*w+y*S+b*P+x*I,i[7]=g*_+y*T+b*R+x*N,i[11]=g*M+y*C+b*L+x*k,i[15]=g*E+y*A+b*O+x*D,this},multiplyToArray:function(t,e,n){var r=this.elements;return this.multiplyMatrices(t,e),n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t;return function(e){void 0===t&&(t=new Ce);for(var n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix4(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],o=t[1],a=t[5],s=t[9],l=t[13],u=t[2],c=t[6],h=t[10],p=t[14];return t[3]*(+i*s*c-r*l*c-i*a*h+n*l*h+r*a*p-n*s*p)+t[7]*(+e*s*p-e*l*h+i*o*h-r*o*p+r*l*u-i*s*u)+t[11]*(+e*l*c-e*a*p-i*o*c+n*o*p+i*a*u-n*l*u)+t[15]*(-r*a*u-e*s*c+e*a*h+r*o*c-n*o*h+n*s*u)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var n=this.elements,r=t.elements,i=r[0],o=r[1],a=r[2],s=r[3],l=r[4],u=r[5],c=r[6],h=r[7],p=r[8],d=r[9],f=r[10],m=r[11],v=r[12],g=r[13],y=r[14],b=r[15],x=d*y*h-g*f*h+g*c*m-u*y*m-d*c*b+u*f*b,w=v*f*h-p*y*h-v*c*m+l*y*m+p*c*b-l*f*b,_=p*g*h-v*d*h+v*u*m-l*g*m-p*u*b+l*d*b,M=v*d*c-p*g*c-v*u*f+l*g*f+p*u*y-l*d*y,E=i*x+o*w+a*_+s*M;if(0===E){var S=\"THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0\";if(!0===e)throw new Error(S);return console.warn(S),this.identity()}var T=1/E;return n[0]=x*T,n[1]=(g*f*s-d*y*s-g*a*m+o*y*m+d*a*b-o*f*b)*T,n[2]=(u*y*s-g*c*s+g*a*h-o*y*h-u*a*b+o*c*b)*T,n[3]=(d*c*s-u*f*s-d*a*h+o*f*h+u*a*m-o*c*m)*T,n[4]=w*T,n[5]=(p*y*s-v*f*s+v*a*m-i*y*m-p*a*b+i*f*b)*T,n[6]=(v*c*s-l*y*s-v*a*h+i*y*h+l*a*b-i*c*b)*T,n[7]=(l*f*s-p*c*s+p*a*h-i*f*h-l*a*m+i*c*m)*T,n[8]=_*T,n[9]=(v*d*s-p*g*s-v*o*m+i*g*m+p*o*b-i*d*b)*T,n[10]=(l*g*s-v*u*s+v*o*h-i*g*h-l*o*b+i*u*b)*T,n[11]=(p*u*s-l*d*s-p*o*h+i*d*h+l*o*m-i*u*m)*T,n[12]=M*T,n[13]=(p*g*a-v*d*a+v*o*f-i*g*f-p*o*y+i*d*y)*T,n[14]=(v*u*a-l*g*a-v*o*c+i*g*c+l*o*y-i*u*y)*T,n[15]=(l*d*a-p*u*a+p*o*c-i*d*c-l*o*f+i*u*f)*T,this},scale:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=1-n,o=t.x,a=t.y,s=t.z,l=i*o,u=i*a;return this.set(l*o+n,l*a-r*s,l*s+r*a,0,l*a+r*s,u*a+n,u*s-r*o,0,l*s-r*a,u*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,n){return this.makeRotationFromQuaternion(e),this.scale(n),this.setPosition(t),this},decompose:function(){var t,e;return function(n,r,i){void 0===t&&(t=new Ce,e=new Ae);var o=this.elements,a=t.set(o[0],o[1],o[2]).length(),s=t.set(o[4],o[5],o[6]).length(),l=t.set(o[8],o[9],o[10]).length();this.determinant()<0&&(a=-a),n.x=o[12],n.y=o[13],n.z=o[14],e.elements.set(this.elements);var u=1/a,c=1/s,h=1/l;return e.elements[0]*=u,e.elements[1]*=u,e.elements[2]*=u,e.elements[4]*=c,e.elements[5]*=c,e.elements[6]*=c,e.elements[8]*=h,e.elements[9]*=h,e.elements[10]*=h,r.setFromRotationMatrix(e),i.x=a,i.y=s,i.z=l,this}}(),makePerspective:function(t,e,n,r,i,o){void 0===o&&console.warn(\"THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.\");var a=this.elements,s=2*i/(e-t),l=2*i/(n-r),u=(e+t)/(e-t),c=(n+r)/(n-r),h=-(o+i)/(o-i),p=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=l,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(t,e,n,r,i,o){var a=this.elements,s=1/(e-t),l=1/(n-r),u=1/(o-i),c=(e+t)*s,h=(n+r)*l,p=(o+i)*u;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}},Pe.prototype=Object.create(_e.prototype),Pe.prototype.constructor=Pe,Pe.prototype.isCubeTexture=!0,Object.defineProperty(Pe.prototype,\"images\",{get:function(){return this.image},set:function(t){this.image=t}});var Re=new _e,Le=new Pe;function Oe(){this.seq=[],this.map={}}var Ie=[],Ne=[];function ke(t,e,n){var r=t[0];if(r<=0||r>0)return t;var i=e*n,o=Ie[i];if(void 0===o&&(o=new Float32Array(i),Ie[i]=o),0!==e){r.toArray(o,0);for(var a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function De(t,e){var n=Ne[e];void 0===n&&(n=new Int32Array(e),Ne[e]=n);for(var r=0;r!==e;++r)n[r]=t.allocTextureUnit();return n}function Fe(t,e){t.uniform1f(this.addr,e)}function Be(t,e){t.uniform1i(this.addr,e)}function Ue(t,e){void 0===e.x?t.uniform2fv(this.addr,e):t.uniform2f(this.addr,e.x,e.y)}function ze(t,e){void 0!==e.x?t.uniform3f(this.addr,e.x,e.y,e.z):void 0!==e.r?t.uniform3f(this.addr,e.r,e.g,e.b):t.uniform3fv(this.addr,e)}function je(t,e){void 0===e.x?t.uniform4fv(this.addr,e):t.uniform4f(this.addr,e.x,e.y,e.z,e.w)}function Ve(t,e){t.uniformMatrix2fv(this.addr,!1,e.elements||e)}function We(t,e){t.uniformMatrix3fv(this.addr,!1,e.elements||e)}function Ge(t,e){t.uniformMatrix4fv(this.addr,!1,e.elements||e)}function He(t,e,n){var r=n.allocTextureUnit();t.uniform1i(this.addr,r),n.setTexture2D(e||Re,r)}function qe(t,e,n){var r=n.allocTextureUnit();t.uniform1i(this.addr,r),n.setTextureCube(e||Le,r)}function Xe(t,e){t.uniform2iv(this.addr,e)}function Ye(t,e){t.uniform3iv(this.addr,e)}function Ke(t,e){t.uniform4iv(this.addr,e)}function Ze(t,e){t.uniform1fv(this.addr,e)}function Qe(t,e){t.uniform1iv(this.addr,e)}function Je(t,e){t.uniform2fv(this.addr,ke(e,this.size,2))}function $e(t,e){t.uniform3fv(this.addr,ke(e,this.size,3))}function tn(t,e){t.uniform4fv(this.addr,ke(e,this.size,4))}function en(t,e){t.uniformMatrix2fv(this.addr,!1,ke(e,this.size,4))}function nn(t,e){t.uniformMatrix3fv(this.addr,!1,ke(e,this.size,9))}function rn(t,e){t.uniformMatrix4fv(this.addr,!1,ke(e,this.size,16))}function on(t,e,n){var r=e.length,i=De(n,r);t.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTexture2D(e[o]||Re,i[o])}function an(t,e,n){var r=e.length,i=De(n,r);t.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTextureCube(e[o]||Le,i[o])}function sn(t,e,n){this.id=t,this.addr=n,this.setValue=function(t){switch(t){case 5126:return Fe;case 35664:return Ue;case 35665:return ze;case 35666:return je;case 35674:return Ve;case 35675:return We;case 35676:return Ge;case 35678:return He;case 35680:return qe;case 5124:case 35670:return Be;case 35667:case 35671:return Xe;case 35668:case 35672:return Ye;case 35669:case 35673:return Ke}}(e.type)}function ln(t,e,n){this.id=t,this.addr=n,this.size=e.size,this.setValue=function(t){switch(t){case 5126:return Ze;case 35664:return Je;case 35665:return $e;case 35666:return tn;case 35674:return en;case 35675:return nn;case 35676:return rn;case 35678:return on;case 35680:return an;case 5124:case 35670:return Qe;case 35667:case 35671:return Xe;case 35668:case 35672:return Ye;case 35669:case 35673:return Ke}}(e.type)}function un(t){this.id=t,Oe.call(this)}un.prototype.setValue=function(t,e){for(var n=this.seq,r=0,i=n.length;r!==i;++r){var o=n[r];o.setValue(t,e[o.id])}};var cn=/([\\w\\d_]+)(\\])?(\\[|\\.)?/g;function hn(t,e){t.seq.push(e),t.map[e.id]=e}function pn(t,e,n){var r=t.name,i=r.length;for(cn.lastIndex=0;;){var o=cn.exec(r),a=cn.lastIndex,s=o[1],l=\"]\"===o[2],u=o[3];if(l&&(s|=0),void 0===u||\"[\"===u&&a+2===i){hn(n,void 0===u?new sn(s,t,e):new ln(s,t,e));break}var c=n.map[s];void 0===c&&hn(n,c=new un(s)),n=c}}function dn(t,e,n){Oe.call(this),this.renderer=n;for(var r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<r;++i){var o=t.getActiveUniform(e,i),a=o.name;pn(o,t.getUniformLocation(e,a),this)}}dn.prototype.setValue=function(t,e,n){var r=this.map[e];void 0!==r&&r.setValue(t,n,this.renderer)},dn.prototype.set=function(t,e,n){var r=this.map[n];void 0!==r&&r.setValue(t,e[n],this.renderer)},dn.prototype.setOptional=function(t,e,n){var r=e[n];void 0!==r&&this.setValue(t,n,r)},dn.upload=function(t,e,n,r){for(var i=0,o=e.length;i!==o;++i){var a=e[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(t,s.value,r)}},dn.seqWithValue=function(t,e){for(var n=[],r=0,i=t.length;r!==i;++r){var o=t[r];o.id in e&&n.push(o)}return n};var fn={merge:function(t){for(var e={},n=0;n<t.length;n++){var r=this.clone(t[n]);for(var i in r)e[i]=r[i]}return e},clone:function(t){var e={};for(var n in t)for(var r in e[n]={},t[n]){var i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}return e}},mn={alphamap_fragment:\"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\\n\",alphamap_pars_fragment:\"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\\n\",alphatest_fragment:\"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\\n\",aomap_fragment:\"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\\n\",aomap_pars_fragment:\"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\",begin_vertex:\"\\nvec3 transformed = vec3( position );\\n\",beginnormal_vertex:\"\\nvec3 objectNormal = vec3( normal );\\n\",bsdfs:\"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n\\t\\tif( decayExponent > 0.0 ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\t\\t\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\t\\t\\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t\\t\\treturn distanceFalloff * maxDistanceCutoffFactor;\\n#else\\n\\t\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n#endif\\n\\t\\t}\\n\\t\\treturn 1.0;\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 ltcTextureCoords( const in GeometricContext geometry, const in float roughness ) {\\n\\tconst float LUT_SIZE  = 64.0;\\n\\tconst float LUT_SCALE = (LUT_SIZE - 1.0)/LUT_SIZE;\\n\\tconst float LUT_BIAS  = 0.5/LUT_SIZE;\\n\\tvec3 N = geometry.normal;\\n\\tvec3 V = geometry.viewDir;\\n\\tvec3 P = geometry.position;\\n\\tfloat theta = acos( dot( N, V ) );\\n\\tvec2 uv = vec2(\\n\\t\\tsqrt( saturate( roughness ) ),\\n\\t\\tsaturate( theta / ( 0.5 * PI ) ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nvoid clipQuadToHorizon( inout vec3 L[5], out int n ) {\\n\\tint config = 0;\\n\\tif ( L[0].z > 0.0 ) config += 1;\\n\\tif ( L[1].z > 0.0 ) config += 2;\\n\\tif ( L[2].z > 0.0 ) config += 4;\\n\\tif ( L[3].z > 0.0 ) config += 8;\\n\\tn = 0;\\n\\tif ( config == 0 ) {\\n\\t} else if ( config == 1 ) {\\n\\t\\tn = 3;\\n\\t\\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\\n\\t\\tL[2] = -L[3].z * L[0] + L[0].z * L[3];\\n\\t} else if ( config == 2 ) {\\n\\t\\tn = 3;\\n\\t\\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\\n\\t\\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\\n\\t} else if ( config == 3 ) {\\n\\t\\tn = 4;\\n\\t\\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\\n\\t\\tL[3] = -L[3].z * L[0] + L[0].z * L[3];\\n\\t} else if ( config == 4 ) {\\n\\t\\tn = 3;\\n\\t\\tL[0] = -L[3].z * L[2] + L[2].z * L[3];\\n\\t\\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\\n\\t} else if ( config == 5 ) {\\n\\t\\tn = 0;\\n\\t} else if ( config == 6 ) {\\n\\t\\tn = 4;\\n\\t\\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\\n\\t\\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\\n\\t} else if ( config == 7 ) {\\n\\t\\tn = 5;\\n\\t\\tL[4] = -L[3].z * L[0] + L[0].z * L[3];\\n\\t\\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\\n\\t} else if ( config == 8 ) {\\n\\t\\tn = 3;\\n\\t\\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\\n\\t\\tL[1] = -L[2].z * L[3] + L[3].z * L[2];\\n\\t\\tL[2] =  L[3];\\n\\t} else if ( config == 9 ) {\\n\\t\\tn = 4;\\n\\t\\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\\n\\t\\tL[2] = -L[2].z * L[3] + L[3].z * L[2];\\n\\t} else if ( config == 10 ) {\\n\\t\\tn = 0;\\n\\t} else if ( config == 11 ) {\\n\\t\\tn = 5;\\n\\t\\tL[4] = L[3];\\n\\t\\tL[3] = -L[2].z * L[3] + L[3].z * L[2];\\n\\t\\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\\n\\t} else if ( config == 12 ) {\\n\\t\\tn = 4;\\n\\t\\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\\n\\t\\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\\n\\t} else if ( config == 13 ) {\\n\\t\\tn = 5;\\n\\t\\tL[4] = L[3];\\n\\t\\tL[3] = L[2];\\n\\t\\tL[2] = -L[1].z * L[2] + L[2].z * L[1];\\n\\t\\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\\n\\t} else if ( config == 14 ) {\\n\\t\\tn = 5;\\n\\t\\tL[4] = -L[0].z * L[3] + L[3].z * L[0];\\n\\t\\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\\n\\t} else if ( config == 15 ) {\\n\\t\\tn = 4;\\n\\t}\\n\\tif ( n == 3 )\\n\\t\\tL[3] = L[0];\\n\\tif ( n == 4 )\\n\\t\\tL[4] = L[0];\\n}\\nfloat integrateLtcBrdfOverRectEdge( vec3 v1, vec3 v2 ) {\\n\\tfloat cosTheta = dot( v1, v2 );\\n\\tfloat theta = acos( cosTheta );\\n\\tfloat res = cross( v1, v2 ).z * ( ( theta > 0.001 ) ? theta / sin( theta ) : 1.0 );\\n\\treturn res;\\n}\\nvoid initRectPoints( const in vec3 pos, const in vec3 halfWidth, const in vec3 halfHeight, out vec3 rectPoints[4] ) {\\n\\trectPoints[0] = pos - halfWidth - halfHeight;\\n\\trectPoints[1] = pos + halfWidth - halfHeight;\\n\\trectPoints[2] = pos + halfWidth + halfHeight;\\n\\trectPoints[3] = pos - halfWidth + halfHeight;\\n}\\nvec3 integrateLtcBrdfOverRect( const in GeometricContext geometry, const in mat3 brdfMat, const in vec3 rectPoints[4] ) {\\n\\tvec3 N = geometry.normal;\\n\\tvec3 V = geometry.viewDir;\\n\\tvec3 P = geometry.position;\\n\\tvec3 T1, T2;\\n\\tT1 = normalize(V - N * dot( V, N ));\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 brdfWrtSurface = brdfMat * transpose( mat3( T1, T2, N ) );\\n\\tvec3 clippedRect[5];\\n\\tclippedRect[0] = brdfWrtSurface * ( rectPoints[0] - P );\\n\\tclippedRect[1] = brdfWrtSurface * ( rectPoints[1] - P );\\n\\tclippedRect[2] = brdfWrtSurface * ( rectPoints[2] - P );\\n\\tclippedRect[3] = brdfWrtSurface * ( rectPoints[3] - P );\\n\\tint n;\\n\\tclipQuadToHorizon(clippedRect, n);\\n\\tif ( n == 0 )\\n\\t\\treturn vec3( 0, 0, 0 );\\n\\tclippedRect[0] = normalize( clippedRect[0] );\\n\\tclippedRect[1] = normalize( clippedRect[1] );\\n\\tclippedRect[2] = normalize( clippedRect[2] );\\n\\tclippedRect[3] = normalize( clippedRect[3] );\\n\\tclippedRect[4] = normalize( clippedRect[4] );\\n\\tfloat sum = 0.0;\\n\\tsum += integrateLtcBrdfOverRectEdge( clippedRect[0], clippedRect[1] );\\n\\tsum += integrateLtcBrdfOverRectEdge( clippedRect[1], clippedRect[2] );\\n\\tsum += integrateLtcBrdfOverRectEdge( clippedRect[2], clippedRect[3] );\\n\\tif (n >= 4)\\n\\t\\tsum += integrateLtcBrdfOverRectEdge( clippedRect[3], clippedRect[4] );\\n\\tif (n == 5)\\n\\t\\tsum += integrateLtcBrdfOverRectEdge( clippedRect[4], clippedRect[0] );\\n\\tsum = max( 0.0, sum );\\n\\tvec3 Lo_i = vec3( sum, sum, sum );\\n\\treturn Lo_i;\\n}\\nvec3 Rect_Area_Light_Specular_Reflectance(\\n\\t\\tconst in GeometricContext geometry,\\n\\t\\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight,\\n\\t\\tconst in float roughness,\\n\\t\\tconst in sampler2D ltcMat, const in sampler2D ltcMag ) {\\n\\tvec3 rectPoints[4];\\n\\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\\n\\tvec2 uv = ltcTextureCoords( geometry, roughness );\\n\\tvec4 brdfLtcApproxParams, t;\\n\\tbrdfLtcApproxParams = texture2D( ltcMat, uv );\\n\\tt = texture2D( ltcMat, uv );\\n\\tfloat brdfLtcScalar = texture2D( ltcMag, uv ).a;\\n\\tmat3 brdfLtcApproxMat = mat3(\\n\\t\\tvec3(   1,   0, t.y ),\\n\\t\\tvec3(   0, t.z,   0 ),\\n\\t\\tvec3( t.w,   0, t.x )\\n\\t);\\n\\tvec3 specularReflectance = integrateLtcBrdfOverRect( geometry, brdfLtcApproxMat, rectPoints );\\n\\tspecularReflectance *= brdfLtcScalar;\\n\\treturn specularReflectance;\\n}\\nvec3 Rect_Area_Light_Diffuse_Reflectance(\\n\\t\\tconst in GeometricContext geometry,\\n\\t\\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight ) {\\n\\tvec3 rectPoints[4];\\n\\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\\n\\tmat3 diffuseBrdfMat = mat3(1);\\n\\tvec3 diffuseReflectance = integrateLtcBrdfOverRect( geometry, diffuseBrdfMat, rectPoints );\\n\\treturn diffuseReflectance;\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\\n\\treturn specularColor * AB.x + AB.y;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n\",bumpmap_pars_fragment:\"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\t\\tvec3 vSigmaX = dFdx( surf_pos );\\n\\t\\tvec3 vSigmaY = dFdy( surf_pos );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\\n\",clipping_planes_fragment:\"#if NUM_CLIPPING_PLANES > 0\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\\n\\t\\tvec4 plane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t\\t\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\\n\\t\\t\\tvec4 plane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\tif ( clipped ) discard;\\n\\t\\n\\t#endif\\n#endif\\n\",clipping_planes_pars_fragment:\"#if NUM_CLIPPING_PLANES > 0\\n\\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\\n\\t\\tvarying vec3 vViewPosition;\\n\\t#endif\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\\n\",clipping_planes_pars_vertex:\"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n\",clipping_planes_vertex:\"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n\",color_fragment:\"#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\",color_pars_fragment:\"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\\n\",color_pars_vertex:\"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\",color_vertex:\"#ifdef USE_COLOR\\n\\tvColor.xyz = color.xyz;\\n#endif\",common:\"#define PI 3.14159265359\\n#define PI2 6.28318530718\\n#define PI_HALF 1.5707963267949\\n#define RECIPROCAL_PI 0.31830988618\\n#define RECIPROCAL_PI2 0.15915494\\n#define LOG2 1.442695\\n#define EPSILON 1e-6\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transpose( const in mat3 v ) {\\n\\tmat3 tmp;\\n\\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\\n\\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\\n\\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\\n\\treturn tmp;\\n}\\n\",cube_uv_reflection_fragment:\"#ifdef ENVMAP_TYPE_CUBE_UV\\n#define cubeUV_textureSize (1024.0)\\nint getFaceFromDirection(vec3 direction) {\\n\\tvec3 absDirection = abs(direction);\\n\\tint face = -1;\\n\\tif( absDirection.x > absDirection.z ) {\\n\\t\\tif(absDirection.x > absDirection.y )\\n\\t\\t\\tface = direction.x > 0.0 ? 0 : 3;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\telse {\\n\\t\\tif(absDirection.z > absDirection.y )\\n\\t\\t\\tface = direction.z > 0.0 ? 2 : 5;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\treturn face;\\n}\\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\\n\\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\\n\\tfloat dxRoughness = dFdx(roughness);\\n\\tfloat dyRoughness = dFdy(roughness);\\n\\tvec3 dx = dFdx( vec * scale * dxRoughness );\\n\\tvec3 dy = dFdy( vec * scale * dyRoughness );\\n\\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\\n\\td = clamp(d, 1.0, cubeUV_rangeClamp);\\n\\tfloat mipLevel = 0.5 * log2(d);\\n\\treturn vec2(floor(mipLevel), fract(mipLevel));\\n}\\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\\n\\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\\n\\tfloat a = 16.0 * cubeUV_rcpTextureSize;\\n\\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\\n\\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\\n\\tfloat powScale = exp2_packed.x * exp2_packed.y;\\n\\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\\n\\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\\n\\tbool bRes = mipLevel == 0.0;\\n\\tscale =  bRes && (scale < a) ? a : scale;\\n\\tvec3 r;\\n\\tvec2 offset;\\n\\tint face = getFaceFromDirection(direction);\\n\\tfloat rcpPowScale = 1.0 / powScale;\\n\\tif( face == 0) {\\n\\t\\tr = vec3(direction.x, -direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 1) {\\n\\t\\tr = vec3(direction.y, direction.x, direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 2) {\\n\\t\\tr = vec3(direction.z, direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 3) {\\n\\t\\tr = vec3(direction.x, direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse if( face == 4) {\\n\\t\\tr = vec3(direction.y, direction.x, -direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse {\\n\\t\\tr = vec3(direction.z, -direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\tr = normalize(r);\\n\\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\\n\\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\\n\\tvec2 base = offset + vec2( texelOffset );\\n\\treturn base + s * ( scale - 2.0 * texelOffset );\\n}\\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\\n\\tfloat roughnessVal = roughness* cubeUV_maxLods3;\\n\\tfloat r1 = floor(roughnessVal);\\n\\tfloat r2 = r1 + 1.0;\\n\\tfloat t = fract(roughnessVal);\\n\\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\\n\\tfloat s = mipInfo.y;\\n\\tfloat level0 = mipInfo.x;\\n\\tfloat level1 = level0 + 1.0;\\n\\tlevel1 = level1 > 5.0 ? 5.0 : level1;\\n\\tlevel0 += min( floor( s + 0.5 ), 5.0 );\\n\\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\\n\\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\\n\\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\\n\\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\\n\\tvec4 result = mix(color10, color20, t);\\n\\treturn vec4(result.rgb, 1.0);\\n}\\n#endif\\n\",defaultnormal_vertex:\"#ifdef FLIP_SIDED\\n\\tobjectNormal = -objectNormal;\\n#endif\\nvec3 transformedNormal = normalMatrix * objectNormal;\\n\",displacementmap_pars_vertex:\"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\\n\",displacementmap_vertex:\"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\\n#endif\\n\",emissivemap_fragment:\"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\\n\",emissivemap_pars_fragment:\"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\\n\",encodings_fragment:\"  gl_FragColor = linearToOutputTexel( gl_FragColor );\\n\",encodings_pars_fragment:\"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\\n\\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM            = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\\n\\tfloat D      = max( maxRange / maxRGB, 1.0 );\\n\\tD            = min( floor( D ) / 255.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value )  {\\n\\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\\n\\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract(Le);\\n\\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\\n\\treturn vec4( max(vRGB, 0.0), 1.0 );\\n}\\n\",envmap_fragment:\"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\tvec2 sampleUV;\\n\\t\\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\\n\\t\\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\tvec4 envColor = texture2D( envMap, sampleUV );\\n\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\\n\\t\\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\\n\",envmap_pars_fragment:\"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\\n\\tuniform float reflectivity;\\n\\tuniform float envMapIntensity;\\n#endif\\n#ifdef USE_ENVMAP\\n\\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\tuniform float flipEnvMap;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\\n\",envmap_pars_vertex:\"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\\n\",envmap_vertex:\"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\n\",fog_vertex:\"\\n#ifdef USE_FOG\\nfogDepth = -mvPosition.z;\\n#endif\",fog_pars_vertex:\"#ifdef USE_FOG\\n  varying float fogDepth;\\n#endif\\n\",fog_fragment:\"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\\n\",fog_pars_fragment:\"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\\n\",gradientmap_pars_fragment:\"#ifdef TOON\\n\\tuniform sampler2D gradientMap;\\n\\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\t\\tfloat dotNL = dot( normal, lightDirection );\\n\\t\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t\\t#ifdef USE_GRADIENTMAP\\n\\t\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t\\t#else\\n\\t\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t\\t#endif\\n\\t}\\n#endif\\n\",lightmap_fragment:\"#ifdef USE_LIGHTMAP\\n\\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n#endif\\n\",lightmap_pars_fragment:\"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\",lights_lambert_vertex:\"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\n#if NUM_POINT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n#endif\\n\",lights_pars:\"uniform vec3 ambientLightColor;\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltcMat;\\tuniform sampler2D ltcMag;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\\n\\t\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\t\\tvec2 sampleUV;\\n\\t\\t\\tsampleUV.y = saturate( reflectVec.y * 0.5 + 0.5 );\\n\\t\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\\n\",lights_phong_fragment:\"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\\n\",lights_phong_pars_fragment:\"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_BlinnPhong( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 matDiffColor = material.diffuseColor;\\n\\t\\tvec3 matSpecColor = material.specularColor;\\n\\t\\tvec3 lightColor   = rectAreaLight.color;\\n\\t\\tfloat roughness = BlinnExponentToGGXRoughness( material.specularShininess );\\n\\t\\tvec3 spec = Rect_Area_Light_Specular_Reflectance(\\n\\t\\t\\t\\tgeometry,\\n\\t\\t\\t\\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\\n\\t\\t\\t\\troughness,\\n\\t\\t\\t\\tltcMat, ltcMag );\\n\\t\\tvec3 diff = Rect_Area_Light_Diffuse_Reflectance(\\n\\t\\t\\t\\tgeometry,\\n\\t\\t\\t\\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\\n\\t\\treflectedLight.directSpecular += lightColor * matSpecColor * spec / PI2;\\n\\t\\treflectedLight.directDiffuse  += lightColor * matDiffColor * diff / PI2;\\n\\t}\\n#endif\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t#ifdef TOON\\n\\t\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#else\\n\\t\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\t\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#endif\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\\n\",lights_physical_fragment:\"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\\n#ifdef STANDARD\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n\\tmaterial.clearCoat = saturate( clearCoat );\\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\\n#endif\\n\",lights_physical_pars_fragment:\"struct PhysicalMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tfloat\\tspecularRoughness;\\n\\tvec3\\tspecularColor;\\n\\t#ifndef STANDARD\\n\\t\\tfloat clearCoat;\\n\\t\\tfloat clearCoatRoughness;\\n\\t#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 matDiffColor = material.diffuseColor;\\n\\t\\tvec3 matSpecColor = material.specularColor;\\n\\t\\tvec3 lightColor   = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 spec = Rect_Area_Light_Specular_Reflectance(\\n\\t\\t\\t\\tgeometry,\\n\\t\\t\\t\\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\\n\\t\\t\\t\\troughness,\\n\\t\\t\\t\\tltcMat, ltcMag );\\n\\t\\tvec3 diff = Rect_Area_Light_Diffuse_Reflectance(\\n\\t\\t\\t\\tgeometry,\\n\\t\\t\\t\\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\\n\\t\\treflectedLight.directSpecular += lightColor * matSpecColor * spec;\\n\\t\\treflectedLight.directDiffuse  += lightColor * matDiffColor * diff;\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifndef STANDARD\\n\\t\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\n\\t#else\\n\\t\\tfloat clearCoatDHR = 0.0;\\n\\t#endif\\n\\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\\n\\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\t#ifndef STANDARD\\n\\t\\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\n\\t#endif\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t#ifndef STANDARD\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\tfloat dotNL = dotNV;\\n\\t\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\n\\t#else\\n\\t\\tfloat clearCoatDHR = 0.0;\\n\\t#endif\\n\\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\\n\\t#ifndef STANDARD\\n\\t\\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\n\\t#endif\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\\n\",lights_template:\"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = normalize( vViewPosition );\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\\n\\t#endif\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\\n\\t#ifndef STANDARD\\n\\t\\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\\n\\t#else\\n\\t\\tvec3 clearCoatRadiance = vec3( 0.0 );\\n\\t#endif\\n\\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\\n#endif\\n\",logdepthbuf_fragment:\"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\\n\\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\\n#endif\",logdepthbuf_pars_fragment:\"#ifdef USE_LOGDEPTHBUF\\n\\tuniform float logDepthBufFC;\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t#endif\\n#endif\\n\",logdepthbuf_pars_vertex:\"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t#endif\\n\\tuniform float logDepthBufFC;\\n#endif\",logdepthbuf_vertex:\"#ifdef USE_LOGDEPTHBUF\\n\\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t#else\\n\\t\\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\\n\\t#endif\\n#endif\\n\",map_fragment:\"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\\n\",map_pars_fragment:\"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n\",map_particle_fragment:\"#ifdef USE_MAP\\n\\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n\",map_particle_pars_fragment:\"#ifdef USE_MAP\\n\\tuniform vec4 offsetRepeat;\\n\\tuniform sampler2D map;\\n#endif\\n\",metalnessmap_fragment:\"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.r;\\n#endif\\n\",metalnessmap_pars_fragment:\"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\",morphnormal_vertex:\"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\\n#endif\\n\",morphtarget_pars_vertex:\"#ifdef USE_MORPHTARGETS\\n\\t#ifndef USE_MORPHNORMALS\\n\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\",morphtarget_vertex:\"#ifdef USE_MORPHTARGETS\\n\\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\\n\\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\\n\\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\\n\\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\\n\\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\\n\\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\\n\\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\\n\",normal_flip:\"#ifdef DOUBLE_SIDED\\n\\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n#else\\n\\tfloat flipNormal = 1.0;\\n#endif\\n\",normal_fragment:\"#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal ) * flipNormal;\\n#endif\\n#ifdef USE_NORMALMAP\\n\\tnormal = perturbNormal2Arb( -vViewPosition, normal );\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\\n\",normalmap_pars_fragment:\"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\\n\\t\\tvec3 q0 = dFdx( eye_pos.xyz );\\n\\t\\tvec3 q1 = dFdy( eye_pos.xyz );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\\n\\t\\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\\n\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t\\tmapN.xy = normalScale * mapN.xy;\\n\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\treturn normalize( tsn * mapN );\\n\\t}\\n#endif\\n\",packing:\"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 1.0 - 2.0 * rgb.xyz;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\\n\",premultiplied_alpha_fragment:\"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\\n\",project_vertex:\"#ifdef USE_SKINNING\\n\\tvec4 mvPosition = modelViewMatrix * skinned;\\n#else\\n\\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\\n#endif\\ngl_Position = projectionMatrix * mvPosition;\\n\",roughnessmap_fragment:\"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.r;\\n#endif\\n\",roughnessmap_pars_fragment:\"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\",shadowmap_pars_fragment:\"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\\n\\t\\tconst vec2 offset = vec2( 0.0, 1.0 );\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / size;\\n\\t\\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\\n\\t\\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\\n\\t\\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\\n\\t\\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\\n\\t\\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\\n\\t\\tvec2 f = fract( uv * size + 0.5 );\\n\\t\\tfloat a = mix( lb, lt, f.y );\\n\\t\\tfloat b = mix( rb, rt, f.y );\\n\\t\\tfloat c = mix( a, b, f.x );\\n\\t\\treturn c;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn 1.0;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\\n\",shadowmap_pars_vertex:\"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\\t#endif\\n#endif\\n\",shadowmap_vertex:\"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n#endif\\n\",shadowmask_pars_fragment:\"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\tDirectionalLight directionalLight;\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\tSpotLight spotLight;\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\tPointLight pointLight;\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\\n\",skinbase_vertex:\"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\",skinning_pars_vertex:\"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform sampler2D boneTexture;\\n\\t\\tuniform int boneTextureWidth;\\n\\t\\tuniform int boneTextureHeight;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureWidth ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureWidth ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureWidth );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureHeight );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\\n\",skinning_vertex:\"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\tskinned  = bindMatrixInverse * skinned;\\n#endif\\n\",skinnormal_vertex:\"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n#endif\\n\",specularmap_fragment:\"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\",specularmap_pars_fragment:\"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\",tonemapping_fragment:\"#if defined( TONE_MAPPING )\\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\\n\",tonemapping_pars_fragment:\"#define saturate(a) clamp( a, 0.0, 1.0 )\\nuniform float toneMappingExposure;\\nuniform float toneMappingWhitePoint;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\\nvec3 Uncharted2ToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\n\",uv_pars_fragment:\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvarying vec2 vUv;\\n#endif\",uv_pars_vertex:\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvarying vec2 vUv;\\n\\tuniform vec4 offsetRepeat;\\n#endif\\n\",uv_vertex:\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\\n#endif\",uv2_pars_fragment:\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\",uv2_pars_vertex:\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n#endif\",uv2_vertex:\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = uv2;\\n#endif\",worldpos_vertex:\"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\\n\\t#ifdef USE_SKINNING\\n\\t\\tvec4 worldPosition = modelMatrix * skinned;\\n\\t#else\\n\\t\\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\\n\\t#endif\\n#endif\\n\",cube_frag:\"uniform samplerCube tCube;\\nuniform float tFlip;\\nuniform float opacity;\\nvarying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\\n\\tgl_FragColor.a *= opacity;\\n}\\n\",cube_vert:\"varying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvWorldPosition = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\\n\",depth_frag:\"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\\n\\t#endif\\n}\\n\",depth_vert:\"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n}\\n\",distanceRGBA_frag:\"uniform vec3 lightPos;\\nvarying vec4 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\\n}\\n\",distanceRGBA_vert:\"varying vec4 vWorldPosition;\\n#include <common>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <skinbase_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition;\\n}\\n\",equirect_frag:\"uniform sampler2D tEquirect;\\nuniform float tFlip;\\nvarying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldPosition );\\n\\tvec2 sampleUV;\\n\\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\\n\\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tgl_FragColor = texture2D( tEquirect, sampleUV );\\n}\\n\",equirect_vert:\"varying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvWorldPosition = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\\n\",linedashed_frag:\"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\",linedashed_vert:\"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\tvLineDistance = scale * lineDistance;\\n\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\\n\",meshbasic_frag:\"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <normal_flip>\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\",meshbasic_vert:\"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\",meshlambert_frag:\"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <normal_flip>\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\",meshlambert_vert:\"#define LAMBERT\\nvarying vec3 vLightFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\",meshphong_frag:\"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_flip>\\n\\t#include <normal_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_template>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\",meshphong_vert:\"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\",meshphysical_frag:\"#define PHYSICAL\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifndef STANDARD\\n\\tuniform float clearCoat;\\n\\tuniform float clearCoatRoughness;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <lights_pars>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_flip>\\n\\t#include <normal_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_template>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\",meshphysical_vert:\"#define PHYSICAL\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\",normal_frag:\"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\nvoid main() {\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_flip>\\n\\t#include <normal_fragment>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\\n\",normal_vert:\"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\\n\",points_frag:\"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\",points_vert:\"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tgl_PointSize = size * ( scale / - mvPosition.z );\\n\\t#else\\n\\t\\tgl_PointSize = size;\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\",shadow_frag:\"uniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0 - getShadowMask() ) );\\n}\\n\",shadow_vert:\"#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n}\\n\"};function vn(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}vn.prototype={constructor:vn,isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):\"number\"==typeof t?this.setHex(t):\"string\"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(){function t(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}return function(e,n,r){if(e=de.euclideanModulo(e,1),n=de.clamp(n,0,1),r=de.clamp(r,0,1),0===n)this.r=this.g=this.b=r;else{var i=r<=.5?r*(1+n):r+n-r*n,o=2*r-i;this.r=t(o,i,e+1/3),this.g=t(o,i,e),this.b=t(o,i,e-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn(\"THREE.Color: Alpha component of \"+t+\" will be ignored.\")}var n;if(n=/^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec(t)){var r,i=n[1],o=n[2];switch(i){case\"rgb\":case\"rgba\":if(r=/^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,e(r[5]),this;if(r=/^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,e(r[5]),this;break;case\"hsl\":case\"hsla\":if(r=/^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,l=parseInt(r[3],10)/100;return e(r[5]),this.setHSL(a,s,l)}}}else if(n=/^\\#([A-Fa-f0-9]+)$/.exec(t)){var u,c=(u=n[1]).length;if(3===c)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}t&&t.length>0&&(void 0!==(u=gn[t])?this.setHex(u):console.warn(\"THREE.Color: Unknown color \"+t));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(){var t=this.r,e=this.g,n=this.b;return this.r=t*t,this.g=e*e,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return(\"000000\"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var e,n,r=t||{h:0,s:0,l:0},i=this.r,o=this.g,a=this.b,s=Math.max(i,o,a),l=Math.min(i,o,a),u=(l+s)/2;if(l===s)e=0,n=0;else{var c=s-l;switch(n=u<=.5?c/(s+l):c/(2-s-l),s){case i:e=(o-a)/c+(o<a?6:0);break;case o:e=(a-i)/c+2;break;case a:e=(i-o)/c+4}e/=6}return r.h=e,r.s=n,r.l=u,r},getStyle:function(){return\"rgb(\"+(255*this.r|0)+\",\"+(255*this.g|0)+\",\"+(255*this.b|0)+\")\"},offsetHSL:function(t,e,n){var r=this.getHSL();return r.h+=t,r.s+=e,r.l+=n,this.setHSL(r.h,r.s,r.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}};var gn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function yn(t,e,n,r,i,o,a,s,l,u,c,h){_e.call(this,null,o,a,s,l,u,r,i,c,h),this.image={data:t,width:e,height:n},this.magFilter=void 0!==l?l:bt,this.minFilter=void 0!==u?u:bt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}yn.prototype=Object.create(_e.prototype),yn.prototype.constructor=yn,yn.prototype.isDataTexture=!0;var bn={common:{diffuse:{value:new vn(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new Me(0,0,1,1)},specularMap:{value:null},alphaMap:{value:null},envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new fe(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new vn(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new vn(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new Me(0,0,1,1)}}},xn={basic:{uniforms:fn.merge([bn.common,bn.aomap,bn.lightmap,bn.fog]),vertexShader:mn.meshbasic_vert,fragmentShader:mn.meshbasic_frag},lambert:{uniforms:fn.merge([bn.common,bn.aomap,bn.lightmap,bn.emissivemap,bn.fog,bn.lights,{emissive:{value:new vn(0)}}]),vertexShader:mn.meshlambert_vert,fragmentShader:mn.meshlambert_frag},phong:{uniforms:fn.merge([bn.common,bn.aomap,bn.lightmap,bn.emissivemap,bn.bumpmap,bn.normalmap,bn.displacementmap,bn.gradientmap,bn.fog,bn.lights,{emissive:{value:new vn(0)},specular:{value:new vn(1118481)},shininess:{value:30}}]),vertexShader:mn.meshphong_vert,fragmentShader:mn.meshphong_frag},standard:{uniforms:fn.merge([bn.common,bn.aomap,bn.lightmap,bn.emissivemap,bn.bumpmap,bn.normalmap,bn.displacementmap,bn.roughnessmap,bn.metalnessmap,bn.fog,bn.lights,{emissive:{value:new vn(0)},roughness:{value:.5},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:mn.meshphysical_vert,fragmentShader:mn.meshphysical_frag},points:{uniforms:fn.merge([bn.points,bn.fog]),vertexShader:mn.points_vert,fragmentShader:mn.points_frag},dashed:{uniforms:fn.merge([bn.common,bn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:mn.linedashed_vert,fragmentShader:mn.linedashed_frag},depth:{uniforms:fn.merge([bn.common,bn.displacementmap]),vertexShader:mn.depth_vert,fragmentShader:mn.depth_frag},normal:{uniforms:fn.merge([bn.common,bn.bumpmap,bn.normalmap,bn.displacementmap,{opacity:{value:1}}]),vertexShader:mn.normal_vert,fragmentShader:mn.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:mn.cube_vert,fragmentShader:mn.cube_frag},equirect:{uniforms:{tEquirect:{value:null},tFlip:{value:-1}},vertexShader:mn.equirect_vert,fragmentShader:mn.equirect_frag},distanceRGBA:{uniforms:{lightPos:{value:new Ce}},vertexShader:mn.distanceRGBA_vert,fragmentShader:mn.distanceRGBA_frag}};function wn(t,e){this.min=void 0!==t?t:new fe(1/0,1/0),this.max=void 0!==e?e:new fe(-1/0,-1/0)}function _n(t,e){var n,r,i,o,a,s,l,u,c=t.context,h=t.state;function p(){var e=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),p=new Uint16Array([0,1,2,0,2,3]);n=c.createBuffer(),r=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,n),c.bufferData(c.ARRAY_BUFFER,e,c.STATIC_DRAW),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,r),c.bufferData(c.ELEMENT_ARRAY_BUFFER,p,c.STATIC_DRAW),l=c.createTexture(),u=c.createTexture(),h.bindTexture(c.TEXTURE_2D,l),c.texImage2D(c.TEXTURE_2D,0,c.RGB,16,16,0,c.RGB,c.UNSIGNED_BYTE,null),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST),h.bindTexture(c.TEXTURE_2D,u),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,16,16,0,c.RGBA,c.UNSIGNED_BYTE,null),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST),i={vertexShader:[\"uniform lowp int renderType;\",\"uniform vec3 screenPosition;\",\"uniform vec2 scale;\",\"uniform float rotation;\",\"uniform sampler2D occlusionMap;\",\"attribute vec2 position;\",\"attribute vec2 uv;\",\"varying vec2 vUV;\",\"varying float vVisibility;\",\"void main() {\",\"vUV = uv;\",\"vec2 pos = position;\",\"if ( renderType == 2 ) {\",\"vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\",\"visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\",\"visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\",\"visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\",\"visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\",\"visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\",\"visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\",\"visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\",\"visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\",\"vVisibility =        visibility.r / 9.0;\",\"vVisibility *= 1.0 - visibility.g / 9.0;\",\"vVisibility *=       visibility.b / 9.0;\",\"vVisibility *= 1.0 - visibility.a / 9.0;\",\"pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\",\"pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\",\"}\",\"gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\",\"}\"].join(\"\\n\"),fragmentShader:[\"uniform lowp int renderType;\",\"uniform sampler2D map;\",\"uniform float opacity;\",\"uniform vec3 color;\",\"varying vec2 vUV;\",\"varying float vVisibility;\",\"void main() {\",\"if ( renderType == 0 ) {\",\"gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\",\"} else if ( renderType == 1 ) {\",\"gl_FragColor = texture2D( map, vUV );\",\"} else {\",\"vec4 texture = texture2D( map, vUV );\",\"texture.a *= opacity * vVisibility;\",\"gl_FragColor = texture;\",\"gl_FragColor.rgb *= color;\",\"}\",\"}\"].join(\"\\n\")},o=function(e){var n=c.createProgram(),r=c.createShader(c.FRAGMENT_SHADER),i=c.createShader(c.VERTEX_SHADER),o=\"precision \"+t.getPrecision()+\" float;\\n\";return c.shaderSource(r,o+e.fragmentShader),c.shaderSource(i,o+e.vertexShader),c.compileShader(r),c.compileShader(i),c.attachShader(n,r),c.attachShader(n,i),c.linkProgram(n),n}(i),a={vertex:c.getAttribLocation(o,\"position\"),uv:c.getAttribLocation(o,\"uv\")},s={renderType:c.getUniformLocation(o,\"renderType\"),map:c.getUniformLocation(o,\"map\"),occlusionMap:c.getUniformLocation(o,\"occlusionMap\"),opacity:c.getUniformLocation(o,\"opacity\"),color:c.getUniformLocation(o,\"color\"),scale:c.getUniformLocation(o,\"scale\"),rotation:c.getUniformLocation(o,\"rotation\"),screenPosition:c.getUniformLocation(o,\"screenPosition\")}}this.render=function(i,d,f){if(0!==e.length){var m=new Ce,v=f.w/f.z,g=.5*f.z,y=.5*f.w,b=16/f.w,x=new fe(b*v,b),w=new Ce(1,1,0),_=new fe(1,1),M=new wn;M.min.set(f.x,f.y),M.max.set(f.x+(f.z-16),f.y+(f.w-16)),void 0===o&&p(),c.useProgram(o),h.initAttributes(),h.enableAttribute(a.vertex),h.enableAttribute(a.uv),h.disableUnusedAttributes(),c.uniform1i(s.occlusionMap,0),c.uniform1i(s.map,1),c.bindBuffer(c.ARRAY_BUFFER,n),c.vertexAttribPointer(a.vertex,2,c.FLOAT,!1,16,0),c.vertexAttribPointer(a.uv,2,c.FLOAT,!1,16,8),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,r),h.disable(c.CULL_FACE),h.setDepthWrite(!1);for(var E=0,S=e.length;E<S;E++){b=16/f.w,x.set(b*v,b);var T=e[E];if(m.set(T.matrixWorld.elements[12],T.matrixWorld.elements[13],T.matrixWorld.elements[14]),m.applyMatrix4(d.matrixWorldInverse),m.applyMatrix4(d.projectionMatrix),w.copy(m),_.x=f.x+w.x*g+g-8,_.y=f.y+w.y*y+y-8,!0===M.containsPoint(_)){h.activeTexture(c.TEXTURE0),h.bindTexture(c.TEXTURE_2D,null),h.activeTexture(c.TEXTURE1),h.bindTexture(c.TEXTURE_2D,l),c.copyTexImage2D(c.TEXTURE_2D,0,c.RGB,_.x,_.y,16,16,0),c.uniform1i(s.renderType,0),c.uniform2f(s.scale,x.x,x.y),c.uniform3f(s.screenPosition,w.x,w.y,w.z),h.disable(c.BLEND),h.enable(c.DEPTH_TEST),c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0),h.activeTexture(c.TEXTURE0),h.bindTexture(c.TEXTURE_2D,u),c.copyTexImage2D(c.TEXTURE_2D,0,c.RGBA,_.x,_.y,16,16,0),c.uniform1i(s.renderType,1),h.disable(c.DEPTH_TEST),h.activeTexture(c.TEXTURE1),h.bindTexture(c.TEXTURE_2D,l),c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0),T.positionScreen.copy(w),T.customUpdateCallback?T.customUpdateCallback(T):T.updateLensFlares(),c.uniform1i(s.renderType,2),h.enable(c.BLEND);for(var C=0,A=T.lensFlares.length;C<A;C++){var P=T.lensFlares[C];P.opacity>.001&&P.scale>.001&&(w.x=P.x,w.y=P.y,w.z=P.z,b=P.size*P.scale/f.w,x.x=b*v,x.y=b,c.uniform3f(s.screenPosition,w.x,w.y,w.z),c.uniform2f(s.scale,x.x,x.y),c.uniform1f(s.rotation,P.rotation),c.uniform1f(s.opacity,P.opacity),c.uniform3f(s.color,P.color.r,P.color.g,P.color.b),h.setBlending(P.blending,P.blendEquation,P.blendSrc,P.blendDst),t.setTexture2D(P.texture,1),c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0))}}}h.enable(c.CULL_FACE),h.enable(c.DEPTH_TEST),h.setDepthWrite(!0),t.resetGLState()}}}function Mn(t,e){var n,r,i,o,a,s,l=t.context,u=t.state,c=new Ce,h=new Te,p=new Ce;function d(){var e=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),u=new Uint16Array([0,1,2,0,2,3]);n=l.createBuffer(),r=l.createBuffer(),l.bindBuffer(l.ARRAY_BUFFER,n),l.bufferData(l.ARRAY_BUFFER,e,l.STATIC_DRAW),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,r),l.bufferData(l.ELEMENT_ARRAY_BUFFER,u,l.STATIC_DRAW),i=function(){var e=l.createProgram(),n=l.createShader(l.VERTEX_SHADER),r=l.createShader(l.FRAGMENT_SHADER);return l.shaderSource(n,[\"precision \"+t.getPrecision()+\" float;\",\"uniform mat4 modelViewMatrix;\",\"uniform mat4 projectionMatrix;\",\"uniform float rotation;\",\"uniform vec2 scale;\",\"uniform vec2 uvOffset;\",\"uniform vec2 uvScale;\",\"attribute vec2 position;\",\"attribute vec2 uv;\",\"varying vec2 vUV;\",\"void main() {\",\"vUV = uvOffset + uv * uvScale;\",\"vec2 alignedPosition = position * scale;\",\"vec2 rotatedPosition;\",\"rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\",\"rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\",\"vec4 finalPosition;\",\"finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\",\"finalPosition.xy += rotatedPosition;\",\"finalPosition = projectionMatrix * finalPosition;\",\"gl_Position = finalPosition;\",\"}\"].join(\"\\n\")),l.shaderSource(r,[\"precision \"+t.getPrecision()+\" float;\",\"uniform vec3 color;\",\"uniform sampler2D map;\",\"uniform float opacity;\",\"uniform int fogType;\",\"uniform vec3 fogColor;\",\"uniform float fogDensity;\",\"uniform float fogNear;\",\"uniform float fogFar;\",\"uniform float alphaTest;\",\"varying vec2 vUV;\",\"void main() {\",\"vec4 texture = texture2D( map, vUV );\",\"if ( texture.a < alphaTest ) discard;\",\"gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );\",\"if ( fogType > 0 ) {\",\"float depth = gl_FragCoord.z / gl_FragCoord.w;\",\"float fogFactor = 0.0;\",\"if ( fogType == 1 ) {\",\"fogFactor = smoothstep( fogNear, fogFar, depth );\",\"} else {\",\"const float LOG2 = 1.442695;\",\"fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\",\"fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\",\"}\",\"gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\",\"}\",\"}\"].join(\"\\n\")),l.compileShader(n),l.compileShader(r),l.attachShader(e,n),l.attachShader(e,r),l.linkProgram(e),e}(),o={position:l.getAttribLocation(i,\"position\"),uv:l.getAttribLocation(i,\"uv\")},a={uvOffset:l.getUniformLocation(i,\"uvOffset\"),uvScale:l.getUniformLocation(i,\"uvScale\"),rotation:l.getUniformLocation(i,\"rotation\"),scale:l.getUniformLocation(i,\"scale\"),color:l.getUniformLocation(i,\"color\"),map:l.getUniformLocation(i,\"map\"),opacity:l.getUniformLocation(i,\"opacity\"),modelViewMatrix:l.getUniformLocation(i,\"modelViewMatrix\"),projectionMatrix:l.getUniformLocation(i,\"projectionMatrix\"),fogType:l.getUniformLocation(i,\"fogType\"),fogDensity:l.getUniformLocation(i,\"fogDensity\"),fogNear:l.getUniformLocation(i,\"fogNear\"),fogFar:l.getUniformLocation(i,\"fogFar\"),fogColor:l.getUniformLocation(i,\"fogColor\"),alphaTest:l.getUniformLocation(i,\"alphaTest\")};var c=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"canvas\");c.width=8,c.height=8;var h=c.getContext(\"2d\");h.fillStyle=\"white\",h.fillRect(0,0,8,8),(s=new _e(c)).needsUpdate=!0}function f(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:e.id-t.id}this.render=function(m,v){if(0!==e.length){void 0===i&&d(),l.useProgram(i),u.initAttributes(),u.enableAttribute(o.position),u.enableAttribute(o.uv),u.disableUnusedAttributes(),u.disable(l.CULL_FACE),u.enable(l.BLEND),l.bindBuffer(l.ARRAY_BUFFER,n),l.vertexAttribPointer(o.position,2,l.FLOAT,!1,16,0),l.vertexAttribPointer(o.uv,2,l.FLOAT,!1,16,8),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,r),l.uniformMatrix4fv(a.projectionMatrix,!1,v.projectionMatrix.elements),u.activeTexture(l.TEXTURE0),l.uniform1i(a.map,0);var g=0,y=0,b=m.fog;b?(l.uniform3f(a.fogColor,b.color.r,b.color.g,b.color.b),b.isFog?(l.uniform1f(a.fogNear,b.near),l.uniform1f(a.fogFar,b.far),l.uniform1i(a.fogType,1),g=1,y=1):b.isFogExp2&&(l.uniform1f(a.fogDensity,b.density),l.uniform1i(a.fogType,2),g=2,y=2)):(l.uniform1i(a.fogType,0),g=0,y=0);for(var x=0,w=e.length;x<w;x++){(M=e[x]).modelViewMatrix.multiplyMatrices(v.matrixWorldInverse,M.matrixWorld),M.z=-M.modelViewMatrix.elements[14]}e.sort(f);var _=[];for(x=0,w=e.length;x<w;x++){var M,E=(M=e[x]).material;if(!1!==E.visible){l.uniform1f(a.alphaTest,E.alphaTest),l.uniformMatrix4fv(a.modelViewMatrix,!1,M.modelViewMatrix.elements),M.matrixWorld.decompose(c,h,p),_[0]=p.x,_[1]=p.y;var S=0;m.fog&&E.fog&&(S=y),g!==S&&(l.uniform1i(a.fogType,S),g=S),null!==E.map?(l.uniform2f(a.uvOffset,E.map.offset.x,E.map.offset.y),l.uniform2f(a.uvScale,E.map.repeat.x,E.map.repeat.y)):(l.uniform2f(a.uvOffset,0,0),l.uniform2f(a.uvScale,1,1)),l.uniform1f(a.opacity,E.opacity),l.uniform3f(a.color,E.color.r,E.color.g,E.color.b),l.uniform1f(a.rotation,E.rotation),l.uniform2fv(a.scale,_),u.setBlending(E.blending,E.blendEquation,E.blendSrc,E.blendDst),u.setDepthTest(E.depthTest),u.setDepthWrite(E.depthWrite),E.map?t.setTexture2D(E.map,0):t.setTexture2D(s,0),l.drawElements(l.TRIANGLES,6,l.UNSIGNED_SHORT,0)}}u.enable(l.CULL_FACE),t.resetGLState()}}}xn.physical={uniforms:fn.merge([xn.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:mn.meshphysical_vert,fragmentShader:mn.meshphysical_frag},wn.prototype={constructor:wn,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new fe;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){var e=t||new fe;return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new fe;return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return(e||new fe).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return(e||new fe).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new fe;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}};var En,Sn,Tn,Cn,An,Pn,Rn,Ln,On,In,Nn,kn=0;function Dn(){Object.defineProperty(this,\"id\",{value:kn++}),this.uuid=de.generateUUID(),this.name=\"\",this.type=\"Material\",this.fog=!0,this.lights=!0,this.blending=T,this.side=g,this.shading=w,this.vertexColors=_,this.opacity=1,this.transparent=!1,this.blendSrc=z,this.blendDst=j,this.blendEquation=L,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Z,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this._needsUpdate=!0}function Fn(t){Dn.call(this),this.type=\"ShaderMaterial\",this.defines={},this.uniforms={},this.vertexShader=\"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\",this.fragmentShader=\"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==t&&(void 0!==t.attributes&&console.error(\"THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.\"),this.setValues(t))}function Bn(t){Dn.call(this),this.type=\"MeshDepthMaterial\",this.depthPacking=he,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function Un(t,e){this.min=void 0!==t?t:new Ce(1/0,1/0,1/0),this.max=void 0!==e?e:new Ce(-1/0,-1/0,-1/0)}function zn(t,e){this.center=void 0!==t?t:new Ce,this.radius=void 0!==e?e:0}function jn(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&console.error(\"THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.\")}function Vn(t,e){this.normal=void 0!==t?t:new Ce(1,0,0),this.constant=void 0!==e?e:0}function Wn(t,e,n,r,i,o){this.planes=[void 0!==t?t:new Vn,void 0!==e?e:new Vn,void 0!==n?n:new Vn,void 0!==r?r:new Vn,void 0!==i?i:new Vn,void 0!==o?o:new Vn]}function Gn(t,e,n,r){var i=t.context,o=t.state,a=new Wn,s=new Ae,l=e.shadows,u=new fe,c=new fe(r.maxTextureSize,r.maxTextureSize),h=new Ce,p=new Ce,d=[],f=1,v=2,x=1+(f|v),w=new Array(x),_=new Array(x),M={},E=[new Ce(1,0,0),new Ce(-1,0,0),new Ce(0,0,1),new Ce(0,0,-1),new Ce(0,1,0),new Ce(0,-1,0)],S=[new Ce(0,1,0),new Ce(0,1,0),new Ce(0,1,0),new Ce(0,1,0),new Ce(0,0,1),new Ce(0,0,-1)],T=[new Me,new Me,new Me,new Me,new Me,new Me],C=new Bn;C.depthPacking=pe,C.clipping=!0;for(var A=xn.distanceRGBA,P=fn.clone(A.uniforms),R=0;R!==x;++R){var L=0!=(R&f),O=0!=(R&v),I=C.clone();I.morphTargets=L,I.skinning=O,w[R]=I;var N=new Fn({defines:{USE_SHADOWMAP:\"\"},uniforms:P,vertexShader:A.vertexShader,fragmentShader:A.fragmentShader,morphTargets:L,skinning:O,clipping:!0});_[R]=N}var k=this;function D(e,n,r,i){var o=e.geometry,a=null,s=w,l=e.customDepthMaterial;if(r&&(s=_,l=e.customDistanceMaterial),l)a=l;else{var u=!1;n.morphTargets&&(o&&o.isBufferGeometry?u=o.morphAttributes&&o.morphAttributes.position&&o.morphAttributes.position.length>0:o&&o.isGeometry&&(u=o.morphTargets&&o.morphTargets.length>0));var c=e.isSkinnedMesh&&n.skinning,h=0;u&&(h|=f),c&&(h|=v),a=s[h]}if(t.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var p=a.uuid,d=n.uuid,m=M[p];void 0===m&&(m={},M[p]=m);var x=m[d];void 0===x&&(x=a.clone(),m[d]=x),a=x}a.visible=n.visible,a.wireframe=n.wireframe;var E=n.side;return k.renderSingleSided&&E==b&&(E=g),k.renderReverseSided&&(E===g?E=y:E===y&&(E=g)),a.side=E,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,r&&void 0!==a.uniforms.lightPos&&a.uniforms.lightPos.value.copy(i),a}function F(t,e,n){if(!1!==t.visible){if(0!=(t.layers.mask&e.layers.mask)&&(t.isMesh||t.isLine||t.isPoints))if(t.castShadow&&(!1===t.frustumCulled||!0===a.intersectsObject(t)))!0===t.material.visible&&(t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),d.push(t));for(var r=t.children,i=0,o=r.length;i<o;i++)F(r[i],e,n)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=m,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(e,r){if(!1!==k.enabled&&(!1!==k.autoUpdate||!1!==k.needsUpdate)&&0!==l.length){var f,m;o.buffers.color.setClear(1,1,1,1),o.disable(i.BLEND),o.setDepthTest(!0),o.setScissorTest(!1);for(var v=0,g=l.length;v<g;v++){var y=l[v],b=y.shadow;if(void 0!==b){var x=b.camera;if(u.copy(b.mapSize),u.min(c),y&&y.isPointLight){f=6,m=!0;var w=u.x,_=u.y;T[0].set(2*w,_,w,_),T[1].set(0,_,w,_),T[2].set(3*w,_,w,_),T[3].set(w,_,w,_),T[4].set(3*w,0,w,_),T[5].set(w,0,w,_),u.x*=4,u.y*=2}else f=1,m=!1;if(null===b.map){var M={minFilter:bt,magFilter:bt,format:Ut};b.map=new Ee(u.x,u.y,M),x.updateProjectionMatrix()}b.isSpotLightShadow&&b.update(y),b&&b.isRectAreaLightShadow&&b.update(y);var C=b.map,A=b.matrix;p.setFromMatrixPosition(y.matrixWorld),x.position.copy(p),t.setRenderTarget(C),t.clear();for(var P=0;P<f;P++){if(m){h.copy(x.position),h.add(E[P]),x.up.copy(S[P]),x.lookAt(h);var R=T[P];o.viewport(R)}else h.setFromMatrixPosition(y.target.matrixWorld),x.lookAt(h);x.updateMatrixWorld(),x.matrixWorldInverse.getInverse(x.matrixWorld),A.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),A.multiply(x.projectionMatrix),A.multiply(x.matrixWorldInverse),s.multiplyMatrices(x.projectionMatrix,x.matrixWorldInverse),a.setFromMatrix(s),d.length=0,F(e,r,x);for(var L=0,O=d.length;L<O;L++){var I=d[L],N=n.update(I),B=I.material;if(B&&B.isMultiMaterial)for(var U=N.groups,z=B.materials,j=0,V=U.length;j<V;j++){var W=U[j],G=z[W.materialIndex];if(!0===G.visible){var H=D(I,G,m,p);t.renderBufferDirect(x,null,N,H,I,W)}}else{H=D(I,B,m,p);t.renderBufferDirect(x,null,N,H,I,null)}}}}else console.warn(\"THREE.WebGLShadowMap:\",y,\"has no shadow.\")}var q=t.getClearColor(),X=t.getClearAlpha();t.setClearColor(q,X),k.needsUpdate=!1}}}function Hn(t,e){this.origin=void 0!==t?t:new Ce,this.direction=void 0!==e?e:new Ce}function qn(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._order=r||qn.DefaultOrder}function Xn(){this.mask=1}Dn.prototype={constructor:Dn,isMaterial:!0,get needsUpdate(){return this._needsUpdate},set needsUpdate(t){!0===t&&this.update(),this._needsUpdate=t},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n){var r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]=\"overdraw\"===e?Number(n):n:console.warn(\"THREE.\"+this.type+\": '\"+e+\"' is not a property of this material.\")}else console.warn(\"THREE.Material: '\"+e+\"' parameter is undefined.\")}},toJSON:function(t){var e=void 0===t;e&&(t={textures:{},images:{}});var n={metadata:{version:4.4,type:\"Material\",generator:\"Material.toJSON\"}};function r(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}if(n.uuid=this.uuid,n.type=this.type,\"\"!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearCoat&&(n.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(n.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==T&&(n.blending=this.blending),this.shading!==w&&(n.shading=this.shading),this.side!==g&&(n.side=this.side),this.vertexColors!==_&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),\"round\"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),\"round\"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),n.skinning=this.skinning,n.morphTargets=this.morphTargets,e){var i=r(t.textures),o=r(t.images);i.length>0&&(n.textures=i),o.length>0&&(n.images=o)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.shading=t.shading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,n=null;if(null!==e){var r=e.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this},update:function(){this.dispatchEvent({type:\"update\"})},dispose:function(){this.dispatchEvent({type:\"dispose\"})}},Object.assign(Dn.prototype,r.prototype),Fn.prototype=Object.create(Dn.prototype),Fn.prototype.constructor=Fn,Fn.prototype.isShaderMaterial=!0,Fn.prototype.copy=function(t){return Dn.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=fn.clone(t.uniforms),this.defines=t.defines,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},Fn.prototype.toJSON=function(t){var e=Dn.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},Bn.prototype=Object.create(Dn.prototype),Bn.prototype.constructor=Bn,Bn.prototype.isMeshDepthMaterial=!0,Bn.prototype.copy=function(t){return Dn.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},Un.prototype={constructor:Un,isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,l=t.length;s<l;s+=3){var u=t[s],c=t[s+1],h=t[s+2];u<e&&(e=u),c<n&&(n=c),h<r&&(r=h),u>i&&(i=u),c>o&&(o=c),h>a&&(a=h)}return this.min.set(e,n,r),this.max.set(i,o,a),this},setFromBufferAttribute:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,l=t.count;s<l;s++){var u=t.getX(s),c=t.getY(s),h=t.getZ(s);u<e&&(e=u),c<n&&(n=c),h<r&&(r=h),u>i&&(i=u),c>o&&(o=c),h>a&&(a=h)}return this.min.set(e,n,r),this.max.set(i,o,a),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new Ce;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){var e=t||new Ce;return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new Ce;return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var t=new Ce;return function(e){var n=this;return e.updateMatrixWorld(!0),e.traverse((function(e){var r,i,o=e.geometry;if(void 0!==o)if(o.isGeometry){var a=o.vertices;for(r=0,i=a.length;r<i;r++)t.copy(a[r]),t.applyMatrix4(e.matrixWorld),n.expandByPoint(t)}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(r=0,i=s.count;r<i;r++)t.fromBufferAttribute(s,r).applyMatrix4(e.matrixWorld),n.expandByPoint(t)}})),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return(e||new Ce).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(t){return void 0===Sn&&(Sn=new Ce),this.clampPoint(t.center,Sn),Sn.distanceToSquared(t.center)<=t.radius*t.radius},intersectsPlane:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=t.constant&&n>=t.constant},clampPoint:function(t,e){return(e||new Ce).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new Ce;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new Ce;return function(e){var n=e||new zn;return this.getCenter(n.center),n.radius=.5*this.getSize(t).length(),n}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:(En=[new Ce,new Ce,new Ce,new Ce,new Ce,new Ce,new Ce,new Ce],function(t){return this.isEmpty()?this:(En[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),En[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),En[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),En[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),En[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),En[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),En[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),En[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(En),this)}),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},zn.prototype={constructor:zn,set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(t,e){void 0===Tn&&(Tn=new Un);var n=this.center;void 0!==e?n.copy(e):Tn.setFromPoints(t).getCenter(n);for(var r=0,i=0,o=t.length;i<o;i++)r=Math.max(r,n.distanceToSquared(t[i]));return this.radius=Math.sqrt(r),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(this.center.dot(t.normal)-t.constant)<=this.radius},clampPoint:function(t,e){var n=this.center.distanceToSquared(t),r=e||new Ce;return r.copy(t),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(t){var e=t||new Un;return e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}},jn.prototype={constructor:jn,isMatrix3:!0,set:function(t,e,n,r,i,o,a,s,l){var u=this.elements;return u[0]=t,u[1]=r,u[2]=a,u[3]=e,u[4]=i,u[5]=s,u[6]=n,u[7]=o,u[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]),this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t;return function(e){void 0===t&&(t=new Ce);for(var n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix3(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=t[8];return e*o*u-e*a*l-n*i*u+n*a*s+r*i*l-r*o*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error(\"THREE.Matrix3.getInverse no longer takes a Matrix4 argument.\");var n=t.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],l=n[4],u=n[5],c=n[6],h=n[7],p=n[8],d=p*l-u*h,f=u*c-p*s,m=h*s-l*c,v=i*d+o*f+a*m;if(0===v){var g=\"THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0\";if(!0===e)throw new Error(g);return console.warn(g),this.identity()}var y=1/v;return r[0]=d*y,r[1]=(a*h-p*o)*y,r[2]=(u*o-a*l)*y,r[3]=f*y,r[4]=(p*i-a*c)*y,r[5]=(a*s-u*i)*y,r[6]=m*y,r[7]=(o*c-h*i)*y,r[8]=(l*i-o*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<9;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}},Vn.prototype={constructor:Vn,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new Ce,e=new Ce;return function(n,r,i){var o=t.subVectors(i,r).cross(e.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(o,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(t,e){var n=this.distanceToPoint(t);return(e||new Ce).copy(this.normal).multiplyScalar(n)},intersectLine:function(){var t=new Ce;return function(e,n){var r=n||new Ce,i=e.delta(t),o=this.normal.dot(i);if(0===o)return 0===this.distanceToPoint(e.start)?r.copy(e.start):void 0;var a=-(e.start.dot(this.normal)+this.constant)/o;return a<0||a>1?void 0:r.copy(i).multiplyScalar(a).add(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return(t||new Ce).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new Ce,e=new jn;return function(n,r){var i=this.coplanarPoint(t).applyMatrix4(n),o=r||e.getNormalMatrix(n),a=this.normal.applyMatrix3(o).normalize();return this.constant=-i.dot(a),this}}(),translate:function(t){return this.constant=this.constant-t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}},Wn.prototype={constructor:Wn,set:function(t,e,n,r,i,o){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this},setFromMatrix:function(t){var e=this.planes,n=t.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],u=n[6],c=n[7],h=n[8],p=n[9],d=n[10],f=n[11],m=n[12],v=n[13],g=n[14],y=n[15];return e[0].setComponents(a-r,c-s,f-h,y-m).normalize(),e[1].setComponents(a+r,c+s,f+h,y+m).normalize(),e[2].setComponents(a+i,c+l,f+p,y+v).normalize(),e[3].setComponents(a-i,c-l,f-p,y-v).normalize(),e[4].setComponents(a-o,c-u,f-d,y-g).normalize(),e[5].setComponents(a+o,c+u,f+d,y+g).normalize(),this},intersectsObject:(Pn=new zn,function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Pn.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(Pn)}),intersectsSprite:function(){var t=new zn;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,n=t.center,r=-t.radius,i=0;i<6;i++){if(e[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:(Cn=new Ce,An=new Ce,function(t){for(var e=this.planes,n=0;n<6;n++){var r=e[n];Cn.x=r.normal.x>0?t.min.x:t.max.x,An.x=r.normal.x>0?t.max.x:t.min.x,Cn.y=r.normal.y>0?t.min.y:t.max.y,An.y=r.normal.y>0?t.max.y:t.min.y,Cn.z=r.normal.z>0?t.min.z:t.max.z,An.z=r.normal.z>0?t.max.z:t.min.z;var i=r.distanceToPoint(Cn),o=r.distanceToPoint(An);if(i<0&&o<0)return!1}return!0}),containsPoint:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}},Hn.prototype={constructor:Hn,set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return(e||new Ce).copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new Ce;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){var n=e||new Ce;n.subVectors(t,this.origin);var r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new Ce;return function(e){var n=t.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(n).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:(Ln=new Ce,On=new Ce,In=new Ce,function(t,e,n,r){Ln.copy(t).add(e).multiplyScalar(.5),On.copy(e).sub(t).normalize(),In.copy(this.origin).sub(Ln);var i,o,a,s,l=.5*t.distanceTo(e),u=-this.direction.dot(On),c=In.dot(this.direction),h=-In.dot(On),p=In.lengthSq(),d=Math.abs(1-u*u);if(d>0)if(o=u*c-h,s=l*d,(i=u*h-c)>=0)if(o>=-s)if(o<=s){var f=1/d;a=(i*=f)*(i+u*(o*=f)+2*c)+o*(u*i+o+2*h)+p}else o=l,a=-(i=Math.max(0,-(u*o+c)))*i+o*(o+2*h)+p;else o=-l,a=-(i=Math.max(0,-(u*o+c)))*i+o*(o+2*h)+p;else o<=-s?a=-(i=Math.max(0,-(-u*l+c)))*i+(o=i>0?-l:Math.min(Math.max(-l,-h),l))*(o+2*h)+p:o<=s?(i=0,a=(o=Math.min(Math.max(-l,-h),l))*(o+2*h)+p):a=-(i=Math.max(0,-(u*l+c)))*i+(o=i>0?l:Math.min(Math.max(-l,-h),l))*(o+2*h)+p;else o=u>0?-l:l,a=-(i=Math.max(0,-(u*o+c)))*i+o*(o+2*h)+p;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(On).multiplyScalar(o).add(Ln),a}),intersectSphere:function(){var t=new Ce;return function(e,n){t.subVectors(e.center,this.origin);var r=t.dot(this.direction),i=t.dot(t)-r*r,o=e.radius*e.radius;if(i>o)return null;var a=Math.sqrt(o-i),s=r-a,l=r+a;return s<0&&l<0?null:s<0?this.at(l,n):this.at(s,n)}}(),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null},intersectPlane:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var n,r,i,o,a,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,h=this.origin;return l>=0?(n=(t.min.x-h.x)*l,r=(t.max.x-h.x)*l):(n=(t.max.x-h.x)*l,r=(t.min.x-h.x)*l),u>=0?(i=(t.min.y-h.y)*u,o=(t.max.y-h.y)*u):(i=(t.max.y-h.y)*u,o=(t.min.y-h.y)*u),n>o||i>r?null:((i>n||n!=n)&&(n=i),(o<r||r!=r)&&(r=o),c>=0?(a=(t.min.z-h.z)*c,s=(t.max.z-h.z)*c):(a=(t.max.z-h.z)*c,s=(t.min.z-h.z)*c),n>s||a>r?null:((a>n||n!=n)&&(n=a),(s<r||r!=r)&&(r=s),r<0?null:this.at(n>=0?n:r,e)))},intersectsBox:(Rn=new Ce,function(t){return null!==this.intersectBox(t,Rn)}),intersectTriangle:function(){var t=new Ce,e=new Ce,n=new Ce,r=new Ce;return function(i,o,a,s,l){e.subVectors(o,i),n.subVectors(a,i),r.crossVectors(e,n);var u,c=this.direction.dot(r);if(c>0){if(s)return null;u=1}else{if(!(c<0))return null;u=-1,c=-c}t.subVectors(this.origin,i);var h=u*this.direction.dot(n.crossVectors(t,n));if(h<0)return null;var p=u*this.direction.dot(e.cross(t));if(p<0)return null;if(h+p>c)return null;var d=-u*t.dot(r);return d<0?null:this.at(d/c,l)}}(),applyMatrix4:function(t){return this.direction.add(this.origin).applyMatrix4(t),this.origin.applyMatrix4(t),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}},qn.RotationOrders=[\"XYZ\",\"YZX\",\"ZXY\",\"XZY\",\"YXZ\",\"ZYX\"],qn.DefaultOrder=\"XYZ\",qn.prototype={constructor:qn,isEuler:!0,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get order(){return this._order},set order(t){this._order=t,this.onChangeCallback()},set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){var r=de.clamp,i=t.elements,o=i[0],a=i[4],s=i[8],l=i[1],u=i[5],c=i[9],h=i[2],p=i[6],d=i[10];return\"XYZ\"===(e=e||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(p,u),this._z=0)):\"YXZ\"===e?(this._x=Math.asin(-r(c,-1,1)),Math.abs(c)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,o),this._z=0)):\"ZXY\"===e?(this._x=Math.asin(r(p,-1,1)),Math.abs(p)<.99999?(this._y=Math.atan2(-h,d),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,o))):\"ZYX\"===e?(this._y=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(p,d),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,u))):\"YZX\"===e?(this._z=Math.asin(r(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(s,d))):\"XZY\"===e?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(p,u),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-c,d),this._y=0)):console.warn(\"THREE.Euler: .setFromRotationMatrix() given unsupported order: \"+e),this._order=e,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var t;return function(e,n,r){return void 0===t&&(t=new Ae),t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,n,r)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:(Nn=new Te,function(t){return Nn.setFromEuler(this),this.setFromQuaternion(Nn,t)}),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new Ce(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},Xn.prototype={constructor:Xn,set:function(t){this.mask=1<<t},enable:function(t){this.mask|=1<<t},toggle:function(t){this.mask^=1<<t},disable:function(t){this.mask&=~(1<<t)},test:function(t){return 0!=(this.mask&t.mask)}};var Yn,Kn,Zn,Qn,Jn,$n,tr,er=0;function nr(){Object.defineProperty(this,\"id\",{value:er++}),this.uuid=de.generateUUID(),this.name=\"\",this.type=\"Object3D\",this.parent=null,this.children=[],this.up=nr.DefaultUp.clone();var t=new Ce,e=new qn,n=new Te,r=new Ce(1,1,1);e.onChange((function(){n.setFromEuler(e,!1)})),n.onChange((function(){e.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{enumerable:!0,value:t},rotation:{enumerable:!0,value:e},quaternion:{enumerable:!0,value:n},scale:{enumerable:!0,value:r},modelViewMatrix:{value:new Ae},normalMatrix:{value:new jn}}),this.matrix=new Ae,this.matrixWorld=new Ae,this.matrixAutoUpdate=nr.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Xn,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={},this.onBeforeRender=function(){},this.onAfterRender=function(){}}function rr(t,e){this.start=void 0!==t?t:new Ce,this.end=void 0!==e?e:new Ce}function ir(t,e,n){this.a=void 0!==t?t:new Ce,this.b=void 0!==e?e:new Ce,this.c=void 0!==n?n:new Ce}function or(t,e,n,r,i,o){this.a=t,this.b=e,this.c=n,this.normal=r&&r.isVector3?r:new Ce,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new vn,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}function ar(t){Dn.call(this),this.type=\"MeshBasicMaterial\",this.color=new vn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=et,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\"round\",this.wireframeLinejoin=\"round\",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function sr(t,e,n){if(Array.isArray(t))throw new TypeError(\"THREE.BufferAttribute: array should be a Typed Array.\");this.uuid=de.generateUUID(),this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function lr(t,e){sr.call(this,new Int8Array(t),e)}function ur(t,e){sr.call(this,new Uint8Array(t),e)}function cr(t,e){sr.call(this,new Uint8ClampedArray(t),e)}function hr(t,e){sr.call(this,new Int16Array(t),e)}function pr(t,e){sr.call(this,new Uint16Array(t),e)}function dr(t,e){sr.call(this,new Int32Array(t),e)}function fr(t,e){sr.call(this,new Uint32Array(t),e)}function mr(t,e){sr.call(this,new Float32Array(t),e)}function vr(t,e){sr.call(this,new Float64Array(t),e)}function gr(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function yr(t){for(var e=t.length,n=-1/0;e--;)t[e]>n&&(n=t[e]);return n}nr.DefaultUp=new Ce(0,1,0),nr.DefaultMatrixAutoUpdate=!0,nr.prototype={constructor:nr,isObject3D:!0,applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:(Qn=new Te,function(t,e){return Qn.setFromAxisAngle(t,e),this.quaternion.multiply(Qn),this}),rotateX:function(){var t=new Ce(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new Ce(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new Ce(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new Ce;return function(e,n){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(n)),this}}(),translateX:function(){var t=new Ce(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new Ce(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new Ce(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:(Zn=new Ae,function(t){return t.applyMatrix4(Zn.getInverse(this.matrixWorld))}),lookAt:function(){var t=new Ae;return function(e){t.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error(\"THREE.Object3D.add: object can't be added as a child of itself.\",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:\"added\"}),this.children.push(t)):console.error(\"THREE.Object3D.add: object not an instance of THREE.Object3D.\",t),this)},remove:function(t){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);var n=this.children.indexOf(t);-1!==n&&(t.parent=null,t.dispatchEvent({type:\"removed\"}),this.children.splice(n,1))},getObjectById:function(t){return this.getObjectByProperty(\"id\",t)},getObjectByName:function(t){return this.getObjectByProperty(\"name\",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(t,e);if(void 0!==i)return i}},getWorldPosition:function(t){var e=t||new Ce;return this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(Yn=new Ce,Kn=new Ce,function(t){var e=t||new Te;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(Yn,e,Kn),e}),getWorldRotation:function(){var t=new Te;return function(e){var n=e||new qn;return this.getWorldQuaternion(t),n.setFromQuaternion(t,this.rotation.order,!1)}}(),getWorldScale:function(){var t=new Ce,e=new Te;return function(n){var r=n||new Ce;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,r),r}}(),getWorldDirection:function(){var t=new Te;return function(e){var n=e||new Ce;return this.getWorldQuaternion(t),n.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){!0===this.matrixAutoUpdate&&this.updateMatrix(),!0!==this.matrixWorldNeedsUpdate&&!0!==t||(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].updateMatrixWorld(t)},toJSON:function(t){var e=void 0===t||\"\"===t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{}},n.metadata={version:4.4,type:\"Object\",generator:\"Object3D.toJSON\"});var r={};if(r.uuid=this.uuid,r.type=this.type,\"\"!==this.name&&(r.name=this.name),\"{}\"!==JSON.stringify(this.userData)&&(r.userData=this.userData),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),r.matrix=this.matrix.toArray(),void 0!==this.geometry&&(void 0===t.geometries[this.geometry.uuid]&&(t.geometries[this.geometry.uuid]=this.geometry.toJSON(t)),r.geometry=this.geometry.uuid),void 0!==this.material&&(void 0===t.materials[this.material.uuid]&&(t.materials[this.material.uuid]=this.material.toJSON(t)),r.material=this.material.uuid),this.children.length>0){r.children=[];for(var i=0;i<this.children.length;i++)r.children.push(this.children[i].toJSON(t).object)}if(e){var o=u(t.geometries),a=u(t.materials),s=u(t.textures),l=u(t.images);o.length>0&&(n.geometries=o),a.length>0&&(n.materials=a),s.length>0&&(n.textures=s),l.length>0&&(n.images=l)}return n.object=r,n;function u(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++){var r=t.children[n];this.add(r.clone())}return this}},Object.assign(nr.prototype,r.prototype),rr.prototype={constructor:rr,set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return(t||new Ce).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return(t||new Ce).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){var n=e||new Ce;return this.delta(n).multiplyScalar(t).add(this.start)},closestPointToPointParameter:(Jn=new Ce,$n=new Ce,function(t,e){Jn.subVectors(t,this.start),$n.subVectors(this.end,this.start);var n=$n.dot($n),r=$n.dot(Jn)/n;return e&&(r=de.clamp(r,0,1)),r}),closestPointToPoint:function(t,e,n){var r=this.closestPointToPointParameter(t,e),i=n||new Ce;return this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}},ir.normal=(tr=new Ce,function(t,e,n,r){var i=r||new Ce;i.subVectors(n,e),tr.subVectors(t,e),i.cross(tr);var o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}),ir.barycoordFromPoint=function(){var t=new Ce,e=new Ce,n=new Ce;return function(r,i,o,a,s){t.subVectors(a,i),e.subVectors(o,i),n.subVectors(r,i);var l=t.dot(t),u=t.dot(e),c=t.dot(n),h=e.dot(e),p=e.dot(n),d=l*h-u*u,f=s||new Ce;if(0===d)return f.set(-2,-1,-1);var m=1/d,v=(h*c-u*p)*m,g=(l*p-u*c)*m;return f.set(1-v-g,g,v)}}(),ir.containsPoint=function(){var t=new Ce;return function(e,n,r,i){var o=ir.barycoordFromPoint(e,n,r,i,t);return o.x>=0&&o.y>=0&&o.x+o.y<=1}}(),ir.prototype={constructor:ir,set:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},setFromPointsAndIndices:function(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:function(){var t=new Ce,e=new Ce;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),midpoint:function(t){return(t||new Ce).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(t){return ir.normal(this.a,this.b,this.c,t)},plane:function(t){return(t||new Vn).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(t,e){return ir.barycoordFromPoint(t,this.a,this.b,this.c,e)},containsPoint:function(t){return ir.containsPoint(t,this.a,this.b,this.c)},closestPointToPoint:function(){var t,e,n,r;return function(i,o){void 0===t&&(t=new Vn,e=[new rr,new rr,new rr],n=new Ce,r=new Ce);var a=o||new Ce,s=1/0;if(t.setFromCoplanarPoints(this.a,this.b,this.c),t.projectPoint(i,n),!0===this.containsPoint(n))a.copy(n);else{e[0].set(this.a,this.b),e[1].set(this.b,this.c),e[2].set(this.c,this.a);for(var l=0;l<e.length;l++){e[l].closestPointToPoint(n,!0,r);var u=n.distanceToSquared(r);u<s&&(s=u,a.copy(r))}}return a}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}},or.prototype={constructor:or,clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}},ar.prototype=Object.create(Dn.prototype),ar.prototype.constructor=ar,ar.prototype.isMeshBasicMaterial=!0,ar.prototype.copy=function(t){return Dn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},sr.prototype={constructor:sr,isBufferAttribute:!0,set needsUpdate(t){!0===t&&this.version++},setArray:function(t){if(Array.isArray(t))throw new TypeError(\"THREE.BufferAttribute: array should be a Typed Array.\");this.count=void 0!==t?t.length/this.itemSize:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn(\"THREE.BufferAttribute.copyColorsArray(): color is undefined\",r),o=new vn),e[n++]=o.r,e[n++]=o.g,e[n++]=o.b}return this},copyIndicesArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];e[n++]=o.a,e[n++]=o.b,e[n++]=o.c}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn(\"THREE.BufferAttribute.copyVector2sArray(): vector is undefined\",r),o=new fe),e[n++]=o.x,e[n++]=o.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn(\"THREE.BufferAttribute.copyVector3sArray(): vector is undefined\",r),o=new Ce),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn(\"THREE.BufferAttribute.copyVector4sArray(): vector is undefined\",r),o=new Me),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z,e[n++]=o.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=i,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},lr.prototype=Object.create(sr.prototype),lr.prototype.constructor=lr,ur.prototype=Object.create(sr.prototype),ur.prototype.constructor=ur,cr.prototype=Object.create(sr.prototype),cr.prototype.constructor=cr,hr.prototype=Object.create(sr.prototype),hr.prototype.constructor=hr,pr.prototype=Object.create(sr.prototype),pr.prototype.constructor=pr,dr.prototype=Object.create(sr.prototype),dr.prototype.constructor=dr,fr.prototype=Object.create(sr.prototype),fr.prototype.constructor=fr,mr.prototype=Object.create(sr.prototype),mr.prototype.constructor=mr,vr.prototype=Object.create(sr.prototype),vr.prototype.constructor=vr,Object.assign(gr.prototype,{computeGroups:function(t){for(var e,n=[],r=void 0,i=t.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==r&&(r=a.materialIndex,void 0!==e&&(e.count=3*o-e.start,n.push(e)),e={start:3*o,materialIndex:r})}void 0!==e&&(e.count=3*o-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e,n=t.faces,r=t.vertices,i=t.faceVertexUvs,o=i[0]&&i[0].length>0,a=i[1]&&i[1].length>0,s=t.morphTargets,l=s.length;if(l>0){e=[];for(var u=0;u<l;u++)e[u]=[];this.morphTargets.position=e}var c,h=t.morphNormals,p=h.length;if(p>0){c=[];for(u=0;u<p;u++)c[u]=[];this.morphTargets.normal=c}var d=t.skinIndices,f=t.skinWeights,m=d.length===r.length,v=f.length===r.length;for(u=0;u<n.length;u++){var g=n[u];this.vertices.push(r[g.a],r[g.b],r[g.c]);var y=g.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var b=g.normal;this.normals.push(b,b,b)}var x,w=g.vertexColors;if(3===w.length)this.colors.push(w[0],w[1],w[2]);else{var _=g.color;this.colors.push(_,_,_)}if(!0===o)void 0!==(x=i[0][u])?this.uvs.push(x[0],x[1],x[2]):(console.warn(\"THREE.DirectGeometry.fromGeometry(): Undefined vertexUv \",u),this.uvs.push(new fe,new fe,new fe));if(!0===a)void 0!==(x=i[1][u])?this.uvs2.push(x[0],x[1],x[2]):(console.warn(\"THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 \",u),this.uvs2.push(new fe,new fe,new fe));for(var M=0;M<l;M++){var E=s[M].vertices;e[M].push(E[g.a],E[g.b],E[g.c])}for(M=0;M<p;M++){var S=h[M].vertexNormals[u];c[M].push(S.a,S.b,S.c)}m&&this.skinIndices.push(d[g.a],d[g.b],d[g.c]),v&&this.skinWeights.push(f[g.a],f[g.b],f[g.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var br,xr=0;function wr(){return xr++}function _r(){Object.defineProperty(this,\"id\",{value:wr()}),this.uuid=de.generateUUID(),this.name=\"\",this.type=\"Geometry\",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function Mr(){Object.defineProperty(this,\"id\",{value:wr()}),this.uuid=de.generateUUID(),this.name=\"\",this.type=\"BufferGeometry\",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function Er(t,e){nr.call(this),this.type=\"Mesh\",this.geometry=void 0!==t?t:new Mr,this.material=void 0!==e?e:new ar({color:16777215*Math.random()}),this.drawMode=ee,this.updateMorphTargets()}function Sr(t,e,n,r,i,o){_r.call(this),this.type=\"BoxGeometry\",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new Tr(t,e,n,r,i,o)),this.mergeVertices()}function Tr(t,e,n,r,i,o){Mr.call(this),this.type=\"BoxBufferGeometry\",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};var a=this;r=Math.floor(r)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;var s=[],l=[],u=[],c=[],h=0,p=0;function d(t,e,n,r,i,o,d,f,m,v,g){var y,b,x=o/m,w=d/v,_=o/2,M=d/2,E=f/2,S=m+1,T=v+1,C=0,A=0,P=new Ce;for(b=0;b<T;b++){var R=b*w-M;for(y=0;y<S;y++){var L=y*x-_;P[t]=L*r,P[e]=R*i,P[n]=E,l.push(P.x,P.y,P.z),P[t]=0,P[e]=0,P[n]=f>0?1:-1,u.push(P.x,P.y,P.z),c.push(y/m),c.push(1-b/v),C+=1}}for(b=0;b<v;b++)for(y=0;y<m;y++){var O=h+y+S*b,I=h+y+S*(b+1),N=h+(y+1)+S*(b+1),k=h+(y+1)+S*b;s.push(O,I,k),s.push(I,N,k),A+=6}a.addGroup(p,A,g),p+=A,h+=C}d(\"z\",\"y\",\"x\",-1,-1,n,e,t,o,i,0),d(\"z\",\"y\",\"x\",1,-1,n,e,-t,o,i,1),d(\"x\",\"z\",\"y\",1,1,t,n,e,r,o,2),d(\"x\",\"z\",\"y\",1,-1,t,n,-e,r,o,3),d(\"x\",\"y\",\"z\",1,-1,t,e,n,r,i,4),d(\"x\",\"y\",\"z\",-1,-1,t,e,-n,r,i,5),this.setIndex(s),this.addAttribute(\"position\",new mr(l,3)),this.addAttribute(\"normal\",new mr(u,3)),this.addAttribute(\"uv\",new mr(c,2))}function Cr(t,e,n,r){_r.call(this),this.type=\"PlaneGeometry\",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new Ar(t,e,n,r))}function Ar(t,e,n,r){Mr.call(this),this.type=\"PlaneBufferGeometry\",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};var i,o,a=t/2,s=e/2,l=Math.floor(n)||1,u=Math.floor(r)||1,c=l+1,h=u+1,p=t/l,d=e/u,f=[],m=[],v=[],g=[];for(o=0;o<h;o++){var y=o*d-s;for(i=0;i<c;i++){var b=i*p-a;m.push(b,-y,0),v.push(0,0,1),g.push(i/l),g.push(1-o/u)}}for(o=0;o<u;o++)for(i=0;i<l;i++){var x=i+c*o,w=i+c*(o+1),_=i+1+c*(o+1),M=i+1+c*o;f.push(x,w,M),f.push(w,_,M)}this.setIndex(f),this.addAttribute(\"position\",new mr(m,3)),this.addAttribute(\"normal\",new mr(v,3)),this.addAttribute(\"uv\",new mr(g,2))}function Pr(){nr.call(this),this.type=\"Camera\",this.matrixWorldInverse=new Ae,this.projectionMatrix=new Ae}function Rr(t,e,n,r){Pr.call(this),this.type=\"PerspectiveCamera\",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function Lr(t,e,n,r,i,o){Pr.call(this),this.type=\"OrthographicCamera\",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function Or(t,e,n){var r,i,o;return{setMode:function(t){r=t},setIndex:function(n){n.array instanceof Uint32Array&&e.get(\"OES_element_index_uint\")?(i=t.UNSIGNED_INT,o=4):n.array instanceof Uint16Array?(i=t.UNSIGNED_SHORT,o=2):(i=t.UNSIGNED_BYTE,o=1)},render:function(e,a){t.drawElements(r,a,i,e*o),n.calls++,n.vertices+=a,r===t.TRIANGLES&&(n.faces+=a/3)},renderInstances:function(a,s,l){var u=e.get(\"ANGLE_instanced_arrays\");null!==u?(u.drawElementsInstancedANGLE(r,l,i,s*o,a.maxInstancedCount),n.calls++,n.vertices+=l*a.maxInstancedCount,r===t.TRIANGLES&&(n.faces+=a.maxInstancedCount*l/3)):console.error(\"THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.\")}}}function Ir(t,e,n){var r;return{setMode:function(t){r=t},render:function(e,i){t.drawArrays(r,e,i),n.calls++,n.vertices+=i,r===t.TRIANGLES&&(n.faces+=i/3)},renderInstances:function(i){var o=e.get(\"ANGLE_instanced_arrays\");if(null!==o){var a=i.attributes.position,s=0;a.isInterleavedBufferAttribute?(s=a.data.count,o.drawArraysInstancedANGLE(r,0,s,i.maxInstancedCount)):(s=a.count,o.drawArraysInstancedANGLE(r,0,s,i.maxInstancedCount)),n.calls++,n.vertices+=s*i.maxInstancedCount,r===t.TRIANGLES&&(n.faces+=i.maxInstancedCount*s/3)}else console.error(\"THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.\")}}}function Nr(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case\"DirectionalLight\":n={direction:new Ce,color:new vn,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new fe};break;case\"SpotLight\":n={position:new Ce,direction:new Ce,color:new vn,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new fe};break;case\"PointLight\":n={position:new Ce,color:new vn,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new fe};break;case\"HemisphereLight\":n={direction:new Ce,skyColor:new vn,groundColor:new vn};break;case\"RectAreaLight\":n={color:new vn,position:new Ce,halfWidth:new Ce,halfHeight:new Ce}}return t[e.id]=n,n}}}function kr(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),!1===t.getShaderParameter(r,t.COMPILE_STATUS)&&console.error(\"THREE.WebGLShader: Shader couldn't compile.\"),\"\"!==t.getShaderInfoLog(r)&&console.warn(\"THREE.WebGLShader: gl.getShaderInfoLog()\",e===t.VERTEX_SHADER?\"vertex\":\"fragment\",t.getShaderInfoLog(r),function(t){for(var e=t.split(\"\\n\"),n=0;n<e.length;n++)e[n]=n+1+\": \"+e[n];return e.join(\"\\n\")}(n)),r}_r.prototype={constructor:_r,isGeometry:!0,applyMatrix:function(t){for(var e=(new jn).getNormalMatrix(t),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(t)}for(n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(e).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new Ae),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new Ae),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new Ae),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,n,r){return void 0===t&&(t=new Ae),t.makeTranslation(e,n,r),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,n,r){return void 0===t&&(t=new Ae),t.makeScale(e,n,r),this.applyMatrix(t),this}}(),lookAt:function(t){void 0===br&&(br=new nr),br.lookAt(t),br.updateMatrix(),this.applyMatrix(br.matrix)},fromBufferGeometry:function(t){var e=this,n=null!==t.index?t.index.array:void 0,r=t.attributes,i=r.position.array,o=void 0!==r.normal?r.normal.array:void 0,a=void 0!==r.color?r.color.array:void 0,s=void 0!==r.uv?r.uv.array:void 0,l=void 0!==r.uv2?r.uv2.array:void 0;void 0!==l&&(this.faceVertexUvs[1]=[]);for(var u=[],c=[],h=[],p=0,d=0;p<i.length;p+=3,d+=2)e.vertices.push(new Ce(i[p],i[p+1],i[p+2])),void 0!==o&&u.push(new Ce(o[p],o[p+1],o[p+2])),void 0!==a&&e.colors.push(new vn(a[p],a[p+1],a[p+2])),void 0!==s&&c.push(new fe(s[d],s[d+1])),void 0!==l&&h.push(new fe(l[d],l[d+1]));function f(t,n,r,i){var p=new or(t,n,r,void 0!==o?[u[t].clone(),u[n].clone(),u[r].clone()]:[],void 0!==a?[e.colors[t].clone(),e.colors[n].clone(),e.colors[r].clone()]:[],i);e.faces.push(p),void 0!==s&&e.faceVertexUvs[0].push([c[t].clone(),c[n].clone(),c[r].clone()]),void 0!==l&&e.faceVertexUvs[1].push([h[t].clone(),h[n].clone(),h[r].clone()])}if(void 0!==n){var m=t.groups;if(m.length>0)for(p=0;p<m.length;p++)for(var v=m[p],g=v.start,y=(d=g,g+v.count);d<y;d+=3)f(n[d],n[d+1],n[d+2],v.materialIndex);else for(p=0;p<n.length;p+=3)f(n[p],n[p+1],n[p+2])}else for(p=0;p<i.length/3;p+=3)f(p,p+1,p+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,r=new Ae;return r.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var t=new Ce,e=new Ce,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];t.subVectors(s,a),e.subVectors(o,a),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t){var e,n,r,i,o,a;for(void 0===t&&(t=!0),a=new Array(this.vertices.length),e=0,n=this.vertices.length;e<n;e++)a[e]=new Ce;if(t){var s,l,u,c=new Ce,h=new Ce;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],s=this.vertices[o.a],l=this.vertices[o.b],u=this.vertices[o.c],c.subVectors(u,l),h.subVectors(s,l),c.cross(h),a[o.a].add(c),a[o.b].add(c),a[o.c].add(c)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)a[(o=this.faces[r]).a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(e=0,n=this.vertices.length;e<n;e++)a[e].normalize();for(r=0,i=this.faces.length;r<i;r++){var p=(o=this.faces[r]).vertexNormals;3===p.length?(p[0].copy(a[o.a]),p[1].copy(a[o.b]),p[2].copy(a[o.c])):(p[0]=a[o.a].clone(),p[1]=a[o.b].clone(),p[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,n;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){var r=(n=this.faces[t]).vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for((i=this.faces[n]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),t=0,e=i.vertexNormals.length;t<e;t++)i.__originalVertexNormals[t]?i.__originalVertexNormals[t].copy(i.vertexNormals[t]):i.__originalVertexNormals[t]=i.vertexNormals[t].clone();var o=new _r;for(o.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var a=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)l=new Ce,u={a:new Ce,b:new Ce,c:new Ce},a.push(l),s.push(u)}var l,u,c=this.morphNormals[t];for(o.vertices=this.morphTargets[t].vertices,o.computeFaceNormals(),o.computeVertexNormals(),n=0,r=this.faces.length;n<r;n++)i=this.faces[n],l=c.faceNormals[n],u=c.vertexNormals[n],l.copy(i.normal),u.a.copy(i.vertexNormals[0]),u.b.copy(i.vertexNormals[1]),u.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)(i=this.faces[n]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeLineDistances:function(){for(var t=0,e=this.vertices,n=0,r=e.length;n<r;n++)n>0&&(t+=e[n].distanceTo(e[n-1])),this.lineDistances[n]=t},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Un),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new zn),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(!1!==(t&&t.isGeometry)){var r,i=this.vertices.length,o=this.vertices,a=t.vertices,s=this.faces,l=t.faces,u=this.faceVertexUvs[0],c=t.faceVertexUvs[0],h=this.colors,p=t.colors;void 0===n&&(n=0),void 0!==e&&(r=(new jn).getNormalMatrix(e));for(var d=0,f=a.length;d<f;d++){var m=a[d].clone();void 0!==e&&m.applyMatrix4(e),o.push(m)}for(d=0,f=p.length;d<f;d++)h.push(p[d].clone());for(d=0,f=l.length;d<f;d++){var v,g,y,b=l[d],x=b.vertexNormals,w=b.vertexColors;(v=new or(b.a+i,b.b+i,b.c+i)).normal.copy(b.normal),void 0!==r&&v.normal.applyMatrix3(r).normalize();for(var _=0,M=x.length;_<M;_++)g=x[_].clone(),void 0!==r&&g.applyMatrix3(r).normalize(),v.vertexNormals.push(g);v.color.copy(b.color);for(_=0,M=w.length;_<M;_++)y=w[_],v.vertexColors.push(y.clone());v.materialIndex=b.materialIndex+n,s.push(v)}for(d=0,f=c.length;d<f;d++){var E=c[d],S=[];if(void 0!==E){for(_=0,M=E.length;_<M;_++)S.push(E[_].clone());u.push(S)}}}else console.error(\"THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.\",t)},mergeMesh:function(t){!1!==(t&&t.isMesh)?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error(\"THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.\",t)},mergeVertices:function(){var t,e,n,r,i,o,a,s,l={},u=[],c=[],h=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)t=this.vertices[n],void 0===l[e=Math.round(t.x*h)+\"_\"+Math.round(t.y*h)+\"_\"+Math.round(t.z*h)]?(l[e]=n,u.push(this.vertices[n]),c[n]=u.length-1):c[n]=c[l[e]];var p=[];for(n=0,r=this.faces.length;n<r;n++){(i=this.faces[n]).a=c[i.a],i.b=c[i.b],i.c=c[i.c],o=[i.a,i.b,i.c];for(var d=0;d<3;d++)if(o[d]===o[(d+1)%3]){p.push(n);break}}for(n=p.length-1;n>=0;n--){var f=p[n];for(this.faces.splice(f,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(f,1)}var m=this.vertices.length-u.length;return this.vertices=u,m},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,n=0;n<e;n++)t[n]._id=n;t.sort((function(t,e){return t.materialIndex-e.materialIndex}));var r,i,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];o&&o.length===e&&(r=[]),a&&a.length===e&&(i=[]);for(n=0;n<e;n++){var s=t[n]._id;r&&r.push(o[s]),i&&i.push(a[s])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var t={metadata:{version:4.4,type:\"Geometry\",generator:\"Geometry.toJSON\"}};if(t.uuid=this.uuid,t.type=this.type,\"\"!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}for(var r=[],i=0;i<this.vertices.length;i++){var o=this.vertices[i];r.push(o.x,o.y,o.z)}var a=[],s=[],l={},u=[],c={},h=[],p={};for(i=0;i<this.faces.length;i++){var d=this.faces[i],f=void 0!==this.faceVertexUvs[0][i],m=d.normal.length()>0,v=d.vertexNormals.length>0,g=1!==d.color.r||1!==d.color.g||1!==d.color.b,y=d.vertexColors.length>0,b=0;if(b=M(b,0,0),b=M(b,1,!0),b=M(b,2,!1),b=M(b,3,f),b=M(b,4,m),b=M(b,5,v),b=M(b,6,g),b=M(b,7,y),a.push(b),a.push(d.a,d.b,d.c),a.push(d.materialIndex),f){var x=this.faceVertexUvs[0][i];a.push(T(x[0]),T(x[1]),T(x[2]))}if(m&&a.push(E(d.normal)),v){var w=d.vertexNormals;a.push(E(w[0]),E(w[1]),E(w[2]))}if(g&&a.push(S(d.color)),y){var _=d.vertexColors;a.push(S(_[0]),S(_[1]),S(_[2]))}}function M(t,e,n){return n?t|1<<e:t&~(1<<e)}function E(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==l[e]?l[e]:(l[e]=s.length/3,s.push(t.x,t.y,t.z),l[e])}function S(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==c[e]?c[e]:(c[e]=u.length,u.push(t.getHex()),c[e])}function T(t){var e=t.x.toString()+t.y.toString();return void 0!==p[e]?p[e]:(p[e]=h.length/2,h.push(t.x,t.y),p[e])}return t.data={},t.data.vertices=r,t.data.normals=s,u.length>0&&(t.data.colors=u),h.length>0&&(t.data.uvs=[h]),t.data.faces=a,t},clone:function(){return(new _r).copy(this)},copy:function(t){var e,n,r,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,n=s.length;e<n;e++)this.vertices.push(s[e].clone());var l=t.colors;for(e=0,n=l.length;e<n;e++)this.colors.push(l[e].clone());var u=t.faces;for(e=0,n=u.length;e<n;e++)this.faces.push(u[e].clone());for(e=0,n=t.faceVertexUvs.length;e<n;e++){var c=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),r=0,i=c.length;r<i;r++){var h=c[r],p=[];for(o=0,a=h.length;o<a;o++){var d=h[o];p.push(d.clone())}this.faceVertexUvs[e].push(p)}}var f=t.morphTargets;for(e=0,n=f.length;e<n;e++){var m={};if(m.name=f[e].name,void 0!==f[e].vertices)for(m.vertices=[],r=0,i=f[e].vertices.length;r<i;r++)m.vertices.push(f[e].vertices[r].clone());if(void 0!==f[e].normals)for(m.normals=[],r=0,i=f[e].normals.length;r<i;r++)m.normals.push(f[e].normals[r].clone());this.morphTargets.push(m)}var v=t.morphNormals;for(e=0,n=v.length;e<n;e++){var g={};if(void 0!==v[e].vertexNormals)for(g.vertexNormals=[],r=0,i=v[e].vertexNormals.length;r<i;r++){var y=v[e].vertexNormals[r],b={};b.a=y.a.clone(),b.b=y.b.clone(),b.c=y.c.clone(),g.vertexNormals.push(b)}if(void 0!==v[e].faceNormals)for(g.faceNormals=[],r=0,i=v[e].faceNormals.length;r<i;r++)g.faceNormals.push(v[e].faceNormals[r].clone());this.morphNormals.push(g)}var x=t.skinWeights;for(e=0,n=x.length;e<n;e++)this.skinWeights.push(x[e].clone());var w=t.skinIndices;for(e=0,n=w.length;e<n;e++)this.skinIndices.push(w[e].clone());var _=t.lineDistances;for(e=0,n=_.length;e<n;e++)this.lineDistances.push(_[e]);var M=t.boundingBox;null!==M&&(this.boundingBox=M.clone());var E=t.boundingSphere;return null!==E&&(this.boundingSphere=E.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:\"dispose\"})}},Object.assign(_r.prototype,r.prototype),Mr.prototype={constructor:Mr,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(yr(t)>65535?fr:pr)(t,1):this.index=t},addAttribute:function(t,e){return!1===(e&&e.isBufferAttribute)&&!1===(e&&e.isInterleavedBufferAttribute)?(console.warn(\"THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).\"),void this.addAttribute(t,new sr(arguments[1],arguments[2]))):\"index\"===t?(console.warn(\"THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.\"),void this.setIndex(e)):(this.attributes[t]=e,this)},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var n=this.attributes.normal;void 0!==n&&((new jn).getNormalMatrix(t).applyToBufferAttribute(n),n.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new Ae),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new Ae),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new Ae),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,n,r){return void 0===t&&(t=new Ae),t.makeTranslation(e,n,r),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,n,r){return void 0===t&&(t=new Ae),t.makeScale(e,n,r),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new nr),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var n=new mr(3*e.vertices.length,3),r=new mr(3*e.colors.length,3);if(this.addAttribute(\"position\",n.copyVector3sArray(e.vertices)),this.addAttribute(\"color\",r.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var i=new mr(e.lineDistances.length,1);this.addAttribute(\"lineDistance\",i.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},updateFromObject:function(t){var e,n=t.geometry;if(t.isMesh){var r=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(r=void 0,n.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(n);r.verticesNeedUpdate=n.verticesNeedUpdate,r.normalsNeedUpdate=n.normalsNeedUpdate,r.colorsNeedUpdate=n.colorsNeedUpdate,r.uvsNeedUpdate=n.uvsNeedUpdate,r.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=r}return!0===n.verticesNeedUpdate&&(void 0!==(e=this.attributes.position)&&(e.copyVector3sArray(n.vertices),e.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(e=this.attributes.normal)&&(e.copyVector3sArray(n.normals),e.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(e=this.attributes.color)&&(e.copyColorsArray(n.colors),e.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(e=this.attributes.uv)&&(e.copyVector2sArray(n.uvs),e.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(e=this.attributes.lineDistance)&&(e.copyArray(n.lineDistances),e.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(t.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new gr).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute(\"position\",new sr(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.addAttribute(\"normal\",new sr(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var r=new Float32Array(3*t.colors.length);this.addAttribute(\"color\",new sr(r,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var i=new Float32Array(2*t.uvs.length);this.addAttribute(\"uv\",new sr(i,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var o=new Float32Array(2*t.uvs2.length);this.addAttribute(\"uv2\",new sr(o,2).copyVector2sArray(t.uvs2))}if(t.indices.length>0){var a=new(yr(t.indices)>65535?Uint32Array:Uint16Array)(3*t.indices.length);this.setIndex(new sr(a,1).copyIndicesArray(t.indices))}for(var s in this.groups=t.groups,t.morphTargets){for(var l=[],u=t.morphTargets[s],c=0,h=u.length;c<h;c++){var p=u[c],d=new mr(3*p.length,3);l.push(d.copyVector3sArray(p))}this.morphAttributes[s]=l}if(t.skinIndices.length>0){var f=new mr(4*t.skinIndices.length,4);this.addAttribute(\"skinIndex\",f.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var m=new mr(4*t.skinWeights.length,4);this.addAttribute(\"skinWeight\",m.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Un);var t=this.attributes.position;void 0!==t?this.boundingBox.setFromBufferAttribute(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var t=new Un,e=new Ce;return function(){null===this.boundingSphere&&(this.boundingSphere=new zn);var n=this.attributes.position;if(n){var r=this.boundingSphere.center;t.setFromBufferAttribute(n),t.getCenter(r);for(var i=0,o=0,a=n.count;o<a;o++)e.x=n.getX(o),e.y=n.getY(o),e.z=n.getZ(o),i=Math.max(i,r.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,n=this.groups;if(e.position){var r=e.position.array;if(void 0===e.normal)this.addAttribute(\"normal\",new sr(new Float32Array(r.length),3));else for(var i=e.normal.array,o=0,a=i.length;o<a;o++)i[o]=0;var s,l,u,c=e.normal.array,h=new Ce,p=new Ce,d=new Ce,f=new Ce,m=new Ce;if(t){var v=t.array;0===n.length&&this.addGroup(0,v.length);for(var g=0,y=n.length;g<y;++g){var b=n[g],x=b.start;for(o=x,a=x+b.count;o<a;o+=3)s=3*v[o+0],l=3*v[o+1],u=3*v[o+2],h.fromArray(r,s),p.fromArray(r,l),d.fromArray(r,u),f.subVectors(d,p),m.subVectors(h,p),f.cross(m),c[s]+=f.x,c[s+1]+=f.y,c[s+2]+=f.z,c[l]+=f.x,c[l+1]+=f.y,c[l+2]+=f.z,c[u]+=f.x,c[u+1]+=f.y,c[u+2]+=f.z}}else for(o=0,a=r.length;o<a;o+=9)h.fromArray(r,o),p.fromArray(r,o+3),d.fromArray(r,o+6),f.subVectors(d,p),m.subVectors(h,p),f.cross(m),c[o]=f.x,c[o+1]=f.y,c[o+2]=f.z,c[o+3]=f.x,c[o+4]=f.y,c[o+5]=f.z,c[o+6]=f.x,c[o+7]=f.y,c[o+8]=f.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(!1!==(t&&t.isBufferGeometry)){void 0===e&&(e=0);var n=this.attributes;for(var r in n)if(void 0!==t.attributes[r])for(var i=n[r].array,o=t.attributes[r],a=o.array,s=0,l=o.itemSize*e;s<a.length;s++,l++)i[l]=a[s];return this}console.error(\"THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.\",t)},normalizeNormals:function(){for(var t,e,n,r,i=this.attributes.normal.array,o=0,a=i.length;o<a;o+=3)t=i[o],e=i[o+1],n=i[o+2],r=1/Math.sqrt(t*t+e*e+n*n),i[o]*=r,i[o+1]*=r,i[o+2]*=r},toNonIndexed:function(){if(null===this.index)return console.warn(\"THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.\"),this;var t=new Mr,e=this.index.array,n=this.attributes;for(var r in n){for(var i=n[r],o=i.array,a=i.itemSize,s=new o.constructor(e.length*a),l=0,u=0,c=0,h=e.length;c<h;c++){l=e[c]*a;for(var p=0;p<a;p++)s[u++]=o[l++]}t.addAttribute(r,new sr(s,a))}return t},toJSON:function(){var t={metadata:{version:4.4,type:\"BufferGeometry\",generator:\"BufferGeometry.toJSON\"}};if(t.uuid=this.uuid,t.type=this.type,\"\"!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);t.data.index={type:r.array.constructor.name,array:i}}var o=this.attributes;for(var n in o){var a=o[n];i=Array.prototype.slice.call(a.array);t.data.attributes[n]={itemSize:a.itemSize,type:a.array.constructor.name,array:i,normalized:a.normalized}}var s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));var l=this.boundingSphere;return null!==l&&(t.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),t},clone:function(){return(new Mr).copy(this)},copy:function(t){var e,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var i=t.index;null!==i&&this.setIndex(i.clone());var o=t.attributes;for(e in o){var a=o[e];this.addAttribute(e,a.clone())}var s=t.morphAttributes;for(e in s){var l=[],u=s[e];for(n=0,r=u.length;n<r;n++)l.push(u[n].clone());this.morphAttributes[e]=l}var c=t.groups;for(n=0,r=c.length;n<r;n++){var h=c[n];this.addGroup(h.start,h.count,h.materialIndex)}var p=t.boundingBox;null!==p&&(this.boundingBox=p.clone());var d=t.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this},dispose:function(){this.dispatchEvent({type:\"dispose\"})}},Mr.MaxIndex=65535,Object.assign(Mr.prototype,r.prototype),Er.prototype=Object.assign(Object.create(nr.prototype),{constructor:Er,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return nr.prototype.copy.call(this,t),this.drawMode=t.drawMode,this},updateMorphTargets:function(){var t=this.geometry.morphTargets;if(void 0!==t&&t.length>0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,n=t.length;e<n;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[t[e].name]=e}},raycast:function(){var t=new Ae,e=new Hn,n=new zn,r=new Ce,i=new Ce,o=new Ce,a=new Ce,s=new Ce,l=new Ce,u=new fe,c=new fe,h=new fe,p=new Ce,d=new Ce,f=new Ce;function m(t,e,n,r,i,o,a){return ir.barycoordFromPoint(t,e,n,r,p),i.multiplyScalar(p.x),o.multiplyScalar(p.y),a.multiplyScalar(p.z),i.add(o).add(a),i.clone()}function v(t,e,n,r,i,o,a){var s=t.material;if(null===(s.side===y?n.intersectTriangle(o,i,r,!0,a):n.intersectTriangle(r,i,o,s.side!==b,a)))return null;f.copy(a),f.applyMatrix4(t.matrixWorld);var l=e.ray.origin.distanceTo(f);return l<e.near||l>e.far?null:{distance:l,point:f.clone(),object:t}}function g(t,e,n,a,s,l,p,f){r.fromBufferAttribute(a,l),i.fromBufferAttribute(a,p),o.fromBufferAttribute(a,f);var g=v(t,e,n,r,i,o,d);return g&&(s&&(u.fromBufferAttribute(s,l),c.fromBufferAttribute(s,p),h.fromBufferAttribute(s,f),g.uv=m(d,r,i,o,u,c,h)),g.face=new or(l,p,f,ir.normal(r,i,o)),g.faceIndex=l),g}return function(p,f){var y,b=this.geometry,x=this.material,w=this.matrixWorld;if(void 0!==x&&(null===b.boundingSphere&&b.computeBoundingSphere(),n.copy(b.boundingSphere),n.applyMatrix4(w),!1!==p.ray.intersectsSphere(n)&&(t.getInverse(w),e.copy(p.ray).applyMatrix4(t),null===b.boundingBox||!1!==e.intersectsBox(b.boundingBox))))if(b.isBufferGeometry){var _,M,E,S,T,C=b.index,A=b.attributes.position,P=b.attributes.uv;if(null!==C)for(S=0,T=C.count;S<T;S+=3)_=C.getX(S),M=C.getX(S+1),E=C.getX(S+2),(y=g(this,p,e,A,P,_,M,E))&&(y.faceIndex=Math.floor(S/3),f.push(y));else for(S=0,T=A.count;S<T;S+=3)(y=g(this,p,e,A,P,_=S,M=S+1,E=S+2))&&(y.index=_,f.push(y))}else if(b.isGeometry){var R,L,O,I,N=x&&x.isMultiMaterial,k=!0===N?x.materials:null,D=b.vertices,F=b.faces,B=b.faceVertexUvs[0];B.length>0&&(I=B);for(var U=0,z=F.length;U<z;U++){var j=F[U],V=!0===N?k[j.materialIndex]:x;if(void 0!==V){if(R=D[j.a],L=D[j.b],O=D[j.c],!0===V.morphTargets){var W=b.morphTargets,G=this.morphTargetInfluences;r.set(0,0,0),i.set(0,0,0),o.set(0,0,0);for(var H=0,q=W.length;H<q;H++){var X=G[H];if(0!==X){var Y=W[H].vertices;r.addScaledVector(a.subVectors(Y[j.a],R),X),i.addScaledVector(s.subVectors(Y[j.b],L),X),o.addScaledVector(l.subVectors(Y[j.c],O),X)}}r.add(R),i.add(L),o.add(O),R=r,L=i,O=o}if(y=v(this,p,e,R,L,O,d)){if(I){var K=I[U];u.copy(K[0]),c.copy(K[1]),h.copy(K[2]),y.uv=m(d,R,L,O,u,c,h)}y.face=j,y.faceIndex=U,f.push(y)}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Sr.prototype=Object.create(_r.prototype),Sr.prototype.constructor=Sr,Tr.prototype=Object.create(Mr.prototype),Tr.prototype.constructor=Tr,Cr.prototype=Object.create(_r.prototype),Cr.prototype.constructor=Cr,Ar.prototype=Object.create(Mr.prototype),Ar.prototype.constructor=Ar,Pr.prototype=Object.create(nr.prototype),Pr.prototype.constructor=Pr,Pr.prototype.isCamera=!0,Pr.prototype.getWorldDirection=function(){var t=new Te;return function(e){var n=e||new Ce;return this.getWorldQuaternion(t),n.set(0,0,-1).applyQuaternion(t)}}(),Pr.prototype.lookAt=function(){var t=new Ae;return function(e){t.lookAt(this.position,e,this.up),this.quaternion.setFromRotationMatrix(t)}}(),Pr.prototype.clone=function(){return(new this.constructor).copy(this)},Pr.prototype.copy=function(t){return nr.prototype.copy.call(this,t),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},Rr.prototype=Object.assign(Object.create(Pr.prototype),{constructor:Rr,isPerspectiveCamera:!0,copy:function(t){return Pr.prototype.copy.call(this,t),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*de.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*de.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*de.RAD2DEG*Math.atan(Math.tan(.5*de.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,r,i,o){this.aspect=t/e,this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*de.DEG2RAD*this.fov)/this.zoom,n=2*e,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==o){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,e-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var l=this.filmOffset;0!==l&&(i+=t*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,e,e-n,t,this.far)},toJSON:function(t){var e=nr.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),Lr.prototype=Object.assign(Object.create(Pr.prototype),{constructor:Lr,isOrthographicCamera:!0,copy:function(t){return Pr.prototype.copy.call(this,t),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,r,i,o){this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-t,o=n+t,a=r+e,s=r-e;if(null!==this.view){var l=this.zoom/(this.view.width/this.view.fullWidth),u=this.zoom/(this.view.height/this.view.fullHeight),c=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;o=(i+=c*(this.view.offsetX/l))+c*(this.view.width/l),s=(a-=h*(this.view.offsetY/u))-h*(this.view.height/u)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far)},toJSON:function(t){var e=nr.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}});var Dr,Fr,Br=0;function Ur(t){switch(t){case ie:return[\"Linear\",\"( value )\"];case oe:return[\"sRGB\",\"( value )\"];case se:return[\"RGBE\",\"( value )\"];case le:return[\"RGBM\",\"( value, 7.0 )\"];case ue:return[\"RGBM\",\"( value, 16.0 )\"];case ce:return[\"RGBD\",\"( value, 256.0 )\"];case ae:return[\"Gamma\",\"( value, float( GAMMA_FACTOR ) )\"];default:throw new Error(\"unsupported encoding: \"+t)}}function zr(t,e){var n=Ur(e);return\"vec4 \"+t+\"( vec4 value ) { return \"+n[0]+\"ToLinear\"+n[1]+\"; }\"}function jr(t,e){var n;switch(e){case ot:n=\"Linear\";break;case at:n=\"Reinhard\";break;case st:n=\"Uncharted2\";break;case lt:n=\"OptimizedCineon\";break;default:throw new Error(\"unsupported toneMapping: \"+e)}return\"vec3 \"+t+\"( vec3 color ) { return \"+n+\"ToneMapping( color ); }\"}function Vr(t){return\"\"!==t}function Wr(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function Gr(t){return t.replace(/#include +<([\\w\\d.]+)>/g,(function(t,e){var n=mn[e];if(void 0===n)throw new Error(\"Can not resolve #include <\"+e+\">\");return Gr(n)}))}function Hr(t){return t.replace(/for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g,(function(t,e,n,r){for(var i=\"\",o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\\[ i \\]/g,\"[ \"+o+\" ]\");return i}))}function qr(t,e,n,r){var i=t.context,o=n.extensions,a=n.defines,s=n.__webglShader.vertexShader,l=n.__webglShader.fragmentShader,u=\"SHADOWMAP_TYPE_BASIC\";r.shadowMapType===m?u=\"SHADOWMAP_TYPE_PCF\":r.shadowMapType===v&&(u=\"SHADOWMAP_TYPE_PCF_SOFT\");var c=\"ENVMAP_TYPE_CUBE\",h=\"ENVMAP_MODE_REFLECTION\",p=\"ENVMAP_BLENDING_MULTIPLY\";if(r.envMap){switch(n.envMap.mapping){case ut:case ct:c=\"ENVMAP_TYPE_CUBE\";break;case ft:case mt:c=\"ENVMAP_TYPE_CUBE_UV\";break;case ht:case pt:c=\"ENVMAP_TYPE_EQUIREC\";break;case dt:c=\"ENVMAP_TYPE_SPHERE\"}switch(n.envMap.mapping){case ct:case pt:h=\"ENVMAP_MODE_REFRACTION\"}switch(n.combine){case et:p=\"ENVMAP_BLENDING_MULTIPLY\";break;case nt:p=\"ENVMAP_BLENDING_MIX\";break;case rt:p=\"ENVMAP_BLENDING_ADD\"}}var d,f,g,y,b,x=t.gammaFactor>0?t.gammaFactor:1,w=function(t,e,n){return[(t=t||{}).derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap||e.flatShading?\"#extension GL_OES_standard_derivatives : enable\":\"\",(t.fragDepth||e.logarithmicDepthBuffer)&&n.get(\"EXT_frag_depth\")?\"#extension GL_EXT_frag_depth : enable\":\"\",t.drawBuffers&&n.get(\"WEBGL_draw_buffers\")?\"#extension GL_EXT_draw_buffers : require\":\"\",(t.shaderTextureLOD||e.envMap)&&n.get(\"EXT_shader_texture_lod\")?\"#extension GL_EXT_shader_texture_lod : enable\":\"\"].filter(Vr).join(\"\\n\")}(o,r,t.extensions),_=function(t){var e=[];for(var n in t){var r=t[n];!1!==r&&e.push(\"#define \"+n+\" \"+r)}return e.join(\"\\n\")}(a),M=i.createProgram();n.isRawShaderMaterial?(d=[_,\"\\n\"].filter(Vr).join(\"\\n\"),f=[w,_,\"\\n\"].filter(Vr).join(\"\\n\")):(d=[\"precision \"+r.precision+\" float;\",\"precision \"+r.precision+\" int;\",\"#define SHADER_NAME \"+n.__webglShader.name,_,r.supportsVertexTextures?\"#define VERTEX_TEXTURES\":\"\",\"#define GAMMA_FACTOR \"+x,\"#define MAX_BONES \"+r.maxBones,r.useFog&&r.fog?\"#define USE_FOG\":\"\",r.useFog&&r.fogExp?\"#define FOG_EXP2\":\"\",r.map?\"#define USE_MAP\":\"\",r.envMap?\"#define USE_ENVMAP\":\"\",r.envMap?\"#define \"+h:\"\",r.lightMap?\"#define USE_LIGHTMAP\":\"\",r.aoMap?\"#define USE_AOMAP\":\"\",r.emissiveMap?\"#define USE_EMISSIVEMAP\":\"\",r.bumpMap?\"#define USE_BUMPMAP\":\"\",r.normalMap?\"#define USE_NORMALMAP\":\"\",r.displacementMap&&r.supportsVertexTextures?\"#define USE_DISPLACEMENTMAP\":\"\",r.specularMap?\"#define USE_SPECULARMAP\":\"\",r.roughnessMap?\"#define USE_ROUGHNESSMAP\":\"\",r.metalnessMap?\"#define USE_METALNESSMAP\":\"\",r.alphaMap?\"#define USE_ALPHAMAP\":\"\",r.vertexColors?\"#define USE_COLOR\":\"\",r.flatShading?\"#define FLAT_SHADED\":\"\",r.skinning?\"#define USE_SKINNING\":\"\",r.useVertexTexture?\"#define BONE_TEXTURE\":\"\",r.morphTargets?\"#define USE_MORPHTARGETS\":\"\",r.morphNormals&&!1===r.flatShading?\"#define USE_MORPHNORMALS\":\"\",r.doubleSided?\"#define DOUBLE_SIDED\":\"\",r.flipSided?\"#define FLIP_SIDED\":\"\",\"#define NUM_CLIPPING_PLANES \"+r.numClippingPlanes,r.shadowMapEnabled?\"#define USE_SHADOWMAP\":\"\",r.shadowMapEnabled?\"#define \"+u:\"\",r.sizeAttenuation?\"#define USE_SIZEATTENUATION\":\"\",r.logarithmicDepthBuffer?\"#define USE_LOGDEPTHBUF\":\"\",r.logarithmicDepthBuffer&&t.extensions.get(\"EXT_frag_depth\")?\"#define USE_LOGDEPTHBUF_EXT\":\"\",\"uniform mat4 modelMatrix;\",\"uniform mat4 modelViewMatrix;\",\"uniform mat4 projectionMatrix;\",\"uniform mat4 viewMatrix;\",\"uniform mat3 normalMatrix;\",\"uniform vec3 cameraPosition;\",\"attribute vec3 position;\",\"attribute vec3 normal;\",\"attribute vec2 uv;\",\"#ifdef USE_COLOR\",\"\\tattribute vec3 color;\",\"#endif\",\"#ifdef USE_MORPHTARGETS\",\"\\tattribute vec3 morphTarget0;\",\"\\tattribute vec3 morphTarget1;\",\"\\tattribute vec3 morphTarget2;\",\"\\tattribute vec3 morphTarget3;\",\"\\t#ifdef USE_MORPHNORMALS\",\"\\t\\tattribute vec3 morphNormal0;\",\"\\t\\tattribute vec3 morphNormal1;\",\"\\t\\tattribute vec3 morphNormal2;\",\"\\t\\tattribute vec3 morphNormal3;\",\"\\t#else\",\"\\t\\tattribute vec3 morphTarget4;\",\"\\t\\tattribute vec3 morphTarget5;\",\"\\t\\tattribute vec3 morphTarget6;\",\"\\t\\tattribute vec3 morphTarget7;\",\"\\t#endif\",\"#endif\",\"#ifdef USE_SKINNING\",\"\\tattribute vec4 skinIndex;\",\"\\tattribute vec4 skinWeight;\",\"#endif\",\"\\n\"].filter(Vr).join(\"\\n\"),f=[w,\"precision \"+r.precision+\" float;\",\"precision \"+r.precision+\" int;\",\"#define SHADER_NAME \"+n.__webglShader.name,_,r.alphaTest?\"#define ALPHATEST \"+r.alphaTest:\"\",\"#define GAMMA_FACTOR \"+x,r.useFog&&r.fog?\"#define USE_FOG\":\"\",r.useFog&&r.fogExp?\"#define FOG_EXP2\":\"\",r.map?\"#define USE_MAP\":\"\",r.envMap?\"#define USE_ENVMAP\":\"\",r.envMap?\"#define \"+c:\"\",r.envMap?\"#define \"+h:\"\",r.envMap?\"#define \"+p:\"\",r.lightMap?\"#define USE_LIGHTMAP\":\"\",r.aoMap?\"#define USE_AOMAP\":\"\",r.emissiveMap?\"#define USE_EMISSIVEMAP\":\"\",r.bumpMap?\"#define USE_BUMPMAP\":\"\",r.normalMap?\"#define USE_NORMALMAP\":\"\",r.specularMap?\"#define USE_SPECULARMAP\":\"\",r.roughnessMap?\"#define USE_ROUGHNESSMAP\":\"\",r.metalnessMap?\"#define USE_METALNESSMAP\":\"\",r.alphaMap?\"#define USE_ALPHAMAP\":\"\",r.vertexColors?\"#define USE_COLOR\":\"\",r.gradientMap?\"#define USE_GRADIENTMAP\":\"\",r.flatShading?\"#define FLAT_SHADED\":\"\",r.doubleSided?\"#define DOUBLE_SIDED\":\"\",r.flipSided?\"#define FLIP_SIDED\":\"\",\"#define NUM_CLIPPING_PLANES \"+r.numClippingPlanes,\"#define UNION_CLIPPING_PLANES \"+(r.numClippingPlanes-r.numClipIntersection),r.shadowMapEnabled?\"#define USE_SHADOWMAP\":\"\",r.shadowMapEnabled?\"#define \"+u:\"\",r.premultipliedAlpha?\"#define PREMULTIPLIED_ALPHA\":\"\",r.physicallyCorrectLights?\"#define PHYSICALLY_CORRECT_LIGHTS\":\"\",r.logarithmicDepthBuffer?\"#define USE_LOGDEPTHBUF\":\"\",r.logarithmicDepthBuffer&&t.extensions.get(\"EXT_frag_depth\")?\"#define USE_LOGDEPTHBUF_EXT\":\"\",r.envMap&&t.extensions.get(\"EXT_shader_texture_lod\")?\"#define TEXTURE_LOD_EXT\":\"\",\"uniform mat4 viewMatrix;\",\"uniform vec3 cameraPosition;\",r.toneMapping!==it?\"#define TONE_MAPPING\":\"\",r.toneMapping!==it?mn.tonemapping_pars_fragment:\"\",r.toneMapping!==it?jr(\"toneMapping\",r.toneMapping):\"\",r.outputEncoding||r.mapEncoding||r.envMapEncoding||r.emissiveMapEncoding?mn.encodings_pars_fragment:\"\",r.mapEncoding?zr(\"mapTexelToLinear\",r.mapEncoding):\"\",r.envMapEncoding?zr(\"envMapTexelToLinear\",r.envMapEncoding):\"\",r.emissiveMapEncoding?zr(\"emissiveMapTexelToLinear\",r.emissiveMapEncoding):\"\",r.outputEncoding?(g=\"linearToOutputTexel\",y=r.outputEncoding,b=Ur(y),\"vec4 \"+g+\"( vec4 value ) { return LinearTo\"+b[0]+b[1]+\"; }\"):\"\",r.depthPacking?\"#define DEPTH_PACKING \"+n.depthPacking:\"\",\"\\n\"].filter(Vr).join(\"\\n\")),s=Wr(s=Gr(s),r),l=Wr(l=Gr(l),r),n.isShaderMaterial||(s=Hr(s),l=Hr(l));var E=d+s,S=f+l,T=kr(i,i.VERTEX_SHADER,E),C=kr(i,i.FRAGMENT_SHADER,S);i.attachShader(M,T),i.attachShader(M,C),void 0!==n.index0AttributeName?i.bindAttribLocation(M,0,n.index0AttributeName):!0===r.morphTargets&&i.bindAttribLocation(M,0,\"position\"),i.linkProgram(M);var A,P,R=i.getProgramInfoLog(M),L=i.getShaderInfoLog(T),O=i.getShaderInfoLog(C),I=!0,N=!0;return!1===i.getProgramParameter(M,i.LINK_STATUS)?(I=!1,console.error(\"THREE.WebGLProgram: shader error: \",i.getError(),\"gl.VALIDATE_STATUS\",i.getProgramParameter(M,i.VALIDATE_STATUS),\"gl.getProgramInfoLog\",R,L,O)):\"\"!==R?console.warn(\"THREE.WebGLProgram: gl.getProgramInfoLog()\",R):\"\"!==L&&\"\"!==O||(N=!1),N&&(this.diagnostics={runnable:I,material:n,programLog:R,vertexShader:{log:L,prefix:d},fragmentShader:{log:O,prefix:f}}),i.deleteShader(T),i.deleteShader(C),this.getUniforms=function(){return void 0===A&&(A=new dn(i,M,t)),A},this.getAttributes=function(){return void 0===P&&(P=function(t,e,n){for(var r={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),o=0;o<i;o++){var a=t.getActiveAttrib(e,o).name;r[a]=t.getAttribLocation(e,a)}return r}(i,M)),P},this.destroy=function(){i.deleteProgram(M),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn(\"THREE.WebGLProgram: .uniforms is now .getUniforms().\"),this.getUniforms()}},attributes:{get:function(){return console.warn(\"THREE.WebGLProgram: .attributes is now .getAttributes().\"),this.getAttributes()}}}),this.id=Br++,this.code=e,this.usedTimes=1,this.program=M,this.vertexShader=T,this.fragmentShader=C,this}function Xr(t,e){var n=[],r={MeshDepthMaterial:\"depth\",MeshNormalMaterial:\"normal\",MeshBasicMaterial:\"basic\",MeshLambertMaterial:\"lambert\",MeshPhongMaterial:\"phong\",MeshToonMaterial:\"phong\",MeshStandardMaterial:\"physical\",MeshPhysicalMaterial:\"physical\",LineBasicMaterial:\"basic\",LineDashedMaterial:\"dashed\",PointsMaterial:\"points\"},i=[\"precision\",\"supportsVertexTextures\",\"map\",\"mapEncoding\",\"envMap\",\"envMapMode\",\"envMapEncoding\",\"lightMap\",\"aoMap\",\"emissiveMap\",\"emissiveMapEncoding\",\"bumpMap\",\"normalMap\",\"displacementMap\",\"specularMap\",\"roughnessMap\",\"metalnessMap\",\"gradientMap\",\"alphaMap\",\"combine\",\"vertexColors\",\"fog\",\"useFog\",\"fogExp\",\"flatShading\",\"sizeAttenuation\",\"logarithmicDepthBuffer\",\"skinning\",\"maxBones\",\"useVertexTexture\",\"morphTargets\",\"morphNormals\",\"maxMorphTargets\",\"maxMorphNormals\",\"premultipliedAlpha\",\"numDirLights\",\"numPointLights\",\"numSpotLights\",\"numHemiLights\",\"numRectAreaLights\",\"shadowMapEnabled\",\"shadowMapType\",\"toneMapping\",\"physicallyCorrectLights\",\"alphaTest\",\"doubleSided\",\"flipSided\",\"numClippingPlanes\",\"numClipIntersection\",\"depthPacking\"];function o(t,e){var n;return t?t.isTexture?n=t.encoding:t.isWebGLRenderTarget&&(console.warn(\"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\"),n=t.texture.encoding):n=ie,n===ie&&e&&(n=ae),n}this.getParameters=function(n,i,a,s,l,u){var c=r[n.type],h=function(t){if(e.floatVertexTextures&&t&&t.skeleton&&t.skeleton.useVertexTexture)return 1024;var n=e.maxVertexUniforms,r=Math.floor((n-20)/4);return void 0!==t&&t&&t.isSkinnedMesh&&(r=Math.min(t.skeleton.bones.length,r))<t.skeleton.bones.length&&console.warn(\"WebGLRenderer: too many bones - \"+t.skeleton.bones.length+\", this GPU supports just \"+r+\" (try OpenGL instead of ANGLE)\"),r}(u),p=t.getPrecision();null!==n.precision&&(p=e.getMaxPrecision(n.precision))!==n.precision&&console.warn(\"THREE.WebGLProgram.getParameters:\",n.precision,\"not supported, using\",p,\"instead.\");var d=t.getCurrentRenderTarget();return{shaderID:c,precision:p,supportsVertexTextures:e.vertexTextures,outputEncoding:o(d?d.texture:null,t.gammaOutput),map:!!n.map,mapEncoding:o(n.map,t.gammaInput),envMap:!!n.envMap,envMapMode:n.envMap&&n.envMap.mapping,envMapEncoding:o(n.envMap,t.gammaInput),envMapCubeUV:!!n.envMap&&(n.envMap.mapping===ft||n.envMap.mapping===mt),lightMap:!!n.lightMap,aoMap:!!n.aoMap,emissiveMap:!!n.emissiveMap,emissiveMapEncoding:o(n.emissiveMap,t.gammaInput),bumpMap:!!n.bumpMap,normalMap:!!n.normalMap,displacementMap:!!n.displacementMap,roughnessMap:!!n.roughnessMap,metalnessMap:!!n.metalnessMap,specularMap:!!n.specularMap,alphaMap:!!n.alphaMap,gradientMap:!!n.gradientMap,combine:n.combine,vertexColors:n.vertexColors,fog:!!a,useFog:n.fog,fogExp:a&&a.isFogExp2,flatShading:n.shading===x,sizeAttenuation:n.sizeAttenuation,logarithmicDepthBuffer:e.logarithmicDepthBuffer,skinning:n.skinning,maxBones:h,useVertexTexture:e.floatVertexTextures&&u&&u.skeleton&&u.skeleton.useVertexTexture,morphTargets:n.morphTargets,morphNormals:n.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:i.directional.length,numPointLights:i.point.length,numSpotLights:i.spot.length,numRectAreaLights:i.rectArea.length,numHemiLights:i.hemi.length,numClippingPlanes:s,numClipIntersection:l,shadowMapEnabled:t.shadowMap.enabled&&u.receiveShadow&&i.shadows.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:n.premultipliedAlpha,alphaTest:n.alphaTest,doubleSided:n.side===b,flipSided:n.side===y,depthPacking:void 0!==n.depthPacking&&n.depthPacking}},this.getProgramCode=function(t,e){var n=[];if(e.shaderID?n.push(e.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);for(var o=0;o<i.length;o++)n.push(e[i[o]]);return n.join()},this.acquireProgram=function(e,r,i){for(var o,a=0,s=n.length;a<s;a++){var l=n[a];if(l.code===i){++(o=l).usedTimes;break}}return void 0===o&&(o=new qr(t,i,e,r),n.push(o)),o},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=n.indexOf(t);n[e]=n[n.length-1],n.pop(),t.destroy()}},this.programs=n}function Yr(t,e,n){var r={};function i(t){var a=t.target,s=r[a.id];null!==s.index&&o(s.index),function(t){for(var e in t)o(t[e])}(s.attributes),a.removeEventListener(\"dispose\",i),delete r[a.id];var l=e.get(a);l.wireframe&&o(l.wireframe),e.delete(a);var u=e.get(s);u.wireframe&&o(u.wireframe),e.delete(s),n.memory.geometries--}function o(n){var r=function(t){return t.isInterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer}(n);void 0!==r&&(t.deleteBuffer(r),function(t){t.isInterleavedBufferAttribute?e.delete(t.data):e.delete(t)}(n))}return{get:function(t){var e,o=t.geometry;return void 0!==r[o.id]?r[o.id]:(o.addEventListener(\"dispose\",i),o.isBufferGeometry?e=o:o.isGeometry&&(void 0===o._bufferGeometry&&(o._bufferGeometry=(new Mr).setFromObject(t)),e=o._bufferGeometry),r[o.id]=e,n.memory.geometries++,e)}}}function Kr(t,e,n){var r=new Yr(t,e,n);function i(n,r){var i=n.isInterleavedBufferAttribute?n.data:n,o=e.get(i);void 0===o.__webglBuffer?function(e,n,r){e.__webglBuffer=t.createBuffer(),t.bindBuffer(r,e.__webglBuffer);var i=n.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW;t.bufferData(r,n.array,i);var o=t.FLOAT,a=n.array;a instanceof Float32Array?o=t.FLOAT:a instanceof Float64Array?console.warn(\"Unsupported data buffer format: Float64Array\"):a instanceof Uint16Array?o=t.UNSIGNED_SHORT:a instanceof Int16Array?o=t.SHORT:a instanceof Uint32Array?o=t.UNSIGNED_INT:a instanceof Int32Array?o=t.INT:a instanceof Int8Array?o=t.BYTE:a instanceof Uint8Array&&(o=t.UNSIGNED_BYTE);e.bytesPerElement=a.BYTES_PER_ELEMENT,e.type=o,e.version=n.version,n.onUploadCallback()}(o,i,r):o.version!==i.version&&function(e,n,r){t.bindBuffer(r,e.__webglBuffer),!1===n.dynamic?t.bufferData(r,n.array,t.STATIC_DRAW):-1===n.updateRange.count?t.bufferSubData(r,0,n.array):0===n.updateRange.count?console.error(\"THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.\"):(t.bufferSubData(r,n.updateRange.offset*n.array.BYTES_PER_ELEMENT,n.array.subarray(n.updateRange.offset,n.updateRange.offset+n.updateRange.count)),n.updateRange.count=0);e.version=n.version}(o,i,r)}return{getAttributeBuffer:function(t){return t.isInterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer},getAttributeProperties:function(t){return t.isInterleavedBufferAttribute?e.get(t.data):e.get(t)},getWireframeAttribute:function(n){var r=e.get(n);if(void 0!==r.wireframe)return r.wireframe;var o,a=[],s=n.index,l=n.attributes;if(null!==s)for(var u=0,c=(o=s.array).length;u<c;u+=3){var h=o[u+0],p=o[u+1],d=o[u+2];a.push(h,p,p,d,d,h)}else for(u=0,c=(o=l.position.array).length/3-1;u<c;u+=3){h=u+0,p=u+1,d=u+2;a.push(h,p,p,d,d,h)}var f=new(yr(a)>65535?fr:pr)(a,1);return i(f,t.ELEMENT_ARRAY_BUFFER),r.wireframe=f,f},update:function(e){var n=r.get(e);e.geometry.isGeometry&&n.updateFromObject(e);var o=n.index,a=n.attributes;for(var s in null!==o&&i(o,t.ELEMENT_ARRAY_BUFFER),a)i(a[s],t.ARRAY_BUFFER);var l=n.morphAttributes;for(var s in l)for(var u=l[s],c=0,h=u.length;c<h;c++)i(u[c],t.ARRAY_BUFFER);return n}}}function Zr(t,e,n,r,i,o,a){var s=a.memory,l=\"undefined\"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext;function u(t,e){if(t.width>e||t.height>e){var n=e/Math.max(t.width,t.height),r=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"canvas\");return r.width=Math.floor(t.width*n),r.height=Math.floor(t.height*n),r.getContext(\"2d\").drawImage(t,0,0,t.width,t.height,0,0,r.width,r.height),console.warn(\"THREE.WebGLRenderer: image is too big (\"+t.width+\"x\"+t.height+\"). Resized to \"+r.width+\"x\"+r.height,t),r}return t}function c(t){return de.isPowerOfTwo(t.width)&&de.isPowerOfTwo(t.height)}function h(e){return e===bt||e===xt||e===wt?t.NEAREST:t.LINEAR}function p(e){var n=e.target;n.removeEventListener(\"dispose\",p),function(e){var n=r.get(e);if(e.image&&n.__image__webglTextureCube)t.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;t.deleteTexture(n.__webglTexture)}r.delete(e)}(n),s.textures--}function d(e){var n=e.target;n.removeEventListener(\"dispose\",d),function(e){var n=r.get(e),i=r.get(e.texture);if(!e)return;void 0!==i.__webglTexture&&t.deleteTexture(i.__webglTexture);e.depthTexture&&e.depthTexture.dispose();if(e.isWebGLRenderTargetCube)for(var o=0;o<6;o++)t.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[o]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer);r.delete(e.texture),r.delete(e)}(n),s.textures--}function f(e,a){var h=r.get(e);if(e.version>0&&h.__version!==e.version){var d=e.image;if(void 0===d)console.warn(\"THREE.WebGLRenderer: Texture marked for update but image is undefined\",e);else{if(!1!==d.complete)return void function(e,r,a){void 0===e.__webglInit&&(e.__webglInit=!0,r.addEventListener(\"dispose\",p),e.__webglTexture=t.createTexture(),s.textures++);n.activeTexture(t.TEXTURE0+a),n.bindTexture(t.TEXTURE_2D,e.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,r.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,r.unpackAlignment);var h=u(r.image,i.maxTextureSize);(function(t){return t.wrapS!==gt||t.wrapT!==gt||t.minFilter!==bt&&t.minFilter!==_t})(r)&&!1===c(h)&&(h=function(t){if(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement){var e=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"canvas\");return e.width=de.nearestPowerOfTwo(t.width),e.height=de.nearestPowerOfTwo(t.height),e.getContext(\"2d\").drawImage(t,0,0,e.width,e.height),console.warn(\"THREE.WebGLRenderer: image is not power of two (\"+t.width+\"x\"+t.height+\"). Resized to \"+e.width+\"x\"+e.height,t),e}return t}(h));var d=c(h),f=o(r.format),v=o(r.type);m(t.TEXTURE_2D,r,d);var g,y=r.mipmaps;if(r.isDepthTexture){var b=t.DEPTH_COMPONENT;if(r.type===Lt){if(!l)throw new Error(\"Float Depth Texture only supported in WebGL2.0\");b=t.DEPTH_COMPONENT32F}else l&&(b=t.DEPTH_COMPONENT16);r.format===Vt&&b===t.DEPTH_COMPONENT&&r.type!==At&&r.type!==Rt&&(console.warn(\"THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.\"),r.type=At,v=o(r.type)),r.format===Wt&&(b=t.DEPTH_STENCIL,r.type!==Dt&&(console.warn(\"THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.\"),r.type=Dt,v=o(r.type))),n.texImage2D(t.TEXTURE_2D,0,b,h.width,h.height,0,f,v,null)}else if(r.isDataTexture)if(y.length>0&&d){for(var x=0,w=y.length;x<w;x++)g=y[x],n.texImage2D(t.TEXTURE_2D,x,f,g.width,g.height,0,f,v,g.data);r.generateMipmaps=!1}else n.texImage2D(t.TEXTURE_2D,0,f,h.width,h.height,0,f,v,h.data);else if(r.isCompressedTexture)for(x=0,w=y.length;x<w;x++)g=y[x],r.format!==Ut&&r.format!==Bt?n.getCompressedTextureFormats().indexOf(f)>-1?n.compressedTexImage2D(t.TEXTURE_2D,x,f,g.width,g.height,0,g.data):console.warn(\"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()\"):n.texImage2D(t.TEXTURE_2D,x,f,g.width,g.height,0,f,v,g.data);else if(y.length>0&&d){for(x=0,w=y.length;x<w;x++)g=y[x],n.texImage2D(t.TEXTURE_2D,x,f,f,v,g);r.generateMipmaps=!1}else n.texImage2D(t.TEXTURE_2D,0,f,f,v,h);r.generateMipmaps&&d&&t.generateMipmap(t.TEXTURE_2D);e.__version=r.version,r.onUpdate&&r.onUpdate(r)}(h,e,a);console.warn(\"THREE.WebGLRenderer: Texture marked for update but image is incomplete\",e)}}n.activeTexture(t.TEXTURE0+a),n.bindTexture(t.TEXTURE_2D,h.__webglTexture)}function m(n,a,s){var l;if(s?(t.texParameteri(n,t.TEXTURE_WRAP_S,o(a.wrapS)),t.texParameteri(n,t.TEXTURE_WRAP_T,o(a.wrapT)),t.texParameteri(n,t.TEXTURE_MAG_FILTER,o(a.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,o(a.minFilter))):(t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),a.wrapS===gt&&a.wrapT===gt||console.warn(\"THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.\",a),t.texParameteri(n,t.TEXTURE_MAG_FILTER,h(a.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,h(a.minFilter)),a.minFilter!==bt&&a.minFilter!==_t&&console.warn(\"THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.\",a)),l=e.get(\"EXT_texture_filter_anisotropic\")){if(a.type===Lt&&null===e.get(\"OES_texture_float_linear\"))return;if(a.type===Ot&&null===e.get(\"OES_texture_half_float_linear\"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(t.texParameterf(n,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function v(e,i,a,s){var l=o(i.texture.format),u=o(i.texture.type);n.texImage2D(s,0,l,i.width,i.height,0,l,u,null),t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,a,s,r.get(i.texture).__webglTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}function g(e,n){t.bindRenderbuffer(t.RENDERBUFFER,e),n.depthBuffer&&!n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)):n.depthBuffer&&n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)):t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,n.width,n.height),t.bindRenderbuffer(t.RENDERBUFFER,null)}function y(e){var n=r.get(e),i=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(i)throw new Error(\"target.depthTexture not supported in Cube render targets\");!function(e,n){if(n&&n.isWebGLRenderTargetCube)throw new Error(\"Depth Texture with cube render targets is not supported!\");if(t.bindFramebuffer(t.FRAMEBUFFER,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error(\"renderTarget.depthTexture must be an instance of THREE.DepthTexture\");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),f(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===Vt)t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,i,0);else{if(n.depthTexture.format!==Wt)throw new Error(\"Unknown depthTexture format\");t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,i,0)}}(n.__webglFramebuffer,e)}else if(i){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=t.createRenderbuffer(),g(n.__webglDepthbuffer[o],e)}else t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),g(n.__webglDepthbuffer,e);t.bindFramebuffer(t.FRAMEBUFFER,null)}this.setTexture2D=f,this.setTextureCube=function(e,a){var l=r.get(e);if(6===e.image.length)if(e.version>0&&l.__version!==e.version){l.__image__webglTextureCube||(e.addEventListener(\"dispose\",p),l.__image__webglTextureCube=t.createTexture(),s.textures++),n.activeTexture(t.TEXTURE0+a),n.bindTexture(t.TEXTURE_CUBE_MAP,l.__image__webglTextureCube),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var h=e&&e.isCompressedTexture,d=e.image[0]&&e.image[0].isDataTexture,f=[],v=0;v<6;v++)f[v]=h||d?d?e.image[v].image:e.image[v]:u(e.image[v],i.maxCubemapSize);var g=c(f[0]),y=o(e.format),b=o(e.type);m(t.TEXTURE_CUBE_MAP,e,g);for(v=0;v<6;v++)if(h)for(var x,w=f[v].mipmaps,_=0,M=w.length;_<M;_++)x=w[_],e.format!==Ut&&e.format!==Bt?n.getCompressedTextureFormats().indexOf(y)>-1?n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+v,_,y,x.width,x.height,0,x.data):console.warn(\"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()\"):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+v,_,y,x.width,x.height,0,y,b,x.data);else d?n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+v,0,y,f[v].width,f[v].height,0,y,b,f[v].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+v,0,y,y,b,f[v]);e.generateMipmaps&&g&&t.generateMipmap(t.TEXTURE_CUBE_MAP),l.__version=e.version,e.onUpdate&&e.onUpdate(e)}else n.activeTexture(t.TEXTURE0+a),n.bindTexture(t.TEXTURE_CUBE_MAP,l.__image__webglTextureCube)},this.setTextureCubeDynamic=function(e,i){n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_CUBE_MAP,r.get(e).__webglTexture)},this.setupRenderTarget=function(e){var i=r.get(e),o=r.get(e.texture);e.addEventListener(\"dispose\",d),o.__webglTexture=t.createTexture(),s.textures++;var a=!0===e.isWebGLRenderTargetCube,l=c(e);if(a){i.__webglFramebuffer=[];for(var u=0;u<6;u++)i.__webglFramebuffer[u]=t.createFramebuffer()}else i.__webglFramebuffer=t.createFramebuffer();if(a){n.bindTexture(t.TEXTURE_CUBE_MAP,o.__webglTexture),m(t.TEXTURE_CUBE_MAP,e.texture,l);for(u=0;u<6;u++)v(i.__webglFramebuffer[u],e,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+u);e.texture.generateMipmaps&&l&&t.generateMipmap(t.TEXTURE_CUBE_MAP),n.bindTexture(t.TEXTURE_CUBE_MAP,null)}else n.bindTexture(t.TEXTURE_2D,o.__webglTexture),m(t.TEXTURE_2D,e.texture,l),v(i.__webglFramebuffer,e,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),e.texture.generateMipmaps&&l&&t.generateMipmap(t.TEXTURE_2D),n.bindTexture(t.TEXTURE_2D,null);e.depthBuffer&&y(e)},this.updateRenderTargetMipmap=function(e){var i=e.texture;if(i.generateMipmaps&&c(e)&&i.minFilter!==bt&&i.minFilter!==_t){var o=e&&e.isWebGLRenderTargetCube?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,a=r.get(i).__webglTexture;n.bindTexture(o,a),t.generateMipmap(o),n.bindTexture(o,null)}}}function Qr(){var t={};return{get:function(e){var n=e.uuid,r=t[n];return void 0===r&&(r={},t[n]=r),r},delete:function(e){delete t[e.uuid]},clear:function(){t={}}}}function Jr(t,e,n){var r=new function(){var e=!1,n=new Me,r=null,i=new Me;return{setMask:function(n){r===n||e||(t.colorMask(n,n,n,n),r=n)},setLocked:function(t){e=t},setClear:function(e,r,o,a,s){!0===s&&(e*=a,r*=a,o*=a),n.set(e,r,o,a),!1===i.equals(n)&&(t.clearColor(e,r,o,a),i.copy(n))},reset:function(){e=!1,r=null,i.set(0,0,0,1)}}},i=new function(){var e=!1,n=null,r=null,i=null;return{setTest:function(e){e?G(t.DEPTH_TEST):H(t.DEPTH_TEST)},setMask:function(r){n===r||e||(t.depthMask(r),n=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case X:t.depthFunc(t.NEVER);break;case Y:t.depthFunc(t.ALWAYS);break;case K:t.depthFunc(t.LESS);break;case Z:t.depthFunc(t.LEQUAL);break;case Q:t.depthFunc(t.EQUAL);break;case J:t.depthFunc(t.GEQUAL);break;case $:t.depthFunc(t.GREATER);break;case tt:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);r=e}},setLocked:function(t){e=t},setClear:function(e){i!==e&&(t.clearDepth(e),i=e)},reset:function(){e=!1,n=null,r=null,i=null}}},o=new function(){var e=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,u=null;return{setTest:function(e){e?G(t.STENCIL_TEST):H(t.STENCIL_TEST)},setMask:function(r){n===r||e||(t.stencilMask(r),n=r)},setFunc:function(e,n,a){r===e&&i===n&&o===a||(t.stencilFunc(e,n,a),r=e,i=n,o=a)},setOp:function(e,n,r){a===e&&s===n&&l===r||(t.stencilOp(e,n,r),a=e,s=n,l=r)},setLocked:function(t){e=t},setClear:function(e){u!==e&&(t.clearStencil(e),u=e)},reset:function(){e=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,u=null}}},a=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=new Uint8Array(a),l=new Uint8Array(a),u=new Uint8Array(a),c={},f=null,m=null,v=null,g=null,y=null,b=null,x=null,w=null,_=!1,M=null,E=null,L=null,O=null,I=null,N=null,k=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),D=parseFloat(/^WebGL\\ ([0-9])/.exec(t.getParameter(t.VERSION))[1]),F=parseFloat(D)>=1,B=null,U={},z=new Me,j=new Me;function V(e,n,r){var i=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(var a=0;a<r;a++)t.texImage2D(n+a,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,i);return o}var W={};function G(e){!0!==c[e]&&(t.enable(e),c[e]=!0)}function H(e){!1!==c[e]&&(t.disable(e),c[e]=!1)}function q(e,r,i,o,a,s,l,u){e!==S?G(t.BLEND):H(t.BLEND),e===m&&u===_||(e===C?u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)):e===A?u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR)):e===P?u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.SRC_COLOR)):u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)),m=e,_=u),e===R?(a=a||r,s=s||i,l=l||o,r===v&&a===b||(t.blendEquationSeparate(n(r),n(a)),v=r,b=a),i===g&&o===y&&s===x&&l===w||(t.blendFuncSeparate(n(i),n(o),n(s),n(l)),g=i,y=o,x=s,w=l)):(v=null,g=null,y=null,b=null,x=null,w=null)}function et(t){i.setFunc(t)}function nt(e){M!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),M=e)}function rt(e){e!==h?(G(t.CULL_FACE),e!==E&&(e===p?t.cullFace(t.BACK):e===d?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):H(t.CULL_FACE),E=e}function it(e){void 0===e&&(e=t.TEXTURE0+k-1),B!==e&&(t.activeTexture(e),B=e)}return W[t.TEXTURE_2D]=V(t.TEXTURE_2D,t.TEXTURE_2D,1),W[t.TEXTURE_CUBE_MAP]=V(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),{buffers:{color:r,depth:i,stencil:o},init:function(){r.setClear(0,0,0,1),i.setClear(1),o.setClear(0),G(t.DEPTH_TEST),et(Z),nt(!1),rt(p),G(t.CULL_FACE),G(t.BLEND),q(T)},initAttributes:function(){for(var t=0,e=s.length;t<e;t++)s[t]=0},enableAttribute:function(n){s[n]=1,0===l[n]&&(t.enableVertexAttribArray(n),l[n]=1),0!==u[n]&&(e.get(\"ANGLE_instanced_arrays\").vertexAttribDivisorANGLE(n,0),u[n]=0)},enableAttributeAndDivisor:function(e,n,r){s[e]=1,0===l[e]&&(t.enableVertexAttribArray(e),l[e]=1),u[e]!==n&&(r.vertexAttribDivisorANGLE(e,n),u[e]=n)},disableUnusedAttributes:function(){for(var e=0,n=l.length;e!==n;++e)l[e]!==s[e]&&(t.disableVertexAttribArray(e),l[e]=0)},enable:G,disable:H,getCompressedTextureFormats:function(){if(null===f&&(f=[],e.get(\"WEBGL_compressed_texture_pvrtc\")||e.get(\"WEBGL_compressed_texture_s3tc\")||e.get(\"WEBGL_compressed_texture_etc1\")))for(var n=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),r=0;r<n.length;r++)f.push(n[r]);return f},setBlending:q,setColorWrite:function(t){r.setMask(t)},setDepthTest:function(t){i.setTest(t)},setDepthWrite:function(t){i.setMask(t)},setDepthFunc:et,setStencilTest:function(t){o.setTest(t)},setStencilWrite:function(t){o.setMask(t)},setStencilFunc:function(t,e,n){o.setFunc(t,e,n)},setStencilOp:function(t,e,n){o.setOp(t,e,n)},setFlipSided:nt,setCullFace:rt,setLineWidth:function(e){e!==L&&(F&&t.lineWidth(e),L=e)},setPolygonOffset:function(e,n,r){e?(G(t.POLYGON_OFFSET_FILL),O===n&&I===r||(t.polygonOffset(n,r),O=n,I=r)):H(t.POLYGON_OFFSET_FILL)},getScissorTest:function(){return N},setScissorTest:function(e){N=e,e?G(t.SCISSOR_TEST):H(t.SCISSOR_TEST)},activeTexture:it,bindTexture:function(e,n){null===B&&it();var r=U[B];void 0===r&&(r={type:void 0,texture:void 0},U[B]=r),r.type===e&&r.texture===n||(t.bindTexture(e,n||W[e]),r.type=e,r.texture=n)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error(t)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error(t)}},scissor:function(e){!1===z.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),z.copy(e))},viewport:function(e){!1===j.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),j.copy(e))},reset:function(){for(var e=0;e<l.length;e++)1===l[e]&&(t.disableVertexAttribArray(e),l[e]=0);c={},f=null,B=null,U={},m=null,M=null,E=null,r.reset(),i.reset(),o.reset()}}}function $r(t,e,n){var r;function i(e){if(\"highp\"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return\"highp\";e=\"mediump\"}return\"mediump\"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?\"mediump\":\"lowp\"}var o=void 0!==n.precision?n.precision:\"highp\",a=i(o);a!==o&&(console.warn(\"THREE.WebGLRenderer:\",o,\"not supported, using\",a,\"instead.\"),o=a);var s=!0===n.logarithmicDepthBuffer&&!!e.get(\"EXT_frag_depth\"),l=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),u=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),c=t.getParameter(t.MAX_TEXTURE_SIZE),h=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),p=t.getParameter(t.MAX_VERTEX_ATTRIBS),d=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),f=t.getParameter(t.MAX_VARYING_VECTORS),m=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),v=u>0,g=!!e.get(\"OES_texture_float\");return{getMaxAnisotropy:function(){if(void 0!==r)return r;var n=e.get(\"EXT_texture_filter_anisotropic\");return r=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:s,maxTextures:l,maxVertexTextures:u,maxTextureSize:c,maxCubemapSize:h,maxAttributes:p,maxVertexUniforms:d,maxVaryings:f,maxFragmentUniforms:m,vertexTextures:v,floatFragmentTextures:g,floatVertexTextures:v&&g}}function ti(t){var e={};return{get:function(n){if(void 0!==e[n])return e[n];var r;switch(n){case\"WEBGL_depth_texture\":r=t.getExtension(\"WEBGL_depth_texture\")||t.getExtension(\"MOZ_WEBGL_depth_texture\")||t.getExtension(\"WEBKIT_WEBGL_depth_texture\");break;case\"EXT_texture_filter_anisotropic\":r=t.getExtension(\"EXT_texture_filter_anisotropic\")||t.getExtension(\"MOZ_EXT_texture_filter_anisotropic\")||t.getExtension(\"WEBKIT_EXT_texture_filter_anisotropic\");break;case\"WEBGL_compressed_texture_s3tc\":r=t.getExtension(\"WEBGL_compressed_texture_s3tc\")||t.getExtension(\"MOZ_WEBGL_compressed_texture_s3tc\")||t.getExtension(\"WEBKIT_WEBGL_compressed_texture_s3tc\");break;case\"WEBGL_compressed_texture_pvrtc\":r=t.getExtension(\"WEBGL_compressed_texture_pvrtc\")||t.getExtension(\"WEBKIT_WEBGL_compressed_texture_pvrtc\");break;case\"WEBGL_compressed_texture_etc1\":r=t.getExtension(\"WEBGL_compressed_texture_etc1\");break;default:r=t.getExtension(n)}return null===r&&console.warn(\"THREE.WebGLRenderer: \"+n+\" extension not supported.\"),e[n]=r,r}}}function ei(){var t=this,e=null,n=0,r=!1,i=!1,o=new Vn,a=new jn,s={value:null,needsUpdate:!1};function l(){s.value!==e&&(s.value=e,s.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}function u(e,n,r,i){var l=null!==e?e.length:0,u=null;if(0!==l){if(u=s.value,!0!==i||null===u){var c=r+4*l,h=n.matrixWorldInverse;a.getNormalMatrix(h),(null===u||u.length<c)&&(u=new Float32Array(c));for(var p=0,d=r;p!==l;++p,d+=4)o.copy(e[p]).applyMatrix4(h,a),o.normal.toArray(u,d),u[d+3]=o.constant}s.value=u,s.needsUpdate=!0}return t.numPlanes=l,u}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(t,i,o){var a=0!==t.length||i||0!==n||r;return r=i,e=u(t,o,0),n=t.length,a},this.beginShadows=function(){i=!0,u(null)},this.endShadows=function(){i=!1,l()},this.setState=function(t,o,a,c,h,p){if(!r||null===t||0===t.length||i&&!a)i?u(null):l();else{var d=i?0:n,f=4*d,m=h.clippingState||null;s.value=m,m=u(t,c,f,p);for(var v=0;v!==f;++v)m[v]=e[v];h.clippingState=m,this.numIntersection=o?this.numPlanes:0,this.numPlanes+=d}}}function ni(t){console.log(\"THREE.WebGLRenderer\",c);var e=void 0!==(t=t||{}).canvas?t.canvas:document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"canvas\"),n=void 0!==t.context?t.context:null,r=void 0!==t.alpha&&t.alpha,i=void 0===t.depth||t.depth,o=void 0===t.stencil||t.stencil,a=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,l=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,u=[],h=[],p=-1,d=[],m=-1,v=new Float32Array(8),g=[],w=[];this.domElement=e,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=ot,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var M,E=this,T=null,C=null,A=null,P=-1,R=\"\",X=null,Y=new Me,K=null,Z=new Me,Q=0,J=new vn(0),$=0,tt=e.width,et=e.height,nt=1,rt=new Me(0,0,tt,et),it=!1,at=new Me(0,0,tt,et),st=new Wn,lt=new ei,ut=!1,ct=!1,ht=new zn,pt=new Ae,dt=new Ce,ft=new Ae,mt=new Ae,$t={hash:\"\",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},te={calls:0,vertices:0,faces:0,points:0};this.info={render:te,memory:{geometries:0,textures:0},programs:null};try{var ie={alpha:r,depth:i,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:l};if(null===(M=n||e.getContext(\"webgl\",ie)||e.getContext(\"experimental-webgl\",ie)))throw null!==e.getContext(\"webgl\")?\"Error creating WebGL context with your selected attributes.\":\"Error creating WebGL context.\";void 0===M.getShaderPrecisionFormat&&(M.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),e.addEventListener(\"webglcontextlost\",Pe,!1)}catch(t){console.error(\"THREE.WebGLRenderer: \"+t)}var oe=new ti(M);oe.get(\"WEBGL_depth_texture\"),oe.get(\"OES_texture_float\"),oe.get(\"OES_texture_float_linear\"),oe.get(\"OES_texture_half_float\"),oe.get(\"OES_texture_half_float_linear\"),oe.get(\"OES_standard_derivatives\"),oe.get(\"ANGLE_instanced_arrays\"),oe.get(\"OES_element_index_uint\")&&(Mr.MaxIndex=4294967296);var ae=new $r(M,oe,t),se=new Jr(M,oe,We),le=new Qr,ue=new Zr(M,oe,se,le,ae,We,this.info),ce=new Kr(M,le,this.info),he=new Xr(this,ae),pe=new Nr;this.info.programs=he.programs;var de,fe,me,ve,ge=new Ir(M,oe,te),ye=new Or(M,oe,te);function be(){return null===C?nt:1}function xe(){se.init(),se.scissor(Y.copy(rt).multiplyScalar(nt)),se.viewport(Z.copy(at).multiplyScalar(nt)),se.buffers.color.setClear(J.r,J.g,J.b,$,s)}function we(){T=null,X=null,R=\"\",P=-1,se.reset()}xe(),this.context=M,this.capabilities=ae,this.extensions=oe,this.properties=le,this.state=se;var _e=new Gn(this,$t,ce,ae);this.shadowMap=_e;var Ee,Se=new Mn(this,g),Te=new _n(this,w);function Pe(t){t.preventDefault(),we(),xe(),le.clear()}function Re(t){var e=t.target;e.removeEventListener(\"dispose\",Re),function(t){Le(t),le.delete(t)}(e)}function Le(t){var e=le.get(t).program;t.program=void 0,void 0!==e&&he.releaseProgram(e)}function Oe(t,e){return Math.abs(e[0])-Math.abs(t[0])}function Ie(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.material.program&&e.material.program&&t.material.program!==e.material.program?t.material.program.id-e.material.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Ne(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function ke(t,e,n,r,i){var o,a;n.transparent?(o=d,a=++m):(o=h,a=++p);var s=o[a];void 0!==s?(s.id=t.id,s.object=t,s.geometry=e,s.material=n,s.z=dt.z,s.group=i):(s={id:t.id,object:t,geometry:e,material:n,z:dt.z,group:i},o.push(s))}function De(t){if(!st.intersectsSphere(t))return!1;var e=lt.numPlanes;if(0===e)return!0;var n=E.clippingPlanes,r=t.center,i=-t.radius,o=0;do{if(n[o].distanceToPoint(r)<i)return!1}while(++o!==e);return!0}function Fe(t,e,n,r){for(var i=0,o=t.length;i<o;i++){var a=t[i],s=a.object,l=a.geometry,u=void 0===r?a.material:r,c=a.group;if(s.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,s.matrixWorld),s.normalMatrix.getNormalMatrix(s.modelViewMatrix),s.onBeforeRender(E,e,n,l,u,c),s.isImmediateRenderObject){Be(u);var h=Ue(n,e.fog,u,s);R=\"\",s.render((function(t){E.renderBufferImmediate(t,h,u)}))}else E.renderBufferDirect(n,e.fog,l,u,s,c);s.onAfterRender(E,e,n,l,u,c)}}function Be(t){t.side===b?se.disable(M.CULL_FACE):se.enable(M.CULL_FACE),se.setFlipSided(t.side===y),!0===t.transparent?se.setBlending(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):se.setBlending(S),se.setDepthFunc(t.depthFunc),se.setDepthTest(t.depthTest),se.setDepthWrite(t.depthWrite),se.setColorWrite(t.colorWrite),se.setPolygonOffset(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)}function Ue(t,e,n,r){Q=0;var i=le.get(n);if(ut&&(ct||t!==X)){var o=t===X&&n.id===P;lt.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,t,i,o)}!1===n.needsUpdate&&(void 0===i.program?n.needsUpdate=!0:n.fog&&i.fog!==e?n.needsUpdate=!0:n.lights&&i.lightsHash!==$t.hash?n.needsUpdate=!0:void 0===i.numClippingPlanes||i.numClippingPlanes===lt.numPlanes&&i.numIntersection===lt.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(!function(t,e,n){var r=le.get(t),i=he.getParameters(t,$t,e,lt.numPlanes,lt.numIntersection,n),o=he.getProgramCode(t,i),a=r.program,s=!0;if(void 0===a)t.addEventListener(\"dispose\",Re);else if(a.code!==o)Le(t);else{if(void 0!==i.shaderID)return;s=!1}if(s){if(i.shaderID){var l=xn[i.shaderID];r.__webglShader={name:t.type,uniforms:fn.clone(l.uniforms),vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}}else r.__webglShader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.__webglShader=r.__webglShader,a=he.acquireProgram(t,i,o),r.program=a,t.program=a}var u=a.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var c=0;c<E.maxMorphTargets;c++)u[\"morphTarget\"+c]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;for(c=0;c<E.maxMorphNormals;c++)u[\"morphNormal\"+c]>=0&&t.numSupportedMorphNormals++}var h=r.__webglShader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(r.numClippingPlanes=lt.numPlanes,r.numIntersection=lt.numIntersection,h.clippingPlanes=lt.uniform),r.fog=e,r.lightsHash=$t.hash,t.lights&&(h.ambientLightColor.value=$t.ambient,h.directionalLights.value=$t.directional,h.spotLights.value=$t.spot,h.rectAreaLights.value=$t.rectArea,h.pointLights.value=$t.point,h.hemisphereLights.value=$t.hemi,h.directionalShadowMap.value=$t.directionalShadowMap,h.directionalShadowMatrix.value=$t.directionalShadowMatrix,h.spotShadowMap.value=$t.spotShadowMap,h.spotShadowMatrix.value=$t.spotShadowMatrix,h.pointShadowMap.value=$t.pointShadowMap,h.pointShadowMatrix.value=$t.pointShadowMatrix);var p=r.program.getUniforms(),d=dn.seqWithValue(p.seq,h);r.uniformsList=d}(n,e,r),n.needsUpdate=!1);var a,s,l=!1,u=!1,c=!1,h=i.program,p=h.getUniforms(),d=i.__webglShader.uniforms;if(h.id!==T&&(M.useProgram(h.program),T=h.id,l=!0,u=!0,c=!0),n.id!==P&&(P=n.id,u=!0),l||t!==X){if(p.set(M,t,\"projectionMatrix\"),ae.logarithmicDepthBuffer&&p.setValue(M,\"logDepthBufFC\",2/(Math.log(t.far+1)/Math.LN2)),t!==X&&(X=t,u=!0,c=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var f=p.map.cameraPosition;void 0!==f&&f.setValue(M,dt.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&p.setValue(M,\"viewMatrix\",t.matrixWorldInverse),p.set(M,E,\"toneMappingExposure\"),p.set(M,E,\"toneMappingWhitePoint\")}if(n.skinning){p.setOptional(M,r,\"bindMatrix\"),p.setOptional(M,r,\"bindMatrixInverse\");var m=r.skeleton;m&&(ae.floatVertexTextures&&m.useVertexTexture?(p.set(M,m,\"boneTexture\"),p.set(M,m,\"boneTextureWidth\"),p.set(M,m,\"boneTextureHeight\")):p.setOptional(M,m,\"boneMatrices\"))}return u&&(n.lights&&(s=c,(a=d).ambientLightColor.needsUpdate=s,a.directionalLights.needsUpdate=s,a.pointLights.needsUpdate=s,a.spotLights.needsUpdate=s,a.rectAreaLights.needsUpdate=s,a.hemisphereLights.needsUpdate=s),e&&n.fog&&function(t,e){t.fogColor.value=e.color,e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}(d,e),(n.isMeshBasicMaterial||n.isMeshLambertMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.isMeshNormalMaterial||n.isMeshDepthMaterial)&&function(t,e){t.opacity.value=e.opacity,t.diffuse.value=e.color,e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity);t.map.value=e.map,t.specularMap.value=e.specularMap,t.alphaMap.value=e.alphaMap,e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity);e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity);var n;e.map?n=e.map:e.specularMap?n=e.specularMap:e.displacementMap?n=e.displacementMap:e.normalMap?n=e.normalMap:e.bumpMap?n=e.bumpMap:e.roughnessMap?n=e.roughnessMap:e.metalnessMap?n=e.metalnessMap:e.alphaMap?n=e.alphaMap:e.emissiveMap&&(n=e.emissiveMap);if(void 0!==n){n.isWebGLRenderTarget&&(n=n.texture);var r=n.offset,i=n.repeat;t.offsetRepeat.value.set(r.x,r.y,i.x,i.y)}t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap&&e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio}(d,n),n.isLineBasicMaterial?ze(d,n):n.isLineDashedMaterial?(ze(d,n),function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(d,n)):n.isPointsMaterial?function(t,e){if(t.diffuse.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size*nt,t.scale.value=.5*et,t.map.value=e.map,null!==e.map){var n=e.map.offset,r=e.map.repeat;t.offsetRepeat.value.set(n.x,n.y,r.x,r.y)}}(d,n):n.isMeshLambertMaterial?function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(d,n):n.isMeshToonMaterial?function(t,e){je(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}(d,n):n.isMeshPhongMaterial?je(d,n):n.isMeshPhysicalMaterial?function(t,e){t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness,Ve(t,e)}(d,n):n.isMeshStandardMaterial?Ve(d,n):n.isMeshDepthMaterial?n.displacementMap&&(d.displacementMap.value=n.displacementMap,d.displacementScale.value=n.displacementScale,d.displacementBias.value=n.displacementBias):n.isMeshNormalMaterial&&function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale);e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale));e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(d,n),void 0!==d.ltcMat&&(d.ltcMat.value=THREE.UniformsLib.LTC_MAT_TEXTURE),void 0!==d.ltcMag&&(d.ltcMag.value=THREE.UniformsLib.LTC_MAG_TEXTURE),dn.upload(M,i.uniformsList,d,E)),p.set(M,r,\"modelViewMatrix\"),p.set(M,r,\"normalMatrix\"),p.setValue(M,\"modelMatrix\",r.matrixWorld),h}function ze(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}function je(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function Ve(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}function We(t){var e;if(t===vt)return M.REPEAT;if(t===gt)return M.CLAMP_TO_EDGE;if(t===yt)return M.MIRRORED_REPEAT;if(t===bt)return M.NEAREST;if(t===xt)return M.NEAREST_MIPMAP_NEAREST;if(t===wt)return M.NEAREST_MIPMAP_LINEAR;if(t===_t)return M.LINEAR;if(t===Mt)return M.LINEAR_MIPMAP_NEAREST;if(t===Et)return M.LINEAR_MIPMAP_LINEAR;if(t===St)return M.UNSIGNED_BYTE;if(t===It)return M.UNSIGNED_SHORT_4_4_4_4;if(t===Nt)return M.UNSIGNED_SHORT_5_5_5_1;if(t===kt)return M.UNSIGNED_SHORT_5_6_5;if(t===Tt)return M.BYTE;if(t===Ct)return M.SHORT;if(t===At)return M.UNSIGNED_SHORT;if(t===Pt)return M.INT;if(t===Rt)return M.UNSIGNED_INT;if(t===Lt)return M.FLOAT;if(t===Ot&&null!==(e=oe.get(\"OES_texture_half_float\")))return e.HALF_FLOAT_OES;if(t===Ft)return M.ALPHA;if(t===Bt)return M.RGB;if(t===Ut)return M.RGBA;if(t===zt)return M.LUMINANCE;if(t===jt)return M.LUMINANCE_ALPHA;if(t===Vt)return M.DEPTH_COMPONENT;if(t===Wt)return M.DEPTH_STENCIL;if(t===L)return M.FUNC_ADD;if(t===O)return M.FUNC_SUBTRACT;if(t===I)return M.FUNC_REVERSE_SUBTRACT;if(t===D)return M.ZERO;if(t===F)return M.ONE;if(t===B)return M.SRC_COLOR;if(t===U)return M.ONE_MINUS_SRC_COLOR;if(t===z)return M.SRC_ALPHA;if(t===j)return M.ONE_MINUS_SRC_ALPHA;if(t===V)return M.DST_ALPHA;if(t===W)return M.ONE_MINUS_DST_ALPHA;if(t===G)return M.DST_COLOR;if(t===H)return M.ONE_MINUS_DST_COLOR;if(t===q)return M.SRC_ALPHA_SATURATE;if((t===Gt||t===Ht||t===qt||t===Xt)&&null!==(e=oe.get(\"WEBGL_compressed_texture_s3tc\"))){if(t===Gt)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===Ht)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===qt)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===Xt)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===Yt||t===Kt||t===Zt||t===Qt)&&null!==(e=oe.get(\"WEBGL_compressed_texture_pvrtc\"))){if(t===Yt)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===Kt)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===Zt)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===Qt)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===Jt&&null!==(e=oe.get(\"WEBGL_compressed_texture_etc1\")))return e.COMPRESSED_RGB_ETC1_WEBGL;if((t===N||t===k)&&null!==(e=oe.get(\"EXT_blend_minmax\"))){if(t===N)return e.MIN_EXT;if(t===k)return e.MAX_EXT}return t===Dt&&null!==(e=oe.get(\"WEBGL_depth_texture\"))?e.UNSIGNED_INT_24_8_WEBGL:0}this.getContext=function(){return M},this.getContextAttributes=function(){return M.getContextAttributes()},this.forceContextLoss=function(){oe.get(\"WEBGL_lose_context\").loseContext()},this.getMaxAnisotropy=function(){return ae.getMaxAnisotropy()},this.getPrecision=function(){return ae.precision},this.getPixelRatio=function(){return nt},this.setPixelRatio=function(t){void 0!==t&&(nt=t,this.setSize(at.z,at.w,!1))},this.getSize=function(){return{width:tt,height:et}},this.setSize=function(t,n,r){tt=t,et=n,e.width=t*nt,e.height=n*nt,!1!==r&&(e.style.width=t+\"px\",e.style.height=n+\"px\"),this.setViewport(0,0,t,n)},this.setViewport=function(t,e,n,r){se.viewport(at.set(t,e,n,r))},this.setScissor=function(t,e,n,r){se.scissor(rt.set(t,e,n,r))},this.setScissorTest=function(t){se.setScissorTest(it=t)},this.getClearColor=function(){return J},this.setClearColor=function(t,e){J.set(t),$=void 0!==e?e:1,se.buffers.color.setClear(J.r,J.g,J.b,$,s)},this.getClearAlpha=function(){return $},this.setClearAlpha=function(t){$=t,se.buffers.color.setClear(J.r,J.g,J.b,$,s)},this.clear=function(t,e,n){var r=0;(void 0===t||t)&&(r|=M.COLOR_BUFFER_BIT),(void 0===e||e)&&(r|=M.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=M.STENCIL_BUFFER_BIT),M.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,n,r){this.setRenderTarget(t),this.clear(e,n,r)},this.resetGLState=we,this.dispose=function(){d=[],m=-1,h=[],p=-1,e.removeEventListener(\"webglcontextlost\",Pe,!1)},this.renderBufferImmediate=function(t,e,n){se.initAttributes();var r=le.get(t);t.hasPositions&&!r.position&&(r.position=M.createBuffer()),t.hasNormals&&!r.normal&&(r.normal=M.createBuffer()),t.hasUvs&&!r.uv&&(r.uv=M.createBuffer()),t.hasColors&&!r.color&&(r.color=M.createBuffer());var i=e.getAttributes();if(t.hasPositions&&(M.bindBuffer(M.ARRAY_BUFFER,r.position),M.bufferData(M.ARRAY_BUFFER,t.positionArray,M.DYNAMIC_DRAW),se.enableAttribute(i.position),M.vertexAttribPointer(i.position,3,M.FLOAT,!1,0,0)),t.hasNormals){if(M.bindBuffer(M.ARRAY_BUFFER,r.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&n.shading===x)for(var o=0,a=3*t.count;o<a;o+=9){var s=t.normalArray,l=(s[o+0]+s[o+3]+s[o+6])/3,u=(s[o+1]+s[o+4]+s[o+7])/3,c=(s[o+2]+s[o+5]+s[o+8])/3;s[o+0]=l,s[o+1]=u,s[o+2]=c,s[o+3]=l,s[o+4]=u,s[o+5]=c,s[o+6]=l,s[o+7]=u,s[o+8]=c}M.bufferData(M.ARRAY_BUFFER,t.normalArray,M.DYNAMIC_DRAW),se.enableAttribute(i.normal),M.vertexAttribPointer(i.normal,3,M.FLOAT,!1,0,0)}t.hasUvs&&n.map&&(M.bindBuffer(M.ARRAY_BUFFER,r.uv),M.bufferData(M.ARRAY_BUFFER,t.uvArray,M.DYNAMIC_DRAW),se.enableAttribute(i.uv),M.vertexAttribPointer(i.uv,2,M.FLOAT,!1,0,0)),t.hasColors&&n.vertexColors!==_&&(M.bindBuffer(M.ARRAY_BUFFER,r.color),M.bufferData(M.ARRAY_BUFFER,t.colorArray,M.DYNAMIC_DRAW),se.enableAttribute(i.color),M.vertexAttribPointer(i.color,3,M.FLOAT,!1,0,0)),se.disableUnusedAttributes(),M.drawArrays(M.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,n,r,i,o){Be(r);var a=Ue(t,e,r,i),s=!1,l=n.id+\"_\"+a.id+\"_\"+r.wireframe;l!==R&&(R=l,s=!0);var u=i.morphTargetInfluences;if(void 0!==u){for(var c=[],h=0,p=u.length;h<p;h++){var d=u[h];c.push([d,h])}c.sort(Oe),c.length>8&&(c.length=8);var f=n.morphAttributes;for(h=0,p=c.length;h<p;h++){d=c[h];if(v[h]=d[0],0!==d[0]){var m=d[1];!0===r.morphTargets&&f.position&&n.addAttribute(\"morphTarget\"+h,f.position[m]),!0===r.morphNormals&&f.normal&&n.addAttribute(\"morphNormal\"+h,f.normal[m])}else!0===r.morphTargets&&n.removeAttribute(\"morphTarget\"+h),!0===r.morphNormals&&n.removeAttribute(\"morphNormal\"+h)}h=c.length;for(var g=v.length;h<g;h++)v[h]=0;a.getUniforms().setValue(M,\"morphTargetInfluences\",v),s=!0}m=n.index;var y,b=n.attributes.position,x=1;!0===r.wireframe&&(m=ce.getWireframeAttribute(n),x=2),null!==m?(y=ye).setIndex(m):y=ge,s&&(!function(t,e,n,r){var i;if(n&&n.isInstancedBufferGeometry&&null===(i=oe.get(\"ANGLE_instanced_arrays\")))return void console.error(\"THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.\");void 0===r&&(r=0);se.initAttributes();var o=n.attributes,a=e.getAttributes(),s=t.defaultAttributeValues;for(var l in a){var u=a[l];if(u>=0){var c=o[l];if(void 0!==c){var h=c.normalized,p=c.itemSize,d=ce.getAttributeProperties(c),f=d.__webglBuffer,m=d.type,v=d.bytesPerElement;if(c.isInterleavedBufferAttribute){var g=c.data,y=g.stride,b=c.offset;g&&g.isInstancedInterleavedBuffer?(se.enableAttributeAndDivisor(u,g.meshPerAttribute,i),void 0===n.maxInstancedCount&&(n.maxInstancedCount=g.meshPerAttribute*g.count)):se.enableAttribute(u),M.bindBuffer(M.ARRAY_BUFFER,f),M.vertexAttribPointer(u,p,m,h,y*v,(r*y+b)*v)}else c.isInstancedBufferAttribute?(se.enableAttributeAndDivisor(u,c.meshPerAttribute,i),void 0===n.maxInstancedCount&&(n.maxInstancedCount=c.meshPerAttribute*c.count)):se.enableAttribute(u),M.bindBuffer(M.ARRAY_BUFFER,f),M.vertexAttribPointer(u,p,m,h,0,r*p*v)}else if(void 0!==s){var x=s[l];if(void 0!==x)switch(x.length){case 2:M.vertexAttrib2fv(u,x);break;case 3:M.vertexAttrib3fv(u,x);break;case 4:M.vertexAttrib4fv(u,x);break;default:M.vertexAttrib1fv(u,x)}}}}se.disableUnusedAttributes()}(r,a,n),null!==m&&M.bindBuffer(M.ELEMENT_ARRAY_BUFFER,ce.getAttributeBuffer(m)));var w=0;null!==m?w=m.count:void 0!==b&&(w=b.count);var _=n.drawRange.start*x,E=n.drawRange.count*x,S=null!==o?o.start*x:0,T=null!==o?o.count*x:1/0,C=Math.max(_,S),A=Math.min(w,_+E,S+T)-1,P=Math.max(0,A-C+1);if(0!==P){if(i.isMesh)if(!0===r.wireframe)se.setLineWidth(r.wireframeLinewidth*be()),y.setMode(M.LINES);else switch(i.drawMode){case ee:y.setMode(M.TRIANGLES);break;case ne:y.setMode(M.TRIANGLE_STRIP);break;case re:y.setMode(M.TRIANGLE_FAN)}else if(i.isLine){var L=r.linewidth;void 0===L&&(L=1),se.setLineWidth(L*be()),i.isLineSegments?y.setMode(M.LINES):y.setMode(M.LINE_STRIP)}else i.isPoints&&y.setMode(M.POINTS);n&&n.isInstancedBufferGeometry?n.maxInstancedCount>0&&y.renderInstances(n,C,P):y.render(C,P)}},this.render=function(t,e,n,r){if(void 0===e||!0===e.isCamera){R=\"\",P=-1,X=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),e.matrixWorldInverse.getInverse(e.matrixWorld),pt.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),st.setFromMatrix(pt),u.length=0,p=-1,m=-1,g.length=0,w.length=0,ct=this.localClippingEnabled,ut=lt.init(this.clippingPlanes,ct,e),function t(e,n){if(!1===e.visible)return;if(0!=(e.layers.mask&n.layers.mask))if(e.isLight)u.push(e);else if(e.isSprite)!1!==e.frustumCulled&&!0!==(p=e,ht.center.set(0,0,0),ht.radius=.7071067811865476,ht.applyMatrix4(p.matrixWorld),De(ht))||g.push(e);else if(e.isLensFlare)w.push(e);else if(e.isImmediateRenderObject)!0===E.sortObjects&&(dt.setFromMatrixPosition(e.matrixWorld),dt.applyMatrix4(pt)),ke(e,null,e.material,dt.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),!1===e.frustumCulled||!0===function(t){var e=t.geometry;null===e.boundingSphere&&e.computeBoundingSphere();return ht.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),De(ht)}(e))){var r=e.material;if(!0===r.visible){!0===E.sortObjects&&(dt.setFromMatrixPosition(e.matrixWorld),dt.applyMatrix4(pt));var i=ce.update(e);if(r.isMultiMaterial)for(var o=i.groups,a=r.materials,s=0,l=o.length;s<l;s++){var c=o[s],h=a[c.materialIndex];!0===h.visible&&ke(e,i,h,dt.z,c)}else ke(e,i,r,dt.z,null)}}var p;var d=e.children;for(s=0,l=d.length;s<l;s++)t(d[s],n)}(t,e),h.length=p+1,d.length=m+1,!0===E.sortObjects&&(h.sort(Ie),d.sort(Ne)),ut&&lt.beginShadows(),function(t){for(var e=0,n=0,r=t.length;n<r;n++){var i=t[n];i.castShadow&&($t.shadows[e++]=i)}$t.shadows.length=e}(u),_e.render(t,e),function(t,e){var n,r,i,o,a,s,l,u=0,c=0,h=0,p=e.matrixWorldInverse,d=0,f=0,m=0,v=0,g=0;for(n=0,r=t.length;n<r;n++)if(i=t[n],o=i.color,a=i.intensity,s=i.distance,l=i.shadow&&i.shadow.map?i.shadow.map.texture:null,i.isAmbientLight)u+=o.r*a,c+=o.g*a,h+=o.b*a;else if(i.isDirectionalLight){(y=pe.get(i)).color.copy(i.color).multiplyScalar(i.intensity),y.direction.setFromMatrixPosition(i.matrixWorld),dt.setFromMatrixPosition(i.target.matrixWorld),y.direction.sub(dt),y.direction.transformDirection(p),y.shadow=i.castShadow,i.castShadow&&(y.shadowBias=i.shadow.bias,y.shadowRadius=i.shadow.radius,y.shadowMapSize=i.shadow.mapSize),$t.directionalShadowMap[d]=l,$t.directionalShadowMatrix[d]=i.shadow.matrix,$t.directional[d++]=y}else if(i.isSpotLight){(y=pe.get(i)).position.setFromMatrixPosition(i.matrixWorld),y.position.applyMatrix4(p),y.color.copy(o).multiplyScalar(a),y.distance=s,y.direction.setFromMatrixPosition(i.matrixWorld),dt.setFromMatrixPosition(i.target.matrixWorld),y.direction.sub(dt),y.direction.transformDirection(p),y.coneCos=Math.cos(i.angle),y.penumbraCos=Math.cos(i.angle*(1-i.penumbra)),y.decay=0===i.distance?0:i.decay,y.shadow=i.castShadow,i.castShadow&&(y.shadowBias=i.shadow.bias,y.shadowRadius=i.shadow.radius,y.shadowMapSize=i.shadow.mapSize),$t.spotShadowMap[m]=l,$t.spotShadowMatrix[m]=i.shadow.matrix,$t.spot[m++]=y}else if(i.isRectAreaLight){(y=pe.get(i)).color.copy(o).multiplyScalar(a/(i.width*i.height)),y.position.setFromMatrixPosition(i.matrixWorld),y.position.applyMatrix4(p),mt.identity(),ft.copy(i.matrixWorld),ft.premultiply(p),mt.extractRotation(ft),y.halfWidth.set(.5*i.width,0,0),y.halfHeight.set(0,.5*i.height,0),y.halfWidth.applyMatrix4(mt),y.halfHeight.applyMatrix4(mt),$t.rectArea[v++]=y}else if(i.isPointLight){(y=pe.get(i)).position.setFromMatrixPosition(i.matrixWorld),y.position.applyMatrix4(p),y.color.copy(i.color).multiplyScalar(i.intensity),y.distance=i.distance,y.decay=0===i.distance?0:i.decay,y.shadow=i.castShadow,i.castShadow&&(y.shadowBias=i.shadow.bias,y.shadowRadius=i.shadow.radius,y.shadowMapSize=i.shadow.mapSize),$t.pointShadowMap[f]=l,void 0===$t.pointShadowMatrix[f]&&($t.pointShadowMatrix[f]=new Ae),dt.setFromMatrixPosition(i.matrixWorld).negate(),$t.pointShadowMatrix[f].identity().setPosition(dt),$t.point[f++]=y}else if(i.isHemisphereLight){var y;(y=pe.get(i)).direction.setFromMatrixPosition(i.matrixWorld),y.direction.transformDirection(p),y.direction.normalize(),y.skyColor.copy(i.color).multiplyScalar(a),y.groundColor.copy(i.groundColor).multiplyScalar(a),$t.hemi[g++]=y}$t.ambient[0]=u,$t.ambient[1]=c,$t.ambient[2]=h,$t.directional.length=d,$t.spot.length=m,$t.rectArea.length=v,$t.point.length=f,$t.hemi.length=g,$t.hash=d+\",\"+f+\",\"+m+\",\"+v+\",\"+g+\",\"+$t.shadows.length}(u,e),ut&&lt.endShadows(),te.calls=0,te.vertices=0,te.faces=0,te.points=0,void 0===n&&(n=null),this.setRenderTarget(n);var i=t.background;if(null===i?se.buffers.color.setClear(J.r,J.g,J.b,$,s):i&&i.isColor&&(se.buffers.color.setClear(i.r,i.g,i.b,1,s),r=!0),(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),i&&i.isCubeTexture?(void 0===me&&(me=new Rr,ve=new Er(new Tr(5,5,5),new Fn({uniforms:xn.cube.uniforms,vertexShader:xn.cube.vertexShader,fragmentShader:xn.cube.fragmentShader,side:y,depthTest:!1,depthWrite:!1,fog:!1}))),me.projectionMatrix.copy(e.projectionMatrix),me.matrixWorld.extractRotation(e.matrixWorld),me.matrixWorldInverse.getInverse(me.matrixWorld),ve.material.uniforms.tCube.value=i,ve.modelViewMatrix.multiplyMatrices(me.matrixWorldInverse,ve.matrixWorld),ce.update(ve),E.renderBufferDirect(me,null,ve.geometry,ve.material,ve,null)):i&&i.isTexture&&(void 0===de&&(de=new Lr(-1,1,1,-1,0,1),fe=new Er(new Ar(2,2),new ar({depthTest:!1,depthWrite:!1,fog:!1}))),fe.material.map=i,ce.update(fe),E.renderBufferDirect(de,null,fe.geometry,fe.material,fe,null)),t.overrideMaterial){var o=t.overrideMaterial;Fe(h,t,e,o),Fe(d,t,e,o)}else se.setBlending(S),Fe(h,t,e),Fe(d,t,e);Se.render(t,e),Te.render(t,e,Z),n&&ue.updateRenderTargetMipmap(n),se.setDepthTest(!0),se.setDepthWrite(!0),se.setColorWrite(!0)}else console.error(\"THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.\")},this.setFaceCulling=function(t,e){se.setCullFace(t),se.setFlipSided(e===f)},this.allocTextureUnit=function(){var t=Q;return t>=ae.maxTextures&&console.warn(\"WebGLRenderer: trying to use \"+t+\" texture units while this GPU supports only \"+ae.maxTextures),Q+=1,t},this.setTexture2D=(Ee=!1,function(t,e){t&&t.isWebGLRenderTarget&&(Ee||(console.warn(\"THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead.\"),Ee=!0),t=t.texture),ue.setTexture2D(t,e)}),this.setTexture=function(){var t=!1;return function(e,n){t||(console.warn(\"THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead.\"),t=!0),ue.setTexture2D(e,n)}}(),this.setTextureCube=function(){var t=!1;return function(e,n){e&&e.isWebGLRenderTargetCube&&(t||(console.warn(\"THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead.\"),t=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?ue.setTextureCube(e,n):ue.setTextureCubeDynamic(e,n)}}(),this.getCurrentRenderTarget=function(){return C},this.setRenderTarget=function(t){C=t,t&&void 0===le.get(t).__webglFramebuffer&&ue.setupRenderTarget(t);var e,n=t&&t.isWebGLRenderTargetCube;if(t){var r=le.get(t);e=n?r.__webglFramebuffer[t.activeCubeFace]:r.__webglFramebuffer,Y.copy(t.scissor),K=t.scissorTest,Z.copy(t.viewport)}else e=null,Y.copy(rt).multiplyScalar(nt),K=it,Z.copy(at).multiplyScalar(nt);if(A!==e&&(M.bindFramebuffer(M.FRAMEBUFFER,e),A=e),se.scissor(Y),se.setScissorTest(K),se.viewport(Z),n){var i=le.get(t.texture);M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,i.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,n,r,i,o){if(!1!==(t&&t.isWebGLRenderTarget)){var a=le.get(t).__webglFramebuffer;if(a){var s=!1;a!==A&&(M.bindFramebuffer(M.FRAMEBUFFER,a),s=!0);try{var l=t.texture,u=l.format,c=l.type;if(u!==Ut&&We(u)!==M.getParameter(M.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error(\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.\");if(!(c===St||We(c)===M.getParameter(M.IMPLEMENTATION_COLOR_READ_TYPE)||c===Lt&&(oe.get(\"OES_texture_float\")||oe.get(\"WEBGL_color_buffer_float\"))||c===Ot&&oe.get(\"EXT_color_buffer_half_float\")))return void console.error(\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.\");M.checkFramebufferStatus(M.FRAMEBUFFER)===M.FRAMEBUFFER_COMPLETE?e>=0&&e<=t.width-r&&n>=0&&n<=t.height-i&&M.readPixels(e,n,r,i,We(u),We(c),o):console.error(\"THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.\")}finally{s&&M.bindFramebuffer(M.FRAMEBUFFER,A)}}}else console.error(\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.\")}}function ri(t,e){this.name=\"\",this.color=new vn(t),this.density=void 0!==e?e:25e-5}function ii(t,e,n){this.name=\"\",this.color=new vn(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3}function oi(){nr.call(this),this.type=\"Scene\",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function ai(t,e,n,r,i){nr.call(this),this.lensFlares=[],this.positionScreen=new Ce,this.customUpdateCallback=void 0,void 0!==t&&this.add(t,e,n,r,i)}function si(t){Dn.call(this),this.type=\"SpriteMaterial\",this.color=new vn(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(t)}function li(t){nr.call(this),this.type=\"Sprite\",this.material=void 0!==t?t:new si}function ui(){nr.call(this),this.type=\"LOD\",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function ci(t,e,n){if(this.useVertexTexture=void 0===n||n,this.identityMatrix=new Ae,t=t||[],this.bones=t.slice(0),this.useVertexTexture){var r=Math.sqrt(4*this.bones.length);r=de.nextPowerOfTwo(Math.ceil(r)),r=Math.max(r,4),this.boneTextureWidth=r,this.boneTextureHeight=r,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new yn(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,Ut,Lt)}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn(\"THREE.Skeleton bonInverses is the wrong length.\"),this.boneInverses=[];for(var i=0,o=this.bones.length;i<o;i++)this.boneInverses.push(new Ae)}}function hi(){nr.call(this),this.type=\"Bone\"}function pi(t,e,n){Er.call(this,t,e),this.type=\"SkinnedMesh\",this.bindMode=\"attached\",this.bindMatrix=new Ae,this.bindMatrixInverse=new Ae;var r=[];if(this.geometry&&void 0!==this.geometry.bones){for(var i,o,a=0,s=this.geometry.bones.length;a<s;++a)o=this.geometry.bones[a],i=new hi,r.push(i),i.name=o.name,i.position.fromArray(o.pos),i.quaternion.fromArray(o.rotq),void 0!==o.scl&&i.scale.fromArray(o.scl);for(a=0,s=this.geometry.bones.length;a<s;++a)-1!==(o=this.geometry.bones[a]).parent&&null!==o.parent&&void 0!==r[o.parent]?r[o.parent].add(r[a]):this.add(r[a])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new ci(r,void 0,n),this.matrixWorld)}function di(t){Dn.call(this),this.type=\"LineBasicMaterial\",this.color=new vn(16777215),this.linewidth=1,this.linecap=\"round\",this.linejoin=\"round\",this.lights=!1,this.setValues(t)}function fi(t,e,n){if(1===n)return console.warn(\"THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead.\"),new mi(t,e);nr.call(this),this.type=\"Line\",this.geometry=void 0!==t?t:new Mr,this.material=void 0!==e?e:new di({color:16777215*Math.random()})}function mi(t,e){fi.call(this,t,e),this.type=\"LineSegments\"}function vi(t){Dn.call(this),this.type=\"PointsMaterial\",this.color=new vn(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(t)}function gi(t,e){nr.call(this),this.type=\"Points\",this.geometry=void 0!==t?t:new Mr,this.material=void 0!==e?e:new vi({color:16777215*Math.random()})}function yi(){nr.call(this),this.type=\"Group\"}function bi(t,e,n,r,i,o,a,s,l){_e.call(this,t,e,n,r,i,o,a,s,l),this.generateMipmaps=!1;var u=this;!function e(){requestAnimationFrame(e),t.readyState>=t.HAVE_CURRENT_DATA&&(u.needsUpdate=!0)}()}function xi(t,e,n,r,i,o,a,s,l,u,c,h){_e.call(this,null,o,a,s,l,u,r,i,c,h),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function wi(t,e,n,r,i,o,a,s,l){_e.call(this,t,e,n,r,i,o,a,s,l),this.needsUpdate=!0}function _i(t,e,n,r,i,o,a,s,l,u){if((u=void 0!==u?u:Vt)!==Vt&&u!==Wt)throw new Error(\"DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat\");void 0===n&&u===Vt&&(n=At),void 0===n&&u===Wt&&(n=Dt),_e.call(this,null,r,i,o,a,s,u,n,l),this.image={width:t,height:e},this.magFilter=void 0!==a?a:bt,this.minFilter=void 0!==s?s:bt,this.flipY=!1,this.generateMipmaps=!1}function Mi(t){Mr.call(this),this.type=\"WireframeGeometry\";var e,n,r,i,o,a,s,l,u=[],c=[0,0],h={},p=[\"a\",\"b\",\"c\"];if(t&&t.isGeometry){var d=t.faces;for(e=0,r=d.length;e<r;e++){var f=d[e];for(n=0;n<3;n++)c[0]=f[p[n]],c[1]=f[p[(n+1)%3]],c.sort(_),void 0===h[s=c.toString()]&&(h[s]={index1:c[0],index2:c[1]})}for(s in h)a=h[s],l=t.vertices[a.index1],u.push(l.x,l.y,l.z),l=t.vertices[a.index2],u.push(l.x,l.y,l.z)}else if(t&&t.isBufferGeometry){var m,v,g,y,b,x,w;if(l=new Ce,null!==t.index){for(m=t.attributes.position,v=t.index,0===(g=t.groups).length&&t.addGroup(0,v.count),i=0,o=g.length;i<o;++i)for(e=b=(y=g[i]).start,r=b+y.count;e<r;e+=3)for(n=0;n<3;n++)c[0]=v.getX(e+n),c[1]=v.getX(e+(n+1)%3),c.sort(_),void 0===h[s=c.toString()]&&(h[s]={index1:c[0],index2:c[1]});for(s in h)a=h[s],l.fromBufferAttribute(m,a.index1),u.push(l.x,l.y,l.z),l.fromBufferAttribute(m,a.index2),u.push(l.x,l.y,l.z)}else for(e=0,r=(m=t.attributes.position).count/3;e<r;e++)for(n=0;n<3;n++)x=3*e+n,l.fromBufferAttribute(m,x),u.push(l.x,l.y,l.z),w=3*e+(n+1)%3,l.fromBufferAttribute(m,w),u.push(l.x,l.y,l.z)}function _(t,e){return t-e}this.addAttribute(\"position\",new mr(u,3))}function Ei(t,e,n){_r.call(this),this.type=\"ParametricGeometry\",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new Si(t,e,n)),this.mergeVertices()}function Si(t,e,n){Mr.call(this),this.type=\"ParametricBufferGeometry\",this.parameters={func:t,slices:e,stacks:n};var r,i,o=[],a=[],s=[],l=e+1;for(r=0;r<=n;r++){var u=r/n;for(i=0;i<=e;i++){var c=i/e,h=t(c,u);a.push(h.x,h.y,h.z),s.push(c,u)}}for(r=0;r<n;r++)for(i=0;i<e;i++){var p=r*l+i,d=r*l+i+1,f=(r+1)*l+i+1,m=(r+1)*l+i;o.push(p,d,m),o.push(d,f,m)}this.setIndex(o),this.addAttribute(\"position\",new mr(a,3)),this.addAttribute(\"uv\",new mr(s,2)),this.computeVertexNormals()}function Ti(t,e,n,r){_r.call(this),this.type=\"PolyhedronGeometry\",this.parameters={vertices:t,indices:e,radius:n,detail:r},this.fromBufferGeometry(new Ci(t,e,n,r)),this.mergeVertices()}function Ci(t,e,n,r){Mr.call(this),this.type=\"PolyhedronBufferGeometry\",this.parameters={vertices:t,indices:e,radius:n,detail:r},n=n||1;var i=[],o=[];function a(t,e,n,r){var i,o,a=Math.pow(2,r),l=[];for(i=0;i<=a;i++){l[i]=[];var u=t.clone().lerp(n,i/a),c=e.clone().lerp(n,i/a),h=a-i;for(o=0;o<=h;o++)l[i][o]=0===o&&i===a?u:u.clone().lerp(c,o/h)}for(i=0;i<a;i++)for(o=0;o<2*(a-i)-1;o++){var p=Math.floor(o/2);o%2==0?(s(l[i][p+1]),s(l[i+1][p]),s(l[i][p])):(s(l[i][p+1]),s(l[i+1][p+1]),s(l[i+1][p]))}}function s(t){i.push(t.x,t.y,t.z)}function l(e,n){var r=3*e;n.x=t[r+0],n.y=t[r+1],n.z=t[r+2]}function u(t,e,n,r){r<0&&1===t.x&&(o[e]=t.x-1),0===n.x&&0===n.z&&(o[e]=r/2/Math.PI+.5)}function c(t){return Math.atan2(t.z,-t.x)}!function(t){for(var n=new Ce,r=new Ce,i=new Ce,o=0;o<e.length;o+=3)l(e[o+0],n),l(e[o+1],r),l(e[o+2],i),a(n,r,i,t)}(r=r||0),function(t){for(var e=new Ce,n=0;n<i.length;n+=3)e.x=i[n+0],e.y=i[n+1],e.z=i[n+2],e.normalize().multiplyScalar(t),i[n+0]=e.x,i[n+1]=e.y,i[n+2]=e.z}(n),function(){for(var t=new Ce,e=0;e<i.length;e+=3){t.x=i[e+0],t.y=i[e+1],t.z=i[e+2];var n=c(t)/2/Math.PI+.5,r=(a=t,Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5);o.push(n,1-r)}var a;(function(){for(var t=new Ce,e=new Ce,n=new Ce,r=new Ce,a=new fe,s=new fe,l=new fe,h=0,p=0;h<i.length;h+=9,p+=6){t.set(i[h+0],i[h+1],i[h+2]),e.set(i[h+3],i[h+4],i[h+5]),n.set(i[h+6],i[h+7],i[h+8]),a.set(o[p+0],o[p+1]),s.set(o[p+2],o[p+3]),l.set(o[p+4],o[p+5]),r.copy(t).add(e).add(n).divideScalar(3);var d=c(r);u(a,p+0,t,d),u(s,p+2,e,d),u(l,p+4,n,d)}})(),function(){for(var t=0;t<o.length;t+=6){var e=o[t+0],n=o[t+2],r=o[t+4],i=Math.max(e,n,r),a=Math.min(e,n,r);i>.9&&a<.1&&(e<.2&&(o[t+0]+=1),n<.2&&(o[t+2]+=1),r<.2&&(o[t+4]+=1))}}()}(),this.addAttribute(\"position\",new mr(i,3)),this.addAttribute(\"normal\",new mr(i.slice(),3)),this.addAttribute(\"uv\",new mr(o,2)),this.normalizeNormals()}function Ai(t,e){_r.call(this),this.type=\"TetrahedronGeometry\",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Pi(t,e)),this.mergeVertices()}function Pi(t,e){Ci.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type=\"TetrahedronBufferGeometry\",this.parameters={radius:t,detail:e}}function Ri(t,e){_r.call(this),this.type=\"OctahedronGeometry\",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Li(t,e)),this.mergeVertices()}function Li(t,e){Ci.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type=\"OctahedronBufferGeometry\",this.parameters={radius:t,detail:e}}function Oi(t,e){_r.call(this),this.type=\"IcosahedronGeometry\",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ii(t,e)),this.mergeVertices()}function Ii(t,e){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];Ci.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type=\"IcosahedronBufferGeometry\",this.parameters={radius:t,detail:e}}function Ni(t,e){_r.call(this),this.type=\"DodecahedronGeometry\",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new ki(t,e)),this.mergeVertices()}function ki(t,e){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r];Ci.call(this,i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type=\"DodecahedronBufferGeometry\",this.parameters={radius:t,detail:e}}function Di(t,e,n,r,i,o){_r.call(this),this.type=\"TubeGeometry\",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn(\"THREE.TubeGeometry: taper has been removed.\");var a=new Fi(t,e,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function Fi(t,e,n,r,i){Mr.call(this),this.type=\"TubeBufferGeometry\",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},e=e||64,n=n||1,r=r||8,i=i||!1;var o=t.computeFrenetFrames(e,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;var a,s,l=new Ce,u=new Ce,c=new fe,h=[],p=[],d=[],f=[];function m(i){var a=t.getPointAt(i/e),c=o.normals[i],d=o.binormals[i];for(s=0;s<=r;s++){var f=s/r*Math.PI*2,m=Math.sin(f),v=-Math.cos(f);u.x=v*c.x+m*d.x,u.y=v*c.y+m*d.y,u.z=v*c.z+m*d.z,u.normalize(),p.push(u.x,u.y,u.z),l.x=a.x+n*u.x,l.y=a.y+n*u.y,l.z=a.z+n*u.z,h.push(l.x,l.y,l.z)}}!function(){for(a=0;a<e;a++)m(a);m(!1===i?e:0),function(){for(a=0;a<=e;a++)for(s=0;s<=r;s++)c.x=a/e,c.y=s/r,d.push(c.x,c.y)}(),function(){for(s=1;s<=e;s++)for(a=1;a<=r;a++){var t=(r+1)*(s-1)+(a-1),n=(r+1)*s+(a-1),i=(r+1)*s+a,o=(r+1)*(s-1)+a;f.push(t,n,o),f.push(n,i,o)}}()}(),this.setIndex(f),this.addAttribute(\"position\",new mr(h,3)),this.addAttribute(\"normal\",new mr(p,3)),this.addAttribute(\"uv\",new mr(d,2))}function Bi(t,e,n,r,i,o,a){_r.call(this),this.type=\"TorusKnotGeometry\",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn(\"THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.\"),this.fromBufferGeometry(new Ui(t,e,n,r,i,o)),this.mergeVertices()}function Ui(t,e,n,r,i,o){Mr.call(this),this.type=\"TorusKnotBufferGeometry\",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:o},t=t||100,e=e||40,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,o=o||3;var a,s,l=[],u=[],c=[],h=[],p=new Ce,d=new Ce,f=(new fe,new Ce),m=new Ce,v=new Ce,g=new Ce,y=new Ce;for(a=0;a<=n;++a){var b=a/n*i*Math.PI*2;for(C(b,i,o,t,f),C(b+.01,i,o,t,m),g.subVectors(m,f),y.addVectors(m,f),v.crossVectors(g,y),y.crossVectors(v,g),v.normalize(),y.normalize(),s=0;s<=r;++s){var x=s/r*Math.PI*2,w=-e*Math.cos(x),_=e*Math.sin(x);p.x=f.x+(w*y.x+_*v.x),p.y=f.y+(w*y.y+_*v.y),p.z=f.z+(w*y.z+_*v.z),u.push(p.x,p.y,p.z),d.subVectors(p,f).normalize(),c.push(d.x,d.y,d.z),h.push(a/n),h.push(s/r)}}for(s=1;s<=n;s++)for(a=1;a<=r;a++){var M=(r+1)*(s-1)+(a-1),E=(r+1)*s+(a-1),S=(r+1)*s+a,T=(r+1)*(s-1)+a;l.push(M,E,T),l.push(E,S,T)}function C(t,e,n,r,i){var o=Math.cos(t),a=Math.sin(t),s=n/e*t,l=Math.cos(s);i.x=r*(2+l)*.5*o,i.y=r*(2+l)*a*.5,i.z=r*Math.sin(s)*.5}this.setIndex(l),this.addAttribute(\"position\",new mr(u,3)),this.addAttribute(\"normal\",new mr(c,3)),this.addAttribute(\"uv\",new mr(h,2))}function zi(t,e,n,r,i){_r.call(this),this.type=\"TorusGeometry\",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new ji(t,e,n,r,i))}function ji(t,e,n,r,i){Mr.call(this),this.type=\"TorusBufferGeometry\",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},t=t||100,e=e||40,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var o,a,s=[],l=[],u=[],c=[],h=new Ce,p=new Ce,d=new Ce;for(o=0;o<=n;o++)for(a=0;a<=r;a++){var f=a/r*i,m=o/n*Math.PI*2;p.x=(t+e*Math.cos(m))*Math.cos(f),p.y=(t+e*Math.cos(m))*Math.sin(f),p.z=e*Math.sin(m),l.push(p.x,p.y,p.z),h.x=t*Math.cos(f),h.y=t*Math.sin(f),d.subVectors(p,h).normalize(),u.push(d.x,d.y,d.z),c.push(a/r),c.push(o/n)}for(o=1;o<=n;o++)for(a=1;a<=r;a++){var v=(r+1)*o+a-1,g=(r+1)*(o-1)+a-1,y=(r+1)*(o-1)+a,b=(r+1)*o+a;s.push(v,g,b),s.push(g,y,b)}this.setIndex(s),this.addAttribute(\"position\",new mr(l,3)),this.addAttribute(\"normal\",new mr(u,3)),this.addAttribute(\"uv\",new mr(c,2))}ri.prototype.isFogExp2=!0,ri.prototype.clone=function(){return new ri(this.color.getHex(),this.density)},ri.prototype.toJSON=function(t){return{type:\"FogExp2\",color:this.color.getHex(),density:this.density}},ii.prototype.isFog=!0,ii.prototype.clone=function(){return new ii(this.color.getHex(),this.near,this.far)},ii.prototype.toJSON=function(t){return{type:\"Fog\",color:this.color.getHex(),near:this.near,far:this.far}},oi.prototype=Object.create(nr.prototype),oi.prototype.constructor=oi,oi.prototype.copy=function(t,e){return nr.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},oi.prototype.toJSON=function(t){var e=nr.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},ai.prototype=Object.assign(Object.create(nr.prototype),{constructor:ai,isLensFlare:!0,copy:function(t){nr.prototype.copy.call(this,t),this.positionScreen.copy(t.positionScreen),this.customUpdateCallback=t.customUpdateCallback;for(var e=0,n=t.lensFlares.length;e<n;e++)this.lensFlares.push(t.lensFlares[e]);return this},add:function(t,e,n,r,i,o){void 0===e&&(e=-1),void 0===n&&(n=0),void 0===o&&(o=1),void 0===i&&(i=new vn(16777215)),void 0===r&&(r=T),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:t,size:e,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:o,color:i,blending:r})},updateLensFlares:function(){var t,e,n=this.lensFlares.length,r=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(t=0;t<n;t++)(e=this.lensFlares[t]).x=this.positionScreen.x+r*e.distance,e.y=this.positionScreen.y+i*e.distance,e.wantedRotation=e.x*Math.PI*.25,e.rotation+=.25*(e.wantedRotation-e.rotation)}}),si.prototype=Object.create(Dn.prototype),si.prototype.constructor=si,si.prototype.copy=function(t){return Dn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this},li.prototype=Object.assign(Object.create(nr.prototype),{constructor:li,isSprite:!0,raycast:(Dr=new Ce,function(t,e){Dr.setFromMatrixPosition(this.matrixWorld);var n=t.ray.distanceSqToPoint(Dr);n>this.scale.x*this.scale.y/4||e.push({distance:Math.sqrt(n),point:this.position,face:null,object:this})}),clone:function(){return new this.constructor(this.material).copy(this)}}),ui.prototype=Object.assign(Object.create(nr.prototype),{constructor:ui,copy:function(t){nr.prototype.copy.call(this,t,!1);for(var e=t.levels,n=0,r=e.length;n<r;n++){var i=e[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var n=this.levels,r=0;r<n.length&&!(e<n[r].distance);r++);n.splice(r,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,n=1,r=e.length;n<r&&!(t<e[n].distance);n++);return e[n-1].object},raycast:function(){var t=new Ce;return function(e,n){t.setFromMatrixPosition(this.matrixWorld);var r=e.ray.origin.distanceTo(t);this.getObjectForDistance(r).raycast(e,n)}}(),update:function(){var t=new Ce,e=new Ce;return function(n){var r=this.levels;if(r.length>1){t.setFromMatrixPosition(n.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var i=t.distanceTo(e);r[0].object.visible=!0;for(var o=1,a=r.length;o<a&&i>=r[o].distance;o++)r[o-1].object.visible=!1,r[o].object.visible=!0;for(;o<a;o++)r[o].object.visible=!1}}}(),toJSON:function(t){var e=nr.prototype.toJSON.call(this,t);e.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var o=n[r];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}}),Object.assign(ci.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var n=new Ae;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(var t,e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:(Fr=new Ae,function(){for(var t=0,e=this.bones.length;t<e;t++){var n=this.bones[t]?this.bones[t].matrixWorld:this.identityMatrix;Fr.multiplyMatrices(n,this.boneInverses[t]),Fr.toArray(this.boneMatrices,16*t)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}),clone:function(){return new ci(this.bones,this.boneInverses,this.useVertexTexture)}}),hi.prototype=Object.assign(Object.create(nr.prototype),{constructor:hi,isBone:!0}),pi.prototype=Object.assign(Object.create(Er.prototype),{constructor:pi,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry&&this.geometry.isGeometry)for(var t=0;t<this.geometry.skinWeights.length;t++){var e=this.geometry.skinWeights[t];(i=1/e.lengthManhattan())!==1/0?e.multiplyScalar(i):e.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var n=new Me,r=this.geometry.attributes.skinWeight;for(t=0;t<r.count;t++){var i;n.x=r.getX(t),n.y=r.getY(t),n.z=r.getZ(t),n.w=r.getW(t),(i=1/n.lengthManhattan())!==1/0?n.multiplyScalar(i):n.set(1,0,0,0),r.setXYZW(t,n.x,n.y,n.z,n.w)}}},updateMatrixWorld:function(t){Er.prototype.updateMatrixWorld.call(this,!0),\"attached\"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):\"detached\"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn(\"THREE.SkinnedMesh unrecognized bindMode: \"+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material,this.skeleton.useVertexTexture).copy(this)}}),di.prototype=Object.create(Dn.prototype),di.prototype.constructor=di,di.prototype.isLineBasicMaterial=!0,di.prototype.copy=function(t){return Dn.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},fi.prototype=Object.assign(Object.create(nr.prototype),{constructor:fi,isLine:!0,raycast:function(){var t=new Ae,e=new Hn,n=new zn;return function(r,i){var o=r.linePrecision,a=o*o,s=this.geometry,l=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere),n.applyMatrix4(l),!1!==r.ray.intersectsSphere(n)){t.getInverse(l),e.copy(r.ray).applyMatrix4(t);var u=new Ce,c=new Ce,h=new Ce,p=new Ce,d=this&&this.isLineSegments?2:1;if(s.isBufferGeometry){var f=s.index,m=s.attributes.position.array;if(null!==f)for(var v=f.array,g=0,y=v.length-1;g<y;g+=d){var b=v[g],x=v[g+1];if(u.fromArray(m,3*b),c.fromArray(m,3*x),!(e.distanceSqToSegment(u,c,p,h)>a))p.applyMatrix4(this.matrixWorld),(M=r.ray.origin.distanceTo(p))<r.near||M>r.far||i.push({distance:M,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}else for(g=0,y=m.length/3-1;g<y;g+=d){if(u.fromArray(m,3*g),c.fromArray(m,3*g+3),!(e.distanceSqToSegment(u,c,p,h)>a))p.applyMatrix4(this.matrixWorld),(M=r.ray.origin.distanceTo(p))<r.near||M>r.far||i.push({distance:M,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}else if(s.isGeometry){var w=s.vertices,_=w.length;for(g=0;g<_-1;g+=d){var M;if(!(e.distanceSqToSegment(w[g],w[g+1],p,h)>a))p.applyMatrix4(this.matrixWorld),(M=r.ray.origin.distanceTo(p))<r.near||M>r.far||i.push({distance:M,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),mi.prototype=Object.assign(Object.create(fi.prototype),{constructor:mi,isLineSegments:!0}),vi.prototype=Object.create(Dn.prototype),vi.prototype.constructor=vi,vi.prototype.isPointsMaterial=!0,vi.prototype.copy=function(t){return Dn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this},gi.prototype=Object.assign(Object.create(nr.prototype),{constructor:gi,isPoints:!0,raycast:function(){var t=new Ae,e=new Hn,n=new zn;return function(r,i){var o=this,a=this.geometry,s=this.matrixWorld,l=r.params.Points.threshold;if(null===a.boundingSphere&&a.computeBoundingSphere(),n.copy(a.boundingSphere),n.applyMatrix4(s),!1!==r.ray.intersectsSphere(n)){t.getInverse(s),e.copy(r.ray).applyMatrix4(t);var u=l/((this.scale.x+this.scale.y+this.scale.z)/3),c=u*u,h=new Ce;if(a.isBufferGeometry){var p=a.index,d=a.attributes.position.array;if(null!==p)for(var f=p.array,m=0,v=f.length;m<v;m++){var g=f[m];h.fromArray(d,3*g),x(h,g)}else{m=0;for(var y=d.length/3;m<y;m++)h.fromArray(d,3*m),x(h,m)}}else{var b=a.vertices;for(m=0,y=b.length;m<y;m++)x(b[m],m)}}function x(t,n){var a=e.distanceSqToPoint(t);if(a<c){var l=e.closestPointToPoint(t);l.applyMatrix4(s);var u=r.ray.origin.distanceTo(l);if(u<r.near||u>r.far)return;i.push({distance:u,distanceToRay:Math.sqrt(a),point:l.clone(),index:n,face:null,object:o})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),yi.prototype=Object.assign(Object.create(nr.prototype),{constructor:yi}),bi.prototype=Object.create(_e.prototype),bi.prototype.constructor=bi,xi.prototype=Object.create(_e.prototype),xi.prototype.constructor=xi,xi.prototype.isCompressedTexture=!0,wi.prototype=Object.create(_e.prototype),wi.prototype.constructor=wi,_i.prototype=Object.create(_e.prototype),_i.prototype.constructor=_i,_i.prototype.isDepthTexture=!0,Mi.prototype=Object.create(Mr.prototype),Mi.prototype.constructor=Mi,Ei.prototype=Object.create(_r.prototype),Ei.prototype.constructor=Ei,Si.prototype=Object.create(Mr.prototype),Si.prototype.constructor=Si,Ti.prototype=Object.create(_r.prototype),Ti.prototype.constructor=Ti,Ci.prototype=Object.create(Mr.prototype),Ci.prototype.constructor=Ci,Ai.prototype=Object.create(_r.prototype),Ai.prototype.constructor=Ai,Pi.prototype=Object.create(Ci.prototype),Pi.prototype.constructor=Pi,Ri.prototype=Object.create(_r.prototype),Ri.prototype.constructor=Ri,Li.prototype=Object.create(Ci.prototype),Li.prototype.constructor=Li,Oi.prototype=Object.create(_r.prototype),Oi.prototype.constructor=Oi,Ii.prototype=Object.create(Ci.prototype),Ii.prototype.constructor=Ii,Ni.prototype=Object.create(_r.prototype),Ni.prototype.constructor=Ni,ki.prototype=Object.create(Ci.prototype),ki.prototype.constructor=ki,Di.prototype=Object.create(_r.prototype),Di.prototype.constructor=Di,Fi.prototype=Object.create(Mr.prototype),Fi.prototype.constructor=Fi,Bi.prototype=Object.create(_r.prototype),Bi.prototype.constructor=Bi,Ui.prototype=Object.create(Mr.prototype),Ui.prototype.constructor=Ui,zi.prototype=Object.create(_r.prototype),zi.prototype.constructor=zi,ji.prototype=Object.create(Mr.prototype),ji.prototype.constructor=ji;var Vi={area:function(t){for(var e=t.length,n=0,r=e-1,i=0;i<e;r=i++)n+=t[r].x*t[i].y-t[i].x*t[r].y;return.5*n},triangulate:function(){function t(t,e,n,r,i,o){var a,s,l,u,c,h,p,d,f,m,v,g,y,b,x,w,_;if(s=t[o[e]].x,l=t[o[e]].y,u=t[o[n]].x,c=t[o[n]].y,h=t[o[r]].x,(u-s)*((p=t[o[r]].y)-l)-(c-l)*(h-s)<=0)return!1;for(m=h-u,v=p-c,g=s-h,y=l-p,b=u-s,x=c-l,a=0;a<i;a++)if(d=t[o[a]].x,f=t[o[a]].y,!(d===s&&f===l||d===u&&f===c||d===h&&f===p)&&(w=b*(f-l)-x*(d-s),_=g*(f-p)-y*(d-h),m*(f-c)-v*(d-u)>=-Number.EPSILON&&_>=-Number.EPSILON&&w>=-Number.EPSILON))return!1;return!0}return function(e,n){var r=e.length;if(r<3)return null;var i,o,a,s=[],l=[],u=[];if(Vi.area(e)>0)for(o=0;o<r;o++)l[o]=o;else for(o=0;o<r;o++)l[o]=r-1-o;var c=r,h=2*c;for(o=c-1;c>2;){if(h--<=0)return console.warn(\"THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()\"),n?u:s;if(c<=(i=o)&&(i=0),c<=(o=i+1)&&(o=0),c<=(a=o+1)&&(a=0),t(e,i,o,a,c,l)){var p,d,f,m,v;for(p=l[i],d=l[o],f=l[a],s.push([e[p],e[d],e[f]]),u.push([l[i],l[o],l[a]]),m=o,v=o+1;v<c;m++,v++)l[m]=l[v];h=2*--c}}return n?u:s}}(),triangulateShape:function(t,e){function n(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function r(t,e,n){return t.x!==e.x?t.x<e.x?t.x<=n.x&&n.x<=e.x:e.x<=n.x&&n.x<=t.x:t.y<e.y?t.y<=n.y&&n.y<=e.y:e.y<=n.y&&n.y<=t.y}function i(t,e,n,i,o){var a=e.x-t.x,s=e.y-t.y,l=i.x-n.x,u=i.y-n.y,c=t.x-n.x,h=t.y-n.y,p=s*l-a*u,d=s*c-a*h;if(Math.abs(p)>Number.EPSILON){var f;if(p>0){if(d<0||d>p)return[];if((f=u*c-l*h)<0||f>p)return[]}else{if(d>0||d<p)return[];if((f=u*c-l*h)>0||f<p)return[]}if(0===f)return!o||0!==d&&d!==p?[t]:[];if(f===p)return!o||0!==d&&d!==p?[e]:[];if(0===d)return[n];if(d===p)return[i];var m=f/p;return[{x:t.x+m*a,y:t.y+m*s}]}if(0!==d||u*c!=l*h)return[];var v,g,y,b,x,w,_,M,E=0===a&&0===s,S=0===l&&0===u;return E&&S?t.x!==n.x||t.y!==n.y?[]:[t]:E?r(n,i,t)?[t]:[]:S?r(t,e,n)?[n]:[]:(0!==a?(t.x<e.x?(v=t,y=t.x,g=e,b=e.x):(v=e,y=e.x,g=t,b=t.x),n.x<i.x?(x=n,_=n.x,w=i,M=i.x):(x=i,_=i.x,w=n,M=n.x)):(t.y<e.y?(v=t,y=t.y,g=e,b=e.y):(v=e,y=e.y,g=t,b=t.y),n.y<i.y?(x=n,_=n.y,w=i,M=i.y):(x=i,_=i.y,w=n,M=n.y)),y<=_?b<_?[]:b===_?o?[]:[x]:b<=M?[x,g]:[x,w]:y>M?[]:y===M?o?[]:[v]:b<=M?[v,g]:[v,w])}function o(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=n.x-t.x,s=n.y-t.y,l=r.x-t.x,u=r.y-t.y,c=i*s-o*a,h=i*u-o*l;if(Math.abs(c)>Number.EPSILON){var p=l*s-u*a;return c>0?h>=0&&p>=0:h>=0||p>=0}return h>0}n(t),e.forEach(n);for(var a,s,l,u,c,h,p={},d=t.concat(),f=0,m=e.length;f<m;f++)Array.prototype.push.apply(d,e[f]);for(a=0,s=d.length;a<s;a++)void 0!==p[c=d[a].x+\":\"+d[a].y]&&console.warn(\"THREE.ShapeUtils: Duplicate point\",c,a),p[c]=a;var v=function(t,e){var n,r=t.concat();function a(t,e){var i=r.length-1,a=t-1;a<0&&(a=i);var s=t+1;s>i&&(s=0);var l=o(r[t],r[a],r[s],n[e]);if(!l)return!1;var u=n.length-1,c=e-1;c<0&&(c=u);var h=e+1;return h>u&&(h=0),!!(l=o(n[e],n[c],n[h],r[t]))}function s(t,e){var n,o;for(n=0;n<r.length;n++)if(o=n+1,o%=r.length,i(t,e,r[n],r[o],!0).length>0)return!0;return!1}var l=[];function u(t,n){var r,o,a,s;for(r=0;r<l.length;r++)for(o=e[l[r]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,i(t,n,o[a],o[s],!0).length>0)return!0;return!1}for(var c,h,p,d,f,m,v,g,y,b,x=[],w=0,_=e.length;w<_;w++)l.push(w);for(var M=0,E=2*l.length;l.length>0;){if(--E<0){console.log(\"Infinite Loop! Holes left:\"+l.length+\", Probably Hole outside Shape!\");break}for(h=M;h<r.length;h++){p=r[h],c=-1;for(w=0;w<l.length;w++)if(f=l[w],void 0===x[m=p.x+\":\"+p.y+\":\"+f]){n=e[f];for(var S=0;S<n.length;S++)if(d=n[S],a(h,S)&&!s(p,d)&&!u(p,d)){c=S,l.splice(w,1),v=r.slice(0,h+1),g=r.slice(h),y=n.slice(c),b=n.slice(0,c+1),r=v.concat(y).concat(b).concat(g),M=h;break}if(c>=0)break;x[m]=!0}if(c>=0)break}}return r}(t,e),g=Vi.triangulate(v,!1);for(a=0,s=g.length;a<s;a++)for(u=g[a],l=0;l<3;l++)void 0!==(h=p[c=u[l].x+\":\"+u[l].y])&&(u[l]=h);return g.concat()},isClockWise:function(t){return Vi.area(t)<0}};function Wi(t,e){void 0!==t?(_r.call(this),this.type=\"ExtrudeGeometry\",t=Array.isArray(t)?t:[t],this.addShapeList(t,e),this.computeFaceNormals()):t=[]}function Gi(t,e){var n=(e=e||{}).font;if(!1===(n&&n.isFont))return console.error(\"THREE.TextGeometry: font parameter is not an instance of THREE.Font.\"),new _r;var r=n.generateShapes(t,e.size,e.curveSegments);e.amount=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),Wi.call(this,r,e),this.type=\"TextGeometry\"}function Hi(t,e,n,r,i,o,a){_r.call(this),this.type=\"SphereGeometry\",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new qi(t,e,n,r,i,o,a))}function qi(t,e,n,r,i,o,a){Mr.call(this),this.type=\"SphereBufferGeometry\",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},t=t||50,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI;var s,l,u=(o=void 0!==o?o:0)+(a=void 0!==a?a:Math.PI),c=0,h=[],p=new Ce,d=new Ce,f=[],m=[],v=[],g=[];for(l=0;l<=n;l++){var y=[],b=l/n;for(s=0;s<=e;s++){var x=s/e;p.x=-t*Math.cos(r+x*i)*Math.sin(o+b*a),p.y=t*Math.cos(o+b*a),p.z=t*Math.sin(r+x*i)*Math.sin(o+b*a),m.push(p.x,p.y,p.z),d.set(p.x,p.y,p.z).normalize(),v.push(d.x,d.y,d.z),g.push(x,1-b),y.push(c++)}h.push(y)}for(l=0;l<n;l++)for(s=0;s<e;s++){var w=h[l][s+1],_=h[l][s],M=h[l+1][s],E=h[l+1][s+1];(0!==l||o>0)&&f.push(w,_,E),(l!==n-1||u<Math.PI)&&f.push(_,M,E)}this.setIndex(f),this.addAttribute(\"position\",new mr(m,3)),this.addAttribute(\"normal\",new mr(v,3)),this.addAttribute(\"uv\",new mr(g,2))}function Xi(t,e,n,r,i,o){_r.call(this),this.type=\"RingGeometry\",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new Yi(t,e,n,r,i,o))}function Yi(t,e,n,r,i,o){Mr.call(this),this.type=\"RingBufferGeometry\",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},t=t||20,e=e||50,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var a,s,l,u=[],c=[],h=[],p=[],d=t,f=(e-t)/(r=void 0!==r?Math.max(1,r):1),m=new Ce,v=new fe;for(s=0;s<=r;s++){for(l=0;l<=n;l++)a=i+l/n*o,m.x=d*Math.cos(a),m.y=d*Math.sin(a),c.push(m.x,m.y,m.z),h.push(0,0,1),v.x=(m.x/e+1)/2,v.y=(m.y/e+1)/2,p.push(v.x,v.y);d+=f}for(s=0;s<r;s++){var g=s*(n+1);for(l=0;l<n;l++){var y=a=l+g,b=a+n+1,x=a+n+2,w=a+1;u.push(y,b,w),u.push(b,x,w)}}this.setIndex(u),this.addAttribute(\"position\",new mr(c,3)),this.addAttribute(\"normal\",new mr(h,3)),this.addAttribute(\"uv\",new mr(p,2))}function Ki(t,e,n,r){_r.call(this),this.type=\"LatheGeometry\",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},this.fromBufferGeometry(new Zi(t,e,n,r)),this.mergeVertices()}function Zi(t,e,n,r){Mr.call(this),this.type=\"LatheBufferGeometry\",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},e=Math.floor(e)||12,n=n||0,r=r||2*Math.PI,r=de.clamp(r,0,2*Math.PI);var i,o,a,s=[],l=[],u=[],c=1/e,h=new Ce,p=new fe;for(o=0;o<=e;o++){var d=n+o*c*r,f=Math.sin(d),m=Math.cos(d);for(a=0;a<=t.length-1;a++)h.x=t[a].x*f,h.y=t[a].y,h.z=t[a].x*m,l.push(h.x,h.y,h.z),p.x=o/e,p.y=a/(t.length-1),u.push(p.x,p.y)}for(o=0;o<e;o++)for(a=0;a<t.length-1;a++){var v=i=a+o*t.length,g=i+t.length,y=i+t.length+1,b=i+1;s.push(v,g,b),s.push(g,y,b)}if(this.setIndex(s),this.addAttribute(\"position\",new mr(l,3)),this.addAttribute(\"uv\",new mr(u,2)),this.computeVertexNormals(),r===2*Math.PI){var x=this.attributes.normal.array,w=new Ce,_=new Ce,M=new Ce;for(i=e*t.length*3,o=0,a=0;o<t.length;o++,a+=3)w.x=x[a+0],w.y=x[a+1],w.z=x[a+2],_.x=x[i+a+0],_.y=x[i+a+1],_.z=x[i+a+2],M.addVectors(w,_).normalize(),x[a+0]=x[i+a+0]=M.x,x[a+1]=x[i+a+1]=M.y,x[a+2]=x[i+a+2]=M.z}}function Qi(t,e){_r.call(this),this.type=\"ShapeGeometry\",\"object\"==typeof e&&(console.warn(\"THREE.ShapeGeometry: Options parameter has been removed.\"),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new Ji(t,e)),this.mergeVertices()}function Ji(t,e){Mr.call(this),this.type=\"ShapeBufferGeometry\",this.parameters={shapes:t,curveSegments:e},e=e||12;var n=[],r=[],i=[],o=[],a=0,s=0;if(!1===Array.isArray(t))u(t);else for(var l=0;l<t.length;l++)u(t[l]),this.addGroup(a,s,l),a+=s,s=0;function u(t){var a,l,u,c=r.length/3,h=t.extractPoints(e),p=h.shape,d=h.holes;if(!1===Vi.isClockWise(p))for(p=p.reverse(),a=0,l=d.length;a<l;a++)u=d[a],!0===Vi.isClockWise(u)&&(d[a]=u.reverse());var f=Vi.triangulateShape(p,d);for(a=0,l=d.length;a<l;a++)u=d[a],p=p.concat(u);for(a=0,l=p.length;a<l;a++){var m=p[a];r.push(m.x,m.y,0),i.push(0,0,1),o.push(m.x,m.y)}for(a=0,l=f.length;a<l;a++){var v=f[a],g=v[0]+c,y=v[1]+c,b=v[2]+c;n.push(g,y,b),s+=3}}this.setIndex(n),this.addAttribute(\"position\",new mr(r,3)),this.addAttribute(\"normal\",new mr(i,3)),this.addAttribute(\"uv\",new mr(o,2))}function $i(t,e){Mr.call(this),this.type=\"EdgesGeometry\",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var n,r,i=[],o=Math.cos(de.DEG2RAD*e),a=[0,0],s={},l=[\"a\",\"b\",\"c\"];t.isBufferGeometry?(r=new _r).fromBufferGeometry(t):r=t.clone(),r.mergeVertices(),r.computeFaceNormals();for(var u=r.vertices,c=r.faces,h=0,p=c.length;h<p;h++)for(var d=c[h],f=0;f<3;f++)a[0]=d[l[f]],a[1]=d[l[(f+1)%3]],a.sort(g),void 0===s[n=a.toString()]?s[n]={index1:a[0],index2:a[1],face1:h,face2:void 0}:s[n].face2=h;for(n in s){var m=s[n];if(void 0===m.face2||c[m.face1].normal.dot(c[m.face2].normal)<=o){var v=u[m.index1];i.push(v.x,v.y,v.z),v=u[m.index2],i.push(v.x,v.y,v.z)}}function g(t,e){return t-e}this.addAttribute(\"position\",new mr(i,3))}function to(t,e,n,r,i,o,a,s){_r.call(this),this.type=\"CylinderGeometry\",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new eo(t,e,n,r,i,o,a,s)),this.mergeVertices()}function eo(t,e,n,r,i,o,a,s){Mr.call(this),this.type=\"CylinderBufferGeometry\",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};var l=this;t=void 0!==t?t:20,e=void 0!==e?e:20,n=void 0!==n?n:100,r=Math.floor(r)||8,i=Math.floor(i)||1,o=void 0!==o&&o,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;var u=[],c=[],h=[],p=[],d=0,f=[],m=n/2,v=0;function g(n){var i,o,f,g=new fe,y=new Ce,b=0,x=!0===n?t:e,w=!0===n?1:-1;for(o=d,i=1;i<=r;i++)c.push(0,m*w,0),h.push(0,w,0),p.push(.5,.5),d++;for(f=d,i=0;i<=r;i++){var _=i/r*s+a,M=Math.cos(_),E=Math.sin(_);y.x=x*E,y.y=m*w,y.z=x*M,c.push(y.x,y.y,y.z),h.push(0,w,0),g.x=.5*M+.5,g.y=.5*E*w+.5,p.push(g.x,g.y),d++}for(i=0;i<r;i++){var S=o+i,T=f+i;!0===n?u.push(T,T+1,S):u.push(T+1,T,S),b+=3}l.addGroup(v,b,!0===n?1:2),v+=b}!function(){var o,g,y=new Ce,b=new Ce,x=0,w=(e-t)/n;for(g=0;g<=i;g++){var _=[],M=g/i,E=M*(e-t)+t;for(o=0;o<=r;o++){var S=o/r,T=S*s+a,C=Math.sin(T),A=Math.cos(T);b.x=E*C,b.y=-M*n+m,b.z=E*A,c.push(b.x,b.y,b.z),y.set(C,w,A).normalize(),h.push(y.x,y.y,y.z),p.push(S,1-M),_.push(d++)}f.push(_)}for(o=0;o<r;o++)for(g=0;g<i;g++){var P=f[g][o],R=f[g+1][o],L=f[g+1][o+1],O=f[g][o+1];u.push(P,R,O),u.push(R,L,O),x+=6}l.addGroup(v,x,0),v+=x}(),!1===o&&(t>0&&g(!0),e>0&&g(!1)),this.setIndex(u),this.addAttribute(\"position\",new mr(c,3)),this.addAttribute(\"normal\",new mr(h,3)),this.addAttribute(\"uv\",new mr(p,2))}function no(t,e,n,r,i,o,a){to.call(this,0,t,e,n,r,i,o,a),this.type=\"ConeGeometry\",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function ro(t,e,n,r,i,o,a){eo.call(this,0,t,e,n,r,i,o,a),this.type=\"ConeBufferGeometry\",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function io(t,e,n,r){_r.call(this),this.type=\"CircleGeometry\",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new oo(t,e,n,r))}function oo(t,e,n,r){Mr.call(this),this.type=\"CircleBufferGeometry\",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},t=t||50,e=void 0!==e?Math.max(3,e):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i,o,a=[],s=[],l=[],u=[],c=new Ce,h=new fe;for(s.push(0,0,0),l.push(0,0,1),u.push(.5,.5),o=0,i=3;o<=e;o++,i+=3){var p=n+o/e*r;c.x=t*Math.cos(p),c.y=t*Math.sin(p),s.push(c.x,c.y,c.z),l.push(0,0,1),h.x=(s[i]/t+1)/2,h.y=(s[i+1]/t+1)/2,u.push(h.x,h.y)}for(i=1;i<=e;i++)a.push(i,i+1,0);this.setIndex(a),this.addAttribute(\"position\",new mr(s,3)),this.addAttribute(\"normal\",new mr(l,3)),this.addAttribute(\"uv\",new mr(u,2))}Wi.prototype=Object.create(_r.prototype),Wi.prototype.constructor=Wi,Wi.prototype.addShapeList=function(t,e){for(var n=t.length,r=0;r<n;r++){var i=t[r];this.addShape(i,e)}},Wi.prototype.addShape=function(t,e){var n,r,i,o,a,s,l,u,c=void 0!==e.amount?e.amount:100,h=void 0!==e.bevelThickness?e.bevelThickness:6,p=void 0!==e.bevelSize?e.bevelSize:h-2,d=void 0!==e.bevelSegments?e.bevelSegments:3,f=void 0===e.bevelEnabled||e.bevelEnabled,m=void 0!==e.curveSegments?e.curveSegments:12,v=void 0!==e.steps?e.steps:1,g=e.extrudePath,y=!1,b=void 0!==e.UVGenerator?e.UVGenerator:Wi.WorldUVGenerator;g&&(n=g.getSpacedPoints(v),y=!0,f=!1,r=void 0!==e.frames?e.frames:g.computeFrenetFrames(v,!1),i=new Ce,o=new Ce,a=new Ce),f||(d=0,h=0,p=0);var x=this,w=this.vertices.length,_=t.extractPoints(m),M=_.shape,E=_.holes,S=!Vi.isClockWise(M);if(S){for(M=M.reverse(),l=0,u=E.length;l<u;l++)s=E[l],Vi.isClockWise(s)&&(E[l]=s.reverse());S=!1}var T=Vi.triangulateShape(M,E),C=M;for(l=0,u=E.length;l<u;l++)s=E[l],M=M.concat(s);function A(t,e,n){return e||console.error(\"THREE.ExtrudeGeometry: vec does not exist\"),e.clone().multiplyScalar(n).add(t)}var P,R,L,O,I,N,k=M.length,D=T.length;function F(t,e,n){var r,i,o=1,a=t.x-e.x,s=t.y-e.y,l=n.x-t.x,u=n.y-t.y,c=a*a+s*s,h=a*u-s*l;if(Math.abs(h)>Number.EPSILON){var p=Math.sqrt(c),d=Math.sqrt(l*l+u*u),f=e.x-s/p,m=e.y+a/p,v=((n.x-u/d-f)*u-(n.y+l/d-m)*l)/(a*u-s*l),g=(r=f+a*v-t.x)*r+(i=m+s*v-t.y)*i;if(g<=2)return new fe(r,i);o=Math.sqrt(g/2)}else{var y=!1;a>Number.EPSILON?l>Number.EPSILON&&(y=!0):a<-Number.EPSILON?l<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(u)&&(y=!0),y?(r=-s,i=a,o=Math.sqrt(c)):(r=a,i=s,o=Math.sqrt(c/2))}return new fe(r/o,i/o)}for(var B=[],U=0,z=C.length,j=z-1,V=U+1;U<z;U++,j++,V++)j===z&&(j=0),V===z&&(V=0),B[U]=F(C[U],C[j],C[V]);var W,G,H=[],q=B.concat();for(l=0,u=E.length;l<u;l++){for(s=E[l],W=[],U=0,j=(z=s.length)-1,V=U+1;U<z;U++,j++,V++)j===z&&(j=0),V===z&&(V=0),W[U]=F(s[U],s[j],s[V]);H.push(W),q=q.concat(W)}for(P=0;P<d;P++){for(L=P/d,O=h*Math.cos(L*Math.PI/2),R=p*Math.sin(L*Math.PI/2),U=0,z=C.length;U<z;U++)Y((I=A(C[U],B[U],R)).x,I.y,-O);for(l=0,u=E.length;l<u;l++)for(s=E[l],W=H[l],U=0,z=s.length;U<z;U++)Y((I=A(s[U],W[U],R)).x,I.y,-O)}for(R=p,U=0;U<k;U++)I=f?A(M[U],q[U],R):M[U],y?(o.copy(r.normals[0]).multiplyScalar(I.x),i.copy(r.binormals[0]).multiplyScalar(I.y),a.copy(n[0]).add(o).add(i),Y(a.x,a.y,a.z)):Y(I.x,I.y,0);for(G=1;G<=v;G++)for(U=0;U<k;U++)I=f?A(M[U],q[U],R):M[U],y?(o.copy(r.normals[G]).multiplyScalar(I.x),i.copy(r.binormals[G]).multiplyScalar(I.y),a.copy(n[G]).add(o).add(i),Y(a.x,a.y,a.z)):Y(I.x,I.y,c/v*G);for(P=d-1;P>=0;P--){for(L=P/d,O=h*Math.cos(L*Math.PI/2),R=p*Math.sin(L*Math.PI/2),U=0,z=C.length;U<z;U++)Y((I=A(C[U],B[U],R)).x,I.y,c+O);for(l=0,u=E.length;l<u;l++)for(s=E[l],W=H[l],U=0,z=s.length;U<z;U++)I=A(s[U],W[U],R),y?Y(I.x,I.y+n[v-1].y,n[v-1].x+O):Y(I.x,I.y,c+O)}function X(t,e){var n,r;for(U=t.length;--U>=0;){n=U,(r=U-1)<0&&(r=t.length-1);var i=0,o=v+2*d;for(i=0;i<o;i++){var a=k*i,s=k*(i+1);Z(e+n+a,e+r+a,e+r+s,e+n+s,t,i,o,n,r)}}}function Y(t,e,n){x.vertices.push(new Ce(t,e,n))}function K(t,e,n){t+=w,e+=w,n+=w,x.faces.push(new or(t,e,n,null,null,0));var r=b.generateTopUV(x,t,e,n);x.faceVertexUvs[0].push(r)}function Z(t,e,n,r,i,o,a,s,l){t+=w,e+=w,n+=w,r+=w,x.faces.push(new or(t,e,r,null,null,1)),x.faces.push(new or(e,n,r,null,null,1));var u=b.generateSideWallUV(x,t,e,n,r);x.faceVertexUvs[0].push([u[0],u[1],u[3]]),x.faceVertexUvs[0].push([u[1],u[2],u[3]])}!function(){if(f){var t=0,e=k*t;for(U=0;U<D;U++)K((N=T[U])[2]+e,N[1]+e,N[0]+e);for(e=k*(t=v+2*d),U=0;U<D;U++)K((N=T[U])[0]+e,N[1]+e,N[2]+e)}else{for(U=0;U<D;U++)K((N=T[U])[2],N[1],N[0]);for(U=0;U<D;U++)K((N=T[U])[0]+k*v,N[1]+k*v,N[2]+k*v)}}(),function(){var t=0;for(X(C,t),t+=C.length,l=0,u=E.length;l<u;l++)X(s=E[l],t),t+=s.length}()},Wi.WorldUVGenerator={generateTopUV:function(t,e,n,r){var i=t.vertices,o=i[e],a=i[n],s=i[r];return[new fe(o.x,o.y),new fe(a.x,a.y),new fe(s.x,s.y)]},generateSideWallUV:function(t,e,n,r,i){var o=t.vertices,a=o[e],s=o[n],l=o[r],u=o[i];return Math.abs(a.y-s.y)<.01?[new fe(a.x,1-a.z),new fe(s.x,1-s.z),new fe(l.x,1-l.z),new fe(u.x,1-u.z)]:[new fe(a.y,1-a.z),new fe(s.y,1-s.z),new fe(l.y,1-l.z),new fe(u.y,1-u.z)]}},Gi.prototype=Object.create(Wi.prototype),Gi.prototype.constructor=Gi,Hi.prototype=Object.create(_r.prototype),Hi.prototype.constructor=Hi,qi.prototype=Object.create(Mr.prototype),qi.prototype.constructor=qi,Xi.prototype=Object.create(_r.prototype),Xi.prototype.constructor=Xi,Yi.prototype=Object.create(Mr.prototype),Yi.prototype.constructor=Yi,Ki.prototype=Object.create(_r.prototype),Ki.prototype.constructor=Ki,Zi.prototype=Object.create(Mr.prototype),Zi.prototype.constructor=Zi,Qi.prototype=Object.create(_r.prototype),Qi.prototype.constructor=Qi,Ji.prototype=Object.create(Mr.prototype),Ji.prototype.constructor=Ji,$i.prototype=Object.create(Mr.prototype),$i.prototype.constructor=$i,to.prototype=Object.create(_r.prototype),to.prototype.constructor=to,eo.prototype=Object.create(Mr.prototype),eo.prototype.constructor=eo,no.prototype=Object.create(to.prototype),no.prototype.constructor=no,ro.prototype=Object.create(eo.prototype),ro.prototype.constructor=ro,io.prototype=Object.create(_r.prototype),io.prototype.constructor=io,oo.prototype=Object.create(Mr.prototype),oo.prototype.constructor=oo;var ao=Object.freeze({WireframeGeometry:Mi,ParametricGeometry:Ei,ParametricBufferGeometry:Si,TetrahedronGeometry:Ai,TetrahedronBufferGeometry:Pi,OctahedronGeometry:Ri,OctahedronBufferGeometry:Li,IcosahedronGeometry:Oi,IcosahedronBufferGeometry:Ii,DodecahedronGeometry:Ni,DodecahedronBufferGeometry:ki,PolyhedronGeometry:Ti,PolyhedronBufferGeometry:Ci,TubeGeometry:Di,TubeBufferGeometry:Fi,TorusKnotGeometry:Bi,TorusKnotBufferGeometry:Ui,TorusGeometry:zi,TorusBufferGeometry:ji,TextGeometry:Gi,SphereGeometry:Hi,SphereBufferGeometry:qi,RingGeometry:Xi,RingBufferGeometry:Yi,PlaneGeometry:Cr,PlaneBufferGeometry:Ar,LatheGeometry:Ki,LatheBufferGeometry:Zi,ShapeGeometry:Qi,ShapeBufferGeometry:Ji,ExtrudeGeometry:Wi,EdgesGeometry:$i,ConeGeometry:no,ConeBufferGeometry:ro,CylinderGeometry:to,CylinderBufferGeometry:eo,CircleGeometry:io,CircleBufferGeometry:oo,BoxGeometry:Sr,BoxBufferGeometry:Tr});function so(){Fn.call(this,{uniforms:fn.merge([bn.lights,{opacity:{value:1}}]),vertexShader:mn.shadow_vert,fragmentShader:mn.shadow_frag}),this.lights=!0,this.transparent=!0,Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}}})}function lo(t){Fn.call(this,t),this.type=\"RawShaderMaterial\"}function uo(t){this.uuid=de.generateUUID(),this.type=\"MultiMaterial\",this.materials=Array.isArray(t)?t:[],this.visible=!0}function co(t){Dn.call(this),this.defines={STANDARD:\"\"},this.type=\"MeshStandardMaterial\",this.color=new vn(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new vn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\"round\",this.wireframeLinejoin=\"round\",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function ho(t){co.call(this),this.defines={PHYSICAL:\"\"},this.type=\"MeshPhysicalMaterial\",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function po(t){Dn.call(this),this.type=\"MeshPhongMaterial\",this.color=new vn(16777215),this.specular=new vn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new vn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=et,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\"round\",this.wireframeLinejoin=\"round\",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function fo(t){po.call(this),this.defines={TOON:\"\"},this.type=\"MeshToonMaterial\",this.gradientMap=null,this.setValues(t)}function mo(t){Dn.call(this,t),this.type=\"MeshNormalMaterial\",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function vo(t){Dn.call(this),this.type=\"MeshLambertMaterial\",this.color=new vn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new vn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=et,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\"round\",this.wireframeLinejoin=\"round\",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function go(t){Dn.call(this),this.type=\"LineDashedMaterial\",this.color=new vn(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.lights=!1,this.setValues(t)}so.prototype=Object.create(Fn.prototype),so.prototype.constructor=so,so.prototype.isShadowMaterial=!0,lo.prototype=Object.create(Fn.prototype),lo.prototype.constructor=lo,lo.prototype.isRawShaderMaterial=!0,uo.prototype={constructor:uo,isMultiMaterial:!0,toJSON:function(t){for(var e={metadata:{version:4.2,type:\"material\",generator:\"MaterialExporter\"},uuid:this.uuid,type:this.type,materials:[]},n=this.materials,r=0,i=n.length;r<i;r++){var o=n[r].toJSON(t);delete o.metadata,e.materials.push(o)}return e.visible=this.visible,e},clone:function(){for(var t=new this.constructor,e=0;e<this.materials.length;e++)t.materials.push(this.materials[e].clone());return t.visible=this.visible,t}},co.prototype=Object.create(Dn.prototype),co.prototype.constructor=co,co.prototype.isMeshStandardMaterial=!0,co.prototype.copy=function(t){return Dn.prototype.copy.call(this,t),this.defines={STANDARD:\"\"},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},ho.prototype=Object.create(co.prototype),ho.prototype.constructor=ho,ho.prototype.isMeshPhysicalMaterial=!0,ho.prototype.copy=function(t){return co.prototype.copy.call(this,t),this.defines={PHYSICAL:\"\"},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},po.prototype=Object.create(Dn.prototype),po.prototype.constructor=po,po.prototype.isMeshPhongMaterial=!0,po.prototype.copy=function(t){return Dn.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},fo.prototype=Object.create(po.prototype),fo.prototype.constructor=fo,fo.prototype.isMeshToonMaterial=!0,fo.prototype.copy=function(t){return po.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},mo.prototype=Object.create(Dn.prototype),mo.prototype.constructor=mo,mo.prototype.isMeshNormalMaterial=!0,mo.prototype.copy=function(t){return Dn.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},vo.prototype=Object.create(Dn.prototype),vo.prototype.constructor=vo,vo.prototype.isMeshLambertMaterial=!0,vo.prototype.copy=function(t){return Dn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},go.prototype=Object.create(Dn.prototype),go.prototype.constructor=go,go.prototype.isLineDashedMaterial=!0,go.prototype.copy=function(t){return Dn.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var yo=Object.freeze({ShadowMaterial:so,SpriteMaterial:si,RawShaderMaterial:lo,ShaderMaterial:Fn,PointsMaterial:vi,MultiMaterial:uo,MeshPhysicalMaterial:ho,MeshStandardMaterial:co,MeshPhongMaterial:po,MeshToonMaterial:fo,MeshNormalMaterial:mo,MeshLambertMaterial:vo,MeshDepthMaterial:Bn,MeshBasicMaterial:ar,LineDashedMaterial:go,LineBasicMaterial:di,Material:Dn}),bo={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function xo(t,e,n){var r=this,i=!1,o=0,a=0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){a++,!1===i&&void 0!==r.onStart&&r.onStart(t,o,a),i=!0},this.itemEnd=function(t){o++,void 0!==r.onProgress&&r.onProgress(t,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)}}var wo=new xo;function _o(t){this.manager=void 0!==t?t:wo}function Mo(t){this.manager=void 0!==t?t:wo,this._parser=null}function Eo(t){this.manager=void 0!==t?t:wo,this._parser=null}function So(t){this.manager=void 0!==t?t:wo}function To(t){this.manager=void 0!==t?t:wo}function Co(t){this.manager=void 0!==t?t:wo}function Ao(t,e){nr.call(this),this.type=\"Light\",this.color=new vn(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function Po(t,e,n){Ao.call(this,t,n),this.type=\"HemisphereLight\",this.castShadow=void 0,this.position.copy(nr.DefaultUp),this.updateMatrix(),this.groundColor=new vn(e)}function Ro(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new fe(512,512),this.map=null,this.matrix=new Ae}function Lo(){Ro.call(this,new Rr(50,1,.5,500))}function Oo(t,e,n,r,i,o){Ao.call(this,t,e),this.type=\"SpotLight\",this.position.copy(nr.DefaultUp),this.updateMatrix(),this.target=new nr,Object.defineProperty(this,\"power\",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new Lo}function Io(t,e,n,r){Ao.call(this,t,e),this.type=\"PointLight\",Object.defineProperty(this,\"power\",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Ro(new Rr(90,1,.5,500))}function No(){Ro.call(this,new Lr(-5,5,5,-5,.5,500))}function ko(t,e){Ao.call(this,t,e),this.type=\"DirectionalLight\",this.position.copy(nr.DefaultUp),this.updateMatrix(),this.target=new nr,this.shadow=new No}function Do(t,e){Ao.call(this,t,e),this.type=\"AmbientLight\",this.castShadow=void 0}Object.assign(_o.prototype,{load:function(t,e,n,r){void 0===t&&(t=\"\"),void 0!==this.path&&(t=this.path+t);var i=this,o=bo.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout((function(){e&&e(o),i.manager.itemEnd(t)}),0),o;var a=t.match(/^data:(.*?)(;base64)?,(.*)$/);if(a){var s=a[1],l=!!a[2],u=a[3];u=window.decodeURIComponent(u),l&&(u=window.atob(u));try{var c,h=(this.responseType||\"\").toLowerCase();switch(h){case\"arraybuffer\":case\"blob\":c=new ArrayBuffer(u.length);for(var p=new Uint8Array(c),d=0;d<u.length;d++)p[d]=u.charCodeAt(d);\"blob\"===h&&(c=new Blob([c],{type:s}));break;case\"document\":var f=new DOMParser;c=f.parseFromString(u,s);break;case\"json\":c=JSON.parse(u);break;default:c=u}window.setTimeout((function(){e&&e(c),i.manager.itemEnd(t)}),0)}catch(e){window.setTimeout((function(){r&&r(e),i.manager.itemError(t)}),0)}}else{var m=new XMLHttpRequest;m.open(\"GET\",t,!0),m.addEventListener(\"load\",(function(n){var o=n.target.response;bo.add(t,o),200===this.status?(e&&e(o),i.manager.itemEnd(t)):0===this.status?(console.warn(\"THREE.FileLoader: HTTP Status 0 received.\"),e&&e(o),i.manager.itemEnd(t)):(r&&r(n),i.manager.itemError(t))}),!1),void 0!==n&&m.addEventListener(\"progress\",(function(t){n(t)}),!1),m.addEventListener(\"error\",(function(e){r&&r(e),i.manager.itemError(t)}),!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:\"text/plain\"),m.send(null)}return i.manager.itemStart(t),m},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this}}),Object.assign(Mo.prototype,{load:function(t,e,n,r){var i=this,o=[],a=new xi;a.image=o;var s=new _o(this.manager);function l(l){s.load(t[l],(function(t){var n=i._parser(t,!0);o[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(u+=1)&&(1===n.mipmapCount&&(a.minFilter=_t),a.format=n.format,a.needsUpdate=!0,e&&e(a))}),n,r)}if(s.setPath(this.path),s.setResponseType(\"arraybuffer\"),Array.isArray(t))for(var u=0,c=0,h=t.length;c<h;++c)l(c);else s.load(t,(function(t){var n=i._parser(t,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){o[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)o[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),o[s].format=n.format,o[s].width=n.width,o[s].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=_t),a.format=n.format,a.needsUpdate=!0,e&&e(a)}),n,r);return a},setPath:function(t){return this.path=t,this}}),Object.assign(Eo.prototype,{load:function(t,e,n,r){var i=this,o=new yn,a=new _o(this.manager);return a.setResponseType(\"arraybuffer\"),a.load(t,(function(t){var n=i._parser(t);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:gt,o.wrapT=void 0!==n.wrapT?n.wrapT:gt,o.magFilter=void 0!==n.magFilter?n.magFilter:_t,o.minFilter=void 0!==n.minFilter?n.minFilter:Et,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=_t),o.needsUpdate=!0,e&&e(o,n))}),n,r),o}}),Object.assign(So.prototype,{load:function(t,e,n,r){void 0===t&&(t=\"\"),void 0!==this.path&&(t=this.path+t);var i=this,o=bo.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout((function(){e&&e(o),i.manager.itemEnd(t)}),0),o;var a=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"img\");return a.addEventListener(\"load\",(function(){bo.add(t,this),e&&e(this),i.manager.itemEnd(t)}),!1),a.addEventListener(\"error\",(function(e){r&&r(e),i.manager.itemError(t)}),!1),void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(t),a.src=t,a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(To.prototype,{load:function(t,e,n,r){var i=new Pe,o=new So(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(n){o.load(t[n],(function(t){i.images[n]=t,6===++a&&(i.needsUpdate=!0,e&&e(i))}),void 0,r)}for(var l=0;l<t.length;++l)s(l);return i},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Co.prototype,{load:function(t,e,n,r){var i=new _e,o=new So(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,(function(n){var r=t.search(/\\.(jpg|jpeg)$/)>0||0===t.search(/^data\\:image\\/jpeg/);i.format=r?Bt:Ut,i.image=n,i.needsUpdate=!0,void 0!==e&&e(i)}),n,r),i},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Ao.prototype=Object.assign(Object.create(nr.prototype),{constructor:Ao,isLight:!0,copy:function(t){return nr.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=nr.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),Po.prototype=Object.assign(Object.create(Ao.prototype),{constructor:Po,isHemisphereLight:!0,copy:function(t){return Ao.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(Ro.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),Lo.prototype=Object.assign(Object.create(Ro.prototype),{constructor:Lo,isSpotLightShadow:!0,update:function(t){var e=2*de.RAD2DEG*t.angle,n=this.mapSize.width/this.mapSize.height,r=t.distance||500,i=this.camera;e===i.fov&&n===i.aspect&&r===i.far||(i.fov=e,i.aspect=n,i.far=r,i.updateProjectionMatrix())}}),Oo.prototype=Object.assign(Object.create(Ao.prototype),{constructor:Oo,isSpotLight:!0,copy:function(t){return Ao.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Io.prototype=Object.assign(Object.create(Ao.prototype),{constructor:Io,isPointLight:!0,copy:function(t){return Ao.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),No.prototype=Object.assign(Object.create(Ro.prototype),{constructor:No}),ko.prototype=Object.assign(Object.create(Ao.prototype),{constructor:ko,isDirectionalLight:!0,copy:function(t){return Ao.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Do.prototype=Object.assign(Object.create(Ao.prototype),{constructor:Do,isAmbientLight:!0});var Fo,Bo,Uo,zo,jo,Vo={arraySlice:function(t,e,n){return Vo.isTypedArray(t)?new t.constructor(t.subarray(e,n)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:\"number\"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,n=new Array(e),r=0;r!==e;++r)n[r]=r;return n.sort((function(e,n){return t[e]-t[n]})),n},sortedArray:function(t,e,n){for(var r=t.length,i=new t.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*e,l=0;l!==e;++l)i[a++]=t[s+l];return i},flattenJSON:function(t,e,n,r){for(var i=1,o=t[0];void 0!==o&&void 0===o[r];)o=t[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[r])&&(e.push(o.time),n.push.apply(n,a)),o=t[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[r])&&(e.push(o.time),a.toArray(n,n.length)),o=t[i++]}while(void 0!==o);else do{void 0!==(a=o[r])&&(e.push(o.time),n.push(a)),o=t[i++]}while(void 0!==o)}}};function Wo(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function Go(t,e,n,r){Wo.call(this,t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Ho(t,e,n,r){Wo.call(this,t,e,n,r)}function qo(t,e,n,r){Wo.call(this,t,e,n,r)}function Xo(t,e,n,r){if(void 0===t)throw new Error(\"track name is undefined\");if(void 0===e||0===e.length)throw new Error(\"no keyframes in track named \"+t);this.name=t,this.times=Vo.convertArray(e,this.TimeBufferType),this.values=Vo.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation),this.validate(),this.optimize()}function Yo(t,e,n,r){Xo.call(this,t,e,n,r)}function Ko(t,e,n,r){Wo.call(this,t,e,n,r)}function Zo(t,e,n,r){Xo.call(this,t,e,n,r)}function Qo(t,e,n,r){Xo.call(this,t,e,n,r)}function Jo(t,e,n,r){Xo.call(this,t,e,n,r)}function $o(t,e,n){Xo.call(this,t,e,n)}function ta(t,e,n,r){Xo.call(this,t,e,n,r)}function ea(t,e,n,r){Xo.apply(this,arguments)}function na(t,e,n){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.uuid=de.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function ra(t){this.manager=void 0!==t?t:wo,this.textures={}}function ia(t){this.manager=void 0!==t?t:wo}function oa(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function aa(t){\"boolean\"==typeof t&&(console.warn(\"THREE.JSONLoader: showStatus parameter has been removed from constructor.\"),t=void 0),this.manager=void 0!==t?t:wo,this.withCredentials=!1}function sa(t,e,n,r,i){var o=.5*(r-e),a=.5*(i-n),s=t*t;return(2*n-2*r+o+a)*(t*s)+(-3*n+3*r-2*o-a)*s+o*t+n}function la(t,e,n,r){return function(t,e){var n=1-t;return n*n*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,n)+function(t,e){return t*t*e}(t,r)}function ua(t,e,n,r,i){return function(t,e){var n=1-t;return n*n*n*e}(t,e)+function(t,e){var n=1-t;return 3*n*n*t*e}(t,n)+function(t,e){return 3*(1-t)*t*t*e}(t,r)+function(t,e){return t*t*t*e}(t,i)}function ca(){}function ha(t,e){this.v1=t,this.v2=e}function pa(){this.curves=[],this.autoClose=!1}function da(t,e,n,r,i,o,a,s){this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s||0}function fa(t){this.points=void 0===t?[]:t}function ma(t,e,n,r){this.v0=t,this.v1=e,this.v2=n,this.v3=r}function va(t,e,n){this.v0=t,this.v1=e,this.v2=n}Wo.prototype={constructor:Wo,evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,r=e[n],i=e[n-1];t:{e:{var o;n:{r:if(!(t<r)){for(var a=n+2;;){if(void 0===r){if(t<i)break r;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,i)}if(n===a)break;if(i=r,t<(r=e[++n]))break e}o=e.length;break n}if(t>=i)break t;var s=e[1];t<s&&(n=2,i=s);for(a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(n===a)break;if(r=i,t>=(i=e[--n-1]))break e}o=n,n=0}for(;n<o;){var l=n+o>>>1;t<e[l]?o=l:n=l+1}if(r=e[n],void 0===(i=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,i,t)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r,o=0;o!==r;++o)e[o]=n[i+o];return e},interpolate_:function(t,e,n,r){throw new Error(\"call to abstract method\")},intervalChanged_:function(t,e,n){}},Object.assign(Wo.prototype,{beforeStart_:Wo.prototype.copySampleValue_,afterEnd_:Wo.prototype.copySampleValue_}),Go.prototype=Object.assign(Object.create(Wo.prototype),{constructor:Go,DefaultSettings_:{endingStart:te,endingEnd:te},intervalChanged_:function(t,e,n){var r=this.parameterPositions,i=t-2,o=t+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:i=t,a=2*e-n;break;case 2402:a=e+r[i=r.length-2]-r[i+1];break;default:i=t,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:o=t,s=2*n-e;break;case 2402:o=1,s=n+r[1]-r[0];break;default:o=t-1,s=e}var l=.5*(n-e),u=this.valueSize;this._weightPrev=l/(e-a),this._weightNext=l/(s-n),this._offsetPrev=i*u,this._offsetNext=o*u},interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,l=s-a,u=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,p=this._weightNext,d=(n-e)/(r-e),f=d*d,m=f*d,v=-h*m+2*h*f-h*d,g=(1+h)*m+(-1.5-2*h)*f+(-.5+h)*d+1,y=(-1-p)*m+(1.5+p)*f+.5*d,b=p*m-p*f,x=0;x!==a;++x)i[x]=v*o[u+x]+g*o[l+x]+y*o[s+x]+b*o[c+x];return i}}),Ho.prototype=Object.assign(Object.create(Wo.prototype),{constructor:Ho,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,l=s-a,u=(n-e)/(r-e),c=1-u,h=0;h!==a;++h)i[h]=o[l+h]*c+o[s+h]*u;return i}}),qo.prototype=Object.assign(Object.create(Wo.prototype),{constructor:qo,interpolate_:function(t,e,n,r){return this.copySampleValue_(t-1)}}),Fo={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(t){return new qo(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Ho(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new Go(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case 2300:e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0!==e)this.createInterpolant=e;else{var n=\"unsupported interpolation for \"+this.ValueTypeName+\" keyframe track named \"+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}console.warn(n)}},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<t;)++i;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==i||o!==r){i>=o&&(i=(o=Math.max(o,1))-1);var a=this.getValueSize();this.times=Vo.arraySlice(n,i,o),this.values=Vo.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error(\"invalid value size in track\",this),t=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error(\"track is empty\",this),t=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if(\"number\"==typeof s&&isNaN(s)){console.error(\"time is not a valid number\",this,a,s),t=!1;break}if(null!==o&&o>s){console.error(\"out of order keys\",this,a,s,o),t=!1;break}o=s}if(void 0!==r&&Vo.isTypedArray(r)){a=0;for(var l=r.length;a!==l;++a){var u=r[a];if(isNaN(u)){console.error(\"value is not a valid number\",this,a,u),t=!1;break}}}return t},optimize:function(){for(var t=this.times,e=this.values,n=this.getValueSize(),r=2302===this.getInterpolation(),i=1,o=t.length-1,a=1;a<o;++a){var s=!1,l=t[a];if(l!==t[a+1]&&(1!==a||l!==l[0]))if(r)s=!0;else for(var u=a*n,c=u-n,h=u+n,p=0;p!==n;++p){var d=e[u+p];if(d!==e[c+p]||d!==e[h+p]){s=!0;break}}if(s){if(a!==i){t[i]=t[a];var f=a*n,m=i*n;for(p=0;p!==n;++p)e[m+p]=e[f+p]}++i}}if(o>0){t[i]=t[o];for(f=o*n,m=i*n,p=0;p!==n;++p)e[m+p]=e[f+p];++i}return i!==t.length&&(this.times=Vo.arraySlice(t,0,i),this.values=Vo.arraySlice(e,0,i*n)),this}},Yo.prototype=Object.assign(Object.create(Fo),{constructor:Yo,ValueTypeName:\"vector\"}),Ko.prototype=Object.assign(Object.create(Wo.prototype),{constructor:Ko,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,l=(n-e)/(r-e),u=s+a;s!==u;s+=4)Te.slerpFlat(i,0,o,s-a,o,s,l);return i}}),Zo.prototype=Object.assign(Object.create(Fo),{constructor:Zo,ValueTypeName:\"quaternion\",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(t){return new Ko(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Qo.prototype=Object.assign(Object.create(Fo),{constructor:Qo,ValueTypeName:\"number\"}),Jo.prototype=Object.assign(Object.create(Fo),{constructor:Jo,ValueTypeName:\"string\",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),$o.prototype=Object.assign(Object.create(Fo),{constructor:$o,ValueTypeName:\"bool\",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),ta.prototype=Object.assign(Object.create(Fo),{constructor:ta,ValueTypeName:\"color\"}),ea.prototype=Fo,Fo.constructor=ea,Object.assign(ea,{parse:function(t){if(void 0===t.type)throw new Error(\"track type undefined, can not parse\");var e=ea._getTrackTypeForValueTypeName(t.type);if(void 0===t.times){var n=[],r=[];Vo.flattenJSON(t.keys,n,r,\"value\"),t.times=n,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)},toJSON:function(t){var e,n=t.constructor;if(void 0!==n.toJSON)e=n.toJSON(t);else{e={name:t.name,times:Vo.convertArray(t.times,Array),values:Vo.convertArray(t.values,Array)};var r=t.getInterpolation();r!==t.DefaultInterpolation&&(e.interpolation=r)}return e.type=t.ValueTypeName,e},_getTrackTypeForValueTypeName:function(t){switch(t.toLowerCase()){case\"scalar\":case\"double\":case\"float\":case\"number\":case\"integer\":return Qo;case\"vector\":case\"vector2\":case\"vector3\":case\"vector4\":return Yo;case\"color\":return ta;case\"quaternion\":return Zo;case\"bool\":case\"boolean\":return $o;case\"string\":return Jo}throw new Error(\"Unsupported typeName: \"+t)}}),na.prototype={constructor:na,resetDuration:function(){for(var t=0,e=0,n=this.tracks.length;e!==n;++e){var r=this.tracks[e];t=Math.max(t,r.times[r.times.length-1])}this.duration=t},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}},Object.assign(na,{parse:function(t){for(var e=[],n=t.tracks,r=1/(t.fps||1),i=0,o=n.length;i!==o;++i)e.push(ea.parse(n[i]).scale(r));return new na(t.name,t.duration,e)},toJSON:function(t){for(var e=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:e},i=0,o=n.length;i!==o;++i)e.push(ea.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(t,e,n,r){for(var i=e.length,o=[],a=0;a<i;a++){var s=[],l=[];s.push((a+i-1)%i,a,(a+1)%i),l.push(0,1,0);var u=Vo.getKeyframeOrder(s);s=Vo.sortedArray(s,1,u),l=Vo.sortedArray(l,1,u),r||0!==s[0]||(s.push(i),l.push(l[0])),o.push(new Qo(\".morphTargetInfluences[\"+e[a].name+\"]\",s,l).scale(1/n))}return new na(t,-1,o)},findByName:function(t,e){var n=t;if(!Array.isArray(t)){var r=t;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===e)return n[i];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var r={},i=/^([\\w-]*?)([\\d]+)$/,o=0,a=t.length;o<a;o++){var s=t[o],l=s.name.match(i);if(l&&l.length>1){var u=r[h=l[1]];u||(r[h]=u=[]),u.push(s)}}var c=[];for(var h in r)c.push(na.CreateFromMorphTargetSequence(h,r[h],e,n));return c},parseAnimation:function(t,e){if(!t)return console.error(\"  no animation in JSONLoader data\"),null;for(var n=function(t,e,n,r,i){if(0!==n.length){var o=[],a=[];Vo.flattenJSON(n,o,a,r),0!==o.length&&i.push(new t(e,o,a))}},r=[],i=t.name||\"default\",o=t.length||-1,a=t.fps||30,s=t.hierarchy||[],l=0;l<s.length;l++){var u=s[l].keys;if(u&&0!==u.length)if(u[0].morphTargets){for(var c={},h=0;h<u.length;h++)if(u[h].morphTargets)for(var p=0;p<u[h].morphTargets.length;p++)c[u[h].morphTargets[p]]=-1;for(var d in c){var f=[],m=[];for(p=0;p!==u[h].morphTargets.length;++p){var v=u[h];f.push(v.time),m.push(v.morphTarget===d?1:0)}r.push(new Qo(\".morphTargetInfluence[\"+d+\"]\",f,m))}o=c.length*(a||1)}else{var g=\".bones[\"+e[l].name+\"]\";n(Yo,g+\".position\",u,\"pos\",r),n(Zo,g+\".quaternion\",u,\"rot\",r),n(Yo,g+\".scale\",u,\"scl\",r)}}return 0===r.length?null:new na(i,o,r)}}),Object.assign(ra.prototype,{load:function(t,e,n,r){var i=this;new _o(i.manager).load(t,(function(t){e(i.parse(JSON.parse(t)))}),n,r)},setTextures:function(t){this.textures=t},parse:function(t){var e=this.textures;function n(t){return void 0===e[t]&&console.warn(\"THREE.MaterialLoader: Undefined texture\",t),e[t]}var r=new yo[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearCoat&&(r.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(r.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.uniforms&&(r.uniforms=t.uniforms),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(r.vertexColors=t.vertexColors),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.shading&&(r.shading=t.shading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=n(t.map)),void 0!==t.alphaMap&&(r.alphaMap=n(t.alphaMap),r.transparent=!0),void 0!==t.bumpMap&&(r.bumpMap=n(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=n(t.normalMap)),void 0!==t.normalScale){var i=t.normalScale;!1===Array.isArray(i)&&(i=[i,i]),r.normalScale=(new fe).fromArray(i)}if(void 0!==t.displacementMap&&(r.displacementMap=n(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=n(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=n(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=n(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=n(t.specularMap)),void 0!==t.envMap&&(r.envMap=n(t.envMap)),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.lightMap&&(r.lightMap=n(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=n(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=n(t.gradientMap)),void 0!==t.materials)for(var o=0,a=t.materials.length;o<a;o++)r.materials.push(this.parse(t.materials[o]));return r}}),Object.assign(ia.prototype,{load:function(t,e,n,r){var i=this;new _o(i.manager).load(t,(function(t){e(i.parse(JSON.parse(t)))}),n,r)},parse:function(t){var e=new Mr,n=t.data.index,r={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};if(void 0!==n){var i=new r[n.type](n.array);e.setIndex(new sr(i,1))}var o=t.data.attributes;for(var a in o){var s=o[a];i=new r[s.type](s.array);e.addAttribute(a,new sr(i,s.itemSize,s.normalized))}var l=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==l)for(var u=0,c=l.length;u!==c;++u){var h=l[u];e.addGroup(h.start,h.count,h.materialIndex)}var p=t.data.boundingSphere;if(void 0!==p){var d=new Ce;void 0!==p.center&&d.fromArray(p.center),e.boundingSphere=new zn(d,p.radius)}return e}}),oa.prototype={constructor:oa,crossOrigin:void 0,extractUrlBase:function(t){var e=t.split(\"/\");return 1===e.length?\"./\":(e.pop(),e.join(\"/\")+\"/\")},initMaterials:function(t,e,n){for(var r=[],i=0;i<t.length;++i)r[i]=this.createMaterial(t[i],e,n);return r},createMaterial:(jo={NoBlending:S,NormalBlending:T,AdditiveBlending:C,SubtractiveBlending:A,MultiplyBlending:P,CustomBlending:R},function(t,e,n){void 0===Bo&&(Bo=new vn),void 0===Uo&&(Uo=new Co),void 0===zo&&(zo=new ra);var r={};function i(t,i,o,a,s){var l,u=e+t,c=oa.Handlers.get(u);null!==c?l=c.load(u):(Uo.setCrossOrigin(n),l=Uo.load(u)),void 0!==i&&(l.repeat.fromArray(i),1!==i[0]&&(l.wrapS=vt),1!==i[1]&&(l.wrapT=vt)),void 0!==o&&l.offset.fromArray(o),void 0!==a&&(\"repeat\"===a[0]&&(l.wrapS=vt),\"mirror\"===a[0]&&(l.wrapS=yt),\"repeat\"===a[1]&&(l.wrapT=vt),\"mirror\"===a[1]&&(l.wrapT=yt)),void 0!==s&&(l.anisotropy=s);var h=de.generateUUID();return r[h]=l,h}var o={uuid:de.generateUUID(),type:\"MeshLambertMaterial\"};for(var a in t){var s=t[a];switch(a){case\"DbgColor\":case\"DbgIndex\":case\"opticalDensity\":case\"illumination\":break;case\"DbgName\":o.name=s;break;case\"blending\":o.blending=jo[s];break;case\"colorAmbient\":case\"mapAmbient\":console.warn(\"THREE.Loader.createMaterial:\",a,\"is no longer supported.\");break;case\"colorDiffuse\":o.color=Bo.fromArray(s).getHex();break;case\"colorSpecular\":o.specular=Bo.fromArray(s).getHex();break;case\"colorEmissive\":o.emissive=Bo.fromArray(s).getHex();break;case\"specularCoef\":o.shininess=s;break;case\"shading\":\"basic\"===s.toLowerCase()&&(o.type=\"MeshBasicMaterial\"),\"phong\"===s.toLowerCase()&&(o.type=\"MeshPhongMaterial\"),\"standard\"===s.toLowerCase()&&(o.type=\"MeshStandardMaterial\");break;case\"mapDiffuse\":o.map=i(s,t.mapDiffuseRepeat,t.mapDiffuseOffset,t.mapDiffuseWrap,t.mapDiffuseAnisotropy);break;case\"mapDiffuseRepeat\":case\"mapDiffuseOffset\":case\"mapDiffuseWrap\":case\"mapDiffuseAnisotropy\":break;case\"mapEmissive\":o.emissiveMap=i(s,t.mapEmissiveRepeat,t.mapEmissiveOffset,t.mapEmissiveWrap,t.mapEmissiveAnisotropy);break;case\"mapEmissiveRepeat\":case\"mapEmissiveOffset\":case\"mapEmissiveWrap\":case\"mapEmissiveAnisotropy\":break;case\"mapLight\":o.lightMap=i(s,t.mapLightRepeat,t.mapLightOffset,t.mapLightWrap,t.mapLightAnisotropy);break;case\"mapLightRepeat\":case\"mapLightOffset\":case\"mapLightWrap\":case\"mapLightAnisotropy\":break;case\"mapAO\":o.aoMap=i(s,t.mapAORepeat,t.mapAOOffset,t.mapAOWrap,t.mapAOAnisotropy);break;case\"mapAORepeat\":case\"mapAOOffset\":case\"mapAOWrap\":case\"mapAOAnisotropy\":break;case\"mapBump\":o.bumpMap=i(s,t.mapBumpRepeat,t.mapBumpOffset,t.mapBumpWrap,t.mapBumpAnisotropy);break;case\"mapBumpScale\":o.bumpScale=s;break;case\"mapBumpRepeat\":case\"mapBumpOffset\":case\"mapBumpWrap\":case\"mapBumpAnisotropy\":break;case\"mapNormal\":o.normalMap=i(s,t.mapNormalRepeat,t.mapNormalOffset,t.mapNormalWrap,t.mapNormalAnisotropy);break;case\"mapNormalFactor\":o.normalScale=[s,s];break;case\"mapNormalRepeat\":case\"mapNormalOffset\":case\"mapNormalWrap\":case\"mapNormalAnisotropy\":break;case\"mapSpecular\":o.specularMap=i(s,t.mapSpecularRepeat,t.mapSpecularOffset,t.mapSpecularWrap,t.mapSpecularAnisotropy);break;case\"mapSpecularRepeat\":case\"mapSpecularOffset\":case\"mapSpecularWrap\":case\"mapSpecularAnisotropy\":break;case\"mapMetalness\":o.metalnessMap=i(s,t.mapMetalnessRepeat,t.mapMetalnessOffset,t.mapMetalnessWrap,t.mapMetalnessAnisotropy);break;case\"mapMetalnessRepeat\":case\"mapMetalnessOffset\":case\"mapMetalnessWrap\":case\"mapMetalnessAnisotropy\":break;case\"mapRoughness\":o.roughnessMap=i(s,t.mapRoughnessRepeat,t.mapRoughnessOffset,t.mapRoughnessWrap,t.mapRoughnessAnisotropy);break;case\"mapRoughnessRepeat\":case\"mapRoughnessOffset\":case\"mapRoughnessWrap\":case\"mapRoughnessAnisotropy\":break;case\"mapAlpha\":o.alphaMap=i(s,t.mapAlphaRepeat,t.mapAlphaOffset,t.mapAlphaWrap,t.mapAlphaAnisotropy);break;case\"mapAlphaRepeat\":case\"mapAlphaOffset\":case\"mapAlphaWrap\":case\"mapAlphaAnisotropy\":break;case\"flipSided\":o.side=y;break;case\"doubleSided\":o.side=b;break;case\"transparency\":console.warn(\"THREE.Loader.createMaterial: transparency has been renamed to opacity\"),o.opacity=s;break;case\"depthTest\":case\"depthWrite\":case\"colorWrite\":case\"opacity\":case\"reflectivity\":case\"transparent\":case\"visible\":case\"wireframe\":o[a]=s;break;case\"vertexColors\":!0===s&&(o.vertexColors=E),\"face\"===s&&(o.vertexColors=M);break;default:console.error(\"THREE.Loader.createMaterial: Unsupported\",a,s)}}return\"MeshBasicMaterial\"===o.type&&delete o.emissive,\"MeshPhongMaterial\"!==o.type&&delete o.specular,o.opacity<1&&(o.transparent=!0),zo.setTextures(r),zo.parse(o)})},oa.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,n=0,r=e.length;n<r;n+=2){var i=e[n],o=e[n+1];if(i.test(t))return o}return null}},Object.assign(aa.prototype,{load:function(t,e,n,r){var i=this,o=this.texturePath&&\"string\"==typeof this.texturePath?this.texturePath:oa.prototype.extractUrlBase(t),a=new _o(this.manager);a.setWithCredentials(this.withCredentials),a.load(t,(function(n){var r=JSON.parse(n),a=r.metadata;if(void 0!==a){var s=a.type;if(void 0!==s){if(\"object\"===s.toLowerCase())return void console.error(\"THREE.JSONLoader: \"+t+\" should be loaded with THREE.ObjectLoader instead.\");if(\"scene\"===s.toLowerCase())return void console.error(\"THREE.JSONLoader: \"+t+\" should be loaded with THREE.SceneLoader instead.\")}}var l=i.parse(r,o);e(l.geometry,l.materials)}),n,r)},setTexturePath:function(t){this.texturePath=t},parse:function(t,e){var n=new _r,r=void 0!==t.scale?1/t.scale:1;if(function(e){function r(t,e){return t&1<<e}var i,o,a,s,l,u,c,h,p,d,f,m,v,g,y,b,x,w,_,M,E,S,T,C,A,P,R,L=t.faces,O=t.vertices,I=t.normals,N=t.colors,k=0;if(void 0!==t.uvs){for(i=0;i<t.uvs.length;i++)t.uvs[i].length&&k++;for(i=0;i<k;i++)n.faceVertexUvs[i]=[]}s=0,l=O.length;for(;s<l;)(w=new Ce).x=O[s++]*e,w.y=O[s++]*e,w.z=O[s++]*e,n.vertices.push(w);s=0,l=L.length;for(;s<l;)if(d=L[s++],f=r(d,0),m=r(d,1),v=r(d,3),g=r(d,4),y=r(d,5),b=r(d,6),x=r(d,7),f){if((M=new or).a=L[s],M.b=L[s+1],M.c=L[s+3],(E=new or).a=L[s+1],E.b=L[s+2],E.c=L[s+3],s+=4,m&&(p=L[s++],M.materialIndex=p,E.materialIndex=p),a=n.faces.length,v)for(i=0;i<k;i++)for(C=t.uvs[i],n.faceVertexUvs[i][a]=[],n.faceVertexUvs[i][a+1]=[],o=0;o<4;o++)h=L[s++],P=C[2*h],R=C[2*h+1],A=new fe(P,R),2!==o&&n.faceVertexUvs[i][a].push(A),0!==o&&n.faceVertexUvs[i][a+1].push(A);if(g&&(c=3*L[s++],M.normal.set(I[c++],I[c++],I[c]),E.normal.copy(M.normal)),y)for(i=0;i<4;i++)c=3*L[s++],T=new Ce(I[c++],I[c++],I[c]),2!==i&&M.vertexNormals.push(T),0!==i&&E.vertexNormals.push(T);if(b&&(u=L[s++],S=N[u],M.color.setHex(S),E.color.setHex(S)),x)for(i=0;i<4;i++)u=L[s++],S=N[u],2!==i&&M.vertexColors.push(new vn(S)),0!==i&&E.vertexColors.push(new vn(S));n.faces.push(M),n.faces.push(E)}else{if((_=new or).a=L[s++],_.b=L[s++],_.c=L[s++],m&&(p=L[s++],_.materialIndex=p),a=n.faces.length,v)for(i=0;i<k;i++)for(C=t.uvs[i],n.faceVertexUvs[i][a]=[],o=0;o<3;o++)h=L[s++],P=C[2*h],R=C[2*h+1],A=new fe(P,R),n.faceVertexUvs[i][a].push(A);if(g&&(c=3*L[s++],_.normal.set(I[c++],I[c++],I[c])),y)for(i=0;i<3;i++)c=3*L[s++],T=new Ce(I[c++],I[c++],I[c]),_.vertexNormals.push(T);if(b&&(u=L[s++],_.color.setHex(N[u])),x)for(i=0;i<3;i++)u=L[s++],_.vertexColors.push(new vn(N[u]));n.faces.push(_)}}(r),function(){var e=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var r=0,i=t.skinWeights.length;r<i;r+=e){var o=t.skinWeights[r],a=e>1?t.skinWeights[r+1]:0,s=e>2?t.skinWeights[r+2]:0,l=e>3?t.skinWeights[r+3]:0;n.skinWeights.push(new Me(o,a,s,l))}if(t.skinIndices)for(r=0,i=t.skinIndices.length;r<i;r+=e){var u=t.skinIndices[r],c=e>1?t.skinIndices[r+1]:0,h=e>2?t.skinIndices[r+2]:0,p=e>3?t.skinIndices[r+3]:0;n.skinIndices.push(new Me(u,c,h,p))}n.bones=t.bones,n.bones&&n.bones.length>0&&(n.skinWeights.length!==n.skinIndices.length||n.skinIndices.length!==n.vertices.length)&&console.warn(\"When skinning, number of vertices (\"+n.vertices.length+\"), skinIndices (\"+n.skinIndices.length+\"), and skinWeights (\"+n.skinWeights.length+\") should match.\")}(),function(e){if(void 0!==t.morphTargets)for(var r=0,i=t.morphTargets.length;r<i;r++){n.morphTargets[r]={},n.morphTargets[r].name=t.morphTargets[r].name,n.morphTargets[r].vertices=[];for(var o=n.morphTargets[r].vertices,a=t.morphTargets[r].vertices,s=0,l=a.length;s<l;s+=3){var u=new Ce;u.x=a[s]*e,u.y=a[s+1]*e,u.z=a[s+2]*e,o.push(u)}}if(void 0!==t.morphColors&&t.morphColors.length>0){console.warn('THREE.JSONLoader: \"morphColors\" no longer supported. Using them as face colors.');var c=n.faces,h=t.morphColors[0].colors;for(r=0,i=c.length;r<i;r++)c[r].color.fromArray(h,3*r)}}(r),function(){var e=[],r=[];void 0!==t.animation&&r.push(t.animation);void 0!==t.animations&&(t.animations.length?r=r.concat(t.animations):r.push(t.animations));for(var i=0;i<r.length;i++){var o=na.parseAnimation(r[i],n.bones);o&&e.push(o)}if(n.morphTargets){var a=na.CreateClipsFromMorphTargetSequences(n.morphTargets,10);e=e.concat(a)}e.length>0&&(n.animations=e)}(),n.computeFaceNormals(),n.computeBoundingSphere(),void 0===t.materials||0===t.materials.length)return{geometry:n};var i=oa.prototype.initMaterials(t.materials,e,this.crossOrigin);return{geometry:n,materials:i}}}),Object.assign(function(t){this.manager=void 0!==t?t:wo,this.texturePath=\"\"}.prototype,{load:function(t,e,n,r){\"\"===this.texturePath&&(this.texturePath=t.substring(0,t.lastIndexOf(\"/\")+1));var i=this;new _o(i.manager).load(t,(function(n){var o=null;try{o=JSON.parse(n)}catch(e){return void 0!==r&&r(e),void console.error(\"THREE:ObjectLoader: Can't parse \"+t+\".\",e.message)}var a=o.metadata;void 0!==a&&void 0!==a.type&&\"geometry\"!==a.type.toLowerCase()?i.parse(o,e):console.error(\"THREE.ObjectLoader: Can't load \"+t+\". Use THREE.JSONLoader instead.\")}),n,r)},setTexturePath:function(t){this.texturePath=t},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t,e){var n=this.parseGeometries(t.geometries),r=this.parseImages(t.images,(function(){void 0!==e&&e(a)})),i=this.parseTextures(t.textures,r),o=this.parseMaterials(t.materials,i),a=this.parseObject(t.object,n,o);return t.animations&&(a.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(a),a},parseGeometries:function(t){var e={};if(void 0!==t)for(var n=new aa,r=new ia,i=0,o=t.length;i<o;i++){var a,s=t[i];switch(s.type){case\"PlaneGeometry\":case\"PlaneBufferGeometry\":a=new ao[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case\"BoxGeometry\":case\"BoxBufferGeometry\":case\"CubeGeometry\":a=new ao[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case\"CircleGeometry\":case\"CircleBufferGeometry\":a=new ao[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case\"CylinderGeometry\":case\"CylinderBufferGeometry\":a=new ao[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case\"ConeGeometry\":case\"ConeBufferGeometry\":a=new ao[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case\"SphereGeometry\":case\"SphereBufferGeometry\":a=new ao[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case\"DodecahedronGeometry\":case\"IcosahedronGeometry\":case\"OctahedronGeometry\":case\"TetrahedronGeometry\":a=new ao[s.type](s.radius,s.detail);break;case\"RingGeometry\":case\"RingBufferGeometry\":a=new ao[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case\"TorusGeometry\":case\"TorusBufferGeometry\":a=new ao[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case\"TorusKnotGeometry\":case\"TorusKnotBufferGeometry\":a=new ao[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case\"LatheGeometry\":case\"LatheBufferGeometry\":a=new ao[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case\"BufferGeometry\":a=r.parse(s);break;case\"Geometry\":a=n.parse(s.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type \"'+s.type+'\"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),e[s.uuid]=a}return e},parseMaterials:function(t,e){var n={};if(void 0!==t){var r=new ra;r.setTextures(e);for(var i=0,o=t.length;i<o;i++){var a=r.parse(t[i]);n[a.uuid]=a}}return n},parseAnimations:function(t){for(var e=[],n=0;n<t.length;n++){var r=na.parse(t[n]);e.push(r)}return e},parseImages:function(t,e){var n=this,r={};function i(t){return n.manager.itemStart(t),o.load(t,(function(){n.manager.itemEnd(t)}),void 0,(function(){n.manager.itemError(t)}))}if(void 0!==t&&t.length>0){var o=new So(new xo(e));o.setCrossOrigin(this.crossOrigin);for(var a=0,s=t.length;a<s;a++){var l=t[a],u=/^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(l.url)?l.url:n.texturePath+l.url;r[l.uuid]=i(u)}}return r},parseTextures:function(t,e){var n={UVMapping:300,CubeReflectionMapping:ut,CubeRefractionMapping:ct,EquirectangularReflectionMapping:ht,EquirectangularRefractionMapping:pt,SphericalReflectionMapping:dt,CubeUVReflectionMapping:ft,CubeUVRefractionMapping:mt},r={RepeatWrapping:vt,ClampToEdgeWrapping:gt,MirroredRepeatWrapping:yt},i={NearestFilter:bt,NearestMipMapNearestFilter:xt,NearestMipMapLinearFilter:wt,LinearFilter:_t,LinearMipMapNearestFilter:Mt,LinearMipMapLinearFilter:Et};function o(t,e){return\"number\"==typeof t?t:(console.warn(\"THREE.ObjectLoader.parseTexture: Constant should be in numeric form.\",t),e[t])}var a={};if(void 0!==t)for(var s=0,l=t.length;s<l;s++){var u=t[s];void 0===u.image&&console.warn('THREE.ObjectLoader: No \"image\" specified for',u.uuid),void 0===e[u.image]&&console.warn(\"THREE.ObjectLoader: Undefined image\",u.image);var c=new _e(e[u.image]);c.needsUpdate=!0,c.uuid=u.uuid,void 0!==u.name&&(c.name=u.name),void 0!==u.mapping&&(c.mapping=o(u.mapping,n)),void 0!==u.offset&&c.offset.fromArray(u.offset),void 0!==u.repeat&&c.repeat.fromArray(u.repeat),void 0!==u.wrap&&(c.wrapS=o(u.wrap[0],r),c.wrapT=o(u.wrap[1],r)),void 0!==u.minFilter&&(c.minFilter=o(u.minFilter,i)),void 0!==u.magFilter&&(c.magFilter=o(u.magFilter,i)),void 0!==u.anisotropy&&(c.anisotropy=u.anisotropy),void 0!==u.flipY&&(c.flipY=u.flipY),a[u.uuid]=c}return a},parseObject:function(){var t=new Ae;return function(e,n,r){var i;function o(t){return void 0===n[t]&&console.warn(\"THREE.ObjectLoader: Undefined geometry\",t),n[t]}function a(t){if(void 0!==t)return void 0===r[t]&&console.warn(\"THREE.ObjectLoader: Undefined material\",t),r[t]}switch(e.type){case\"Scene\":i=new oi,void 0!==e.background&&Number.isInteger(e.background)&&(i.background=new vn(e.background)),void 0!==e.fog&&(\"Fog\"===e.fog.type?i.fog=new ii(e.fog.color,e.fog.near,e.fog.far):\"FogExp2\"===e.fog.type&&(i.fog=new ri(e.fog.color,e.fog.density)));break;case\"PerspectiveCamera\":i=new Rr(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(i.focus=e.focus),void 0!==e.zoom&&(i.zoom=e.zoom),void 0!==e.filmGauge&&(i.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(i.filmOffset=e.filmOffset),void 0!==e.view&&(i.view=Object.assign({},e.view));break;case\"OrthographicCamera\":i=new Lr(e.left,e.right,e.top,e.bottom,e.near,e.far);break;case\"AmbientLight\":i=new Do(e.color,e.intensity);break;case\"DirectionalLight\":i=new ko(e.color,e.intensity);break;case\"PointLight\":i=new Io(e.color,e.intensity,e.distance,e.decay);break;case\"SpotLight\":i=new Oo(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case\"HemisphereLight\":i=new Po(e.color,e.groundColor,e.intensity);break;case\"Mesh\":var s=o(e.geometry),l=a(e.material);i=s.bones&&s.bones.length>0?new pi(s,l):new Er(s,l);break;case\"LOD\":i=new ui;break;case\"Line\":i=new fi(o(e.geometry),a(e.material),e.mode);break;case\"LineSegments\":i=new mi(o(e.geometry),a(e.material));break;case\"PointCloud\":case\"Points\":i=new gi(o(e.geometry),a(e.material));break;case\"Sprite\":i=new li(a(e.material));break;case\"Group\":i=new yi;break;case\"SkinnedMesh\":console.warn(\"THREE.ObjectLoader.parseObject() does not support SkinnedMesh type. Instantiates Object3D instead.\");default:i=new nr}if(i.uuid=e.uuid,void 0!==e.name&&(i.name=e.name),void 0!==e.matrix?(t.fromArray(e.matrix),t.decompose(i.position,i.quaternion,i.scale)):(void 0!==e.position&&i.position.fromArray(e.position),void 0!==e.rotation&&i.rotation.fromArray(e.rotation),void 0!==e.quaternion&&i.quaternion.fromArray(e.quaternion),void 0!==e.scale&&i.scale.fromArray(e.scale)),void 0!==e.castShadow&&(i.castShadow=e.castShadow),void 0!==e.receiveShadow&&(i.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(i.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(i.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&i.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(i.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.children)for(var u in e.children)i.add(this.parseObject(e.children[u],n,r));if(\"LOD\"===e.type)for(var c=e.levels,h=0;h<c.length;h++){var p=c[h];void 0!==(u=i.getObjectByProperty(\"uuid\",p.object))&&i.addLevel(u,p.distance)}return i}}()}),ca.prototype={constructor:ca,getPoint:function(t){return console.warn(\"THREE.Curve: Warning, getPoint() not implemented!\"),null},getPointAt:function(t){var e=this.getUtoTmapping(t);return this.getPoint(e)},getPoints:function(t){isNaN(t)&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){isNaN(t)&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(isNaN(t)&&(t=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n,r=[],i=this.getPoint(0),o=0;for(r.push(0),n=1;n<=t;n++)o+=(e=this.getPoint(n/t)).distanceTo(i),r.push(o),i=e;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n,r=this.getLengths(),i=0,o=r.length;n=e||t*r[o-1];for(var a,s=0,l=o-1;s<=l;)if((a=r[i=Math.floor(s+(l-s)/2)]-n)<0)s=i+1;else{if(!(a>0)){l=i;break}l=i-1}if(r[i=l]===n)return i/(o-1);var u=r[i];return(i+(n-u)/(r[i+1]-u))/(o-1)},getTangent:function(t){var e=t-1e-4,n=t+1e-4;e<0&&(e=0),n>1&&(n=1);var r=this.getPoint(e);return this.getPoint(n).clone().sub(r).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var n,r,i,o=new Ce,a=[],s=[],l=[],u=new Ce,c=new Ae;for(n=0;n<=t;n++)r=n/t,a[n]=this.getTangentAt(r),a[n].normalize();s[0]=new Ce,l[0]=new Ce;var h=Number.MAX_VALUE,p=Math.abs(a[0].x),d=Math.abs(a[0].y),f=Math.abs(a[0].z);for(p<=h&&(h=p,o.set(1,0,0)),d<=h&&(h=d,o.set(0,1,0)),f<=h&&o.set(0,0,1),u.crossVectors(a[0],o).normalize(),s[0].crossVectors(a[0],u),l[0].crossVectors(a[0],s[0]),n=1;n<=t;n++)s[n]=s[n-1].clone(),l[n]=l[n-1].clone(),u.crossVectors(a[n-1],a[n]),u.length()>Number.EPSILON&&(u.normalize(),i=Math.acos(de.clamp(a[n-1].dot(a[n]),-1,1)),s[n].applyMatrix4(c.makeRotationAxis(u,i))),l[n].crossVectors(a[n],s[n]);if(!0===e)for(i=Math.acos(de.clamp(s[0].dot(s[t]),-1,1)),i/=t,a[0].dot(u.crossVectors(s[0],s[t]))>0&&(i=-i),n=1;n<=t;n++)s[n].applyMatrix4(c.makeRotationAxis(a[n],i*n)),l[n].crossVectors(a[n],s[n]);return{tangents:a,normals:s,binormals:l}}},ha.prototype=Object.create(ca.prototype),ha.prototype.constructor=ha,ha.prototype.isLineCurve=!0,ha.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=this.v2.clone().sub(this.v1);return e.multiplyScalar(t).add(this.v1),e},ha.prototype.getPointAt=function(t){return this.getPoint(t)},ha.prototype.getTangent=function(t){return this.v2.clone().sub(this.v1).normalize()},pa.prototype=Object.assign(Object.create(ca.prototype),{constructor:pa,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new ha(e,t))},getPoint:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=e){var i=n[r]-e,o=this.curves[r],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}r++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,r=this.curves.length;n<r;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){isNaN(t)&&(t=40);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o&&o.isEllipseCurve?2*t:o&&o.isLineCurve?1:o&&o.isSplineCurve?t*o.points.length:t,s=o.getPoints(a),l=0;l<s.length;l++){var u=s[l];e&&e.equals(u)||(n.push(u),e=u)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},createPointsGeometry:function(t){var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){for(var e=new _r,n=0,r=t.length;n<r;n++){var i=t[n];e.vertices.push(new Ce(i.x,i.y,i.z||0))}return e}}),da.prototype=Object.create(ca.prototype),da.prototype.constructor=da,da.prototype.isEllipseCurve=!0,da.prototype.getPoint=function(t){for(var e=2*Math.PI,n=this.aEndAngle-this.aStartAngle,r=Math.abs(n)<Number.EPSILON;n<0;)n+=e;for(;n>e;)n-=e;n<Number.EPSILON&&(n=r?0:e),!0!==this.aClockwise||r||(n===e?n=-e:n-=e);var i=this.aStartAngle+t*n,o=this.aX+this.xRadius*Math.cos(i),a=this.aY+this.yRadius*Math.sin(i);if(0!==this.aRotation){var s=Math.cos(this.aRotation),l=Math.sin(this.aRotation),u=o-this.aX,c=a-this.aY;o=u*s-c*l+this.aX,a=u*l+c*s+this.aY}return new fe(o,a)},fa.prototype=Object.create(ca.prototype),fa.prototype.constructor=fa,fa.prototype.isSplineCurve=!0,fa.prototype.getPoint=function(t){var e=this.points,n=(e.length-1)*t,r=Math.floor(n),i=n-r,o=e[0===r?r:r-1],a=e[r],s=e[r>e.length-2?e.length-1:r+1],l=e[r>e.length-3?e.length-1:r+2];return new fe(sa(i,o.x,a.x,s.x,l.x),sa(i,o.y,a.y,s.y,l.y))},ma.prototype=Object.create(ca.prototype),ma.prototype.constructor=ma,ma.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2,i=this.v3;return new fe(ua(t,e.x,n.x,r.x,i.x),ua(t,e.y,n.y,r.y,i.y))},va.prototype=Object.create(ca.prototype),va.prototype.constructor=va,va.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2;return new fe(la(t,e.x,n.x,r.x),la(t,e.y,n.y,r.y))};var ga,ya=Object.assign(Object.create(pa.prototype),{fromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var n=new ha(this.currentPoint.clone(),new fe(t,e));this.curves.push(n),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,n,r){var i=new va(this.currentPoint.clone(),new fe(t,e),new fe(n,r));this.curves.push(i),this.currentPoint.set(n,r)},bezierCurveTo:function(t,e,n,r,i,o){var a=new ma(this.currentPoint.clone(),new fe(t,e),new fe(n,r),new fe(i,o));this.curves.push(a),this.currentPoint.set(i,o)},splineThru:function(t){var e=new fa([this.currentPoint.clone()].concat(t));this.curves.push(e),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+a,e+s,n,r,i,o)},absarc:function(t,e,n,r,i,o){this.absellipse(t,e,n,n,r,i,o)},ellipse:function(t,e,n,r,i,o,a,s){var l=this.currentPoint.x,u=this.currentPoint.y;this.absellipse(t+l,e+u,n,r,i,o,a,s)},absellipse:function(t,e,n,r,i,o,a,s){var l=new da(t,e,n,r,i,o,a,s);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);this.currentPoint.copy(c)}});function ba(t){pa.call(this),this.currentPoint=new fe,t&&this.fromPoints(t)}function xa(){ba.apply(this,arguments),this.holes=[]}function wa(){this.subPaths=[],this.currentPath=null}function _a(t){this.data=t}ba.prototype=ya,ya.constructor=ba,xa.prototype=Object.assign(Object.create(ya),{constructor:xa,getPointsHoles:function(t){for(var e=[],n=0,r=this.holes.length;n<r;n++)e[n]=this.holes[n].getPoints(t);return e},extractAllPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},extractPoints:function(t){return this.extractAllPoints(t)}}),wa.prototype={moveTo:function(t,e){this.currentPath=new ba,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,n,r){this.currentPath.quadraticCurveTo(t,e,n,r)},bezierCurveTo:function(t,e,n,r,i,o){this.currentPath.bezierCurveTo(t,e,n,r,i,o)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function n(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n],o=new xa;o.curves=i.curves,e.push(o)}return e}function r(t,e){for(var n=e.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=e[i],s=e[o],l=s.x-a.x,u=s.y-a.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(a=e[o],l=-l,s=e[i],u=-u),t.y<a.y||t.y>s.y)continue;if(t.y===a.y){if(t.x===a.x)return!0}else{var c=u*(t.x-a.x)-l*(t.y-a.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(t.y!==a.y)continue;if(s.x<=t.x&&t.x<=a.x||a.x<=t.x&&t.x<=s.x)return!0}}return r}var i=Vi.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===e)return n(o);var a,s,l,u=[];if(1===o.length)return s=o[0],(l=new xa).curves=s.curves,u.push(l),u;var c=!i(o[0].getPoints());c=t?!c:c;var h,p,d=[],f=[],m=[],v=0;f[v]=void 0,m[v]=[];for(var g=0,y=o.length;g<y;g++)a=i(h=(s=o[g]).getPoints()),(a=t?!a:a)?(!c&&f[v]&&v++,f[v]={s:new xa,p:h},f[v].s.curves=s.curves,c&&v++,m[v]=[]):m[v].push({h:s,p:h[0]});if(!f[0])return n(o);if(f.length>1){for(var b=!1,x=[],w=0,_=f.length;w<_;w++)d[w]=[];for(w=0,_=f.length;w<_;w++)for(var M=m[w],E=0;E<M.length;E++){for(var S=M[E],T=!0,C=0;C<f.length;C++)r(S.p,f[C].p)&&(w!==C&&x.push({froms:w,tos:C,hole:E}),T?(T=!1,d[C].push(S)):b=!0);T&&d[w].push(S)}x.length>0&&(b||(m=d))}g=0;for(var A=f.length;g<A;g++){l=f[g].s,u.push(l);for(var P=0,R=(p=m[g]).length;P<R;P++)l.holes.push(p[P].h)}return u}},Object.assign(_a.prototype,{isFont:!0,generateShapes:function(t,e,n){function r(t,e,r,o){var a=i.glyphs[t]||i.glyphs[\"?\"];if(a){var s,l,u,c,h,p,d,f,m,v,g,y=new wa,b=[];if(a.o)for(var x=a._cachedOutline||(a._cachedOutline=a.o.split(\" \")),w=0,_=x.length;w<_;){switch(x[w++]){case\"m\":s=x[w++]*e+r,l=x[w++]*e+o,y.moveTo(s,l);break;case\"l\":s=x[w++]*e+r,l=x[w++]*e+o,y.lineTo(s,l);break;case\"q\":if(u=x[w++]*e+r,c=x[w++]*e+o,d=x[w++]*e+r,f=x[w++]*e+o,y.quadraticCurveTo(d,f,u,c),g=b[b.length-1]){h=g.x,p=g.y;for(var M=1;M<=n;M++){la(E=M/n,h,d,u),la(E,p,f,c)}}break;case\"b\":if(u=x[w++]*e+r,c=x[w++]*e+o,d=x[w++]*e+r,f=x[w++]*e+o,m=x[w++]*e+r,v=x[w++]*e+o,y.bezierCurveTo(d,f,m,v,u,c),g=b[b.length-1]){h=g.x,p=g.y;for(M=1;M<=n;M++){var E;ua(E=M/n,h,d,m,u),ua(E,p,f,v,c)}}}}return{offsetX:a.ha*e,path:y}}}void 0===e&&(e=100),void 0===n&&(n=4);for(var i=this.data,o=function(t){for(var n=String(t).split(\"\"),o=e/i.resolution,a=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*o,s=0,l=0,u=[],c=0;c<n.length;c++){var h=n[c];if(\"\\n\"===h)s=0,l-=a;else{var p=r(h,o,s,l);s+=p.offsetX,u.push(p.path)}}return u}(t),a=[],s=0,l=o.length;s<l;s++)Array.prototype.push.apply(a,o[s].toShapes());return a}}),Object.assign(function(t){this.manager=void 0!==t?t:wo}.prototype,{load:function(t,e,n,r){var i=this;new _o(this.manager).load(t,(function(t){var n;try{n=JSON.parse(t)}catch(e){console.warn(\"THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.\"),n=JSON.parse(t.substring(65,t.length-2))}var r=i.parse(n);e&&e(r)}),n,r)},parse:function(t){return new _a(t)}});var Ma,Ea,Sa,Ta,Ca,Aa,Pa,Ra,La,Oa,Ia,Na,ka,Da,Fa,Ba={getContext:function(){return void 0===ga&&(ga=new(window.AudioContext||window.webkitAudioContext)),ga},setContext:function(t){ga=t}};function Ua(t){this.manager=void 0!==t?t:wo}function za(t,e,n,r){Ao.call(this,t,e),this.type=\"RectAreaLight\",this.position.set(0,1,0),this.updateMatrix(),this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function ja(t,e,n){nr.call(this),this.type=\"CubeCamera\";var r=new Rr(90,1,t,e);r.up.set(0,-1,0),r.lookAt(new Ce(1,0,0)),this.add(r);var i=new Rr(90,1,t,e);i.up.set(0,-1,0),i.lookAt(new Ce(-1,0,0)),this.add(i);var o=new Rr(90,1,t,e);o.up.set(0,0,1),o.lookAt(new Ce(0,1,0)),this.add(o);var a=new Rr(90,1,t,e);a.up.set(0,0,-1),a.lookAt(new Ce(0,-1,0)),this.add(a);var s=new Rr(90,1,t,e);s.up.set(0,-1,0),s.lookAt(new Ce(0,0,1)),this.add(s);var l=new Rr(90,1,t,e);l.up.set(0,-1,0),l.lookAt(new Ce(0,0,-1)),this.add(l);var u={format:Bt,magFilter:_t,minFilter:_t};this.renderTarget=new Se(n,n,u),this.updateCubeMap=function(t,e){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,u=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,t.render(e,r,n),n.activeCubeFace=1,t.render(e,i,n),n.activeCubeFace=2,t.render(e,o,n),n.activeCubeFace=3,t.render(e,a,n),n.activeCubeFace=4,t.render(e,s,n),n.texture.generateMipmaps=u,n.activeCubeFace=5,t.render(e,l,n),t.setRenderTarget(null)}}function Va(){nr.call(this),this.type=\"AudioListener\",this.context=Ba.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function Wa(t){nr.call(this),this.type=\"Audio\",this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType=\"empty\",this.filters=[]}function Ga(t){Wa.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Ha(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function qa(t,e,n){this.binding=t,this.valueSize=n;var r,i=Float64Array;switch(e){case\"quaternion\":r=this._slerp;break;case\"string\":case\"bool\":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function Xa(t,e,n){this.path=e,this.parsedPath=n||Xa.parseTrackName(e),this.node=Xa.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function Ya(t){this.uuid=de.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function Ka(t,e,n){this._mixer=t,this._clip=e,this._localRoot=n||null;for(var r=e.tracks,i=r.length,o=new Array(i),a={endingStart:te,endingEnd:te},s=0;s!==i;++s){var l=r[s].createInterpolant(null);o[s]=l,l.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=$t,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Za(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Qa(t){\"string\"==typeof t&&(console.warn(\"THREE.Uniform: Type parameter is no longer needed.\"),t=arguments[1]),this.value=t}function Ja(){Mr.call(this),this.type=\"InstancedBufferGeometry\",this.maxInstancedCount=void 0}function $a(t,e,n,r){this.uuid=de.generateUUID(),this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===r}function ts(t,e){this.uuid=de.generateUUID(),this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function es(t,e,n){ts.call(this,t,e),this.meshPerAttribute=n||1}function ns(t,e,n){sr.call(this,t,e),this.meshPerAttribute=n||1}function rs(t,e,n,r){this.ray=new Hn(t,e),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn(\"THREE.Raycaster: params.PointCloud has been renamed to params.Points.\"),this.Points}}})}function is(t,e){return t.distance-e.distance}function os(t,e,n,r){if(!1!==t.visible&&(t.raycast(e,n),!0===r))for(var i=t.children,o=0,a=i.length;o<a;o++)os(i[o],e,n,!0)}function as(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function ss(t,e,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==n?n:0,this}function ls(t,e,n){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==n?n:0,this}function us(t,e){Er.call(this,t,e),this.animationsMap={},this.animationsList=[];var n=this.geometry.morphTargets.length,r=n-1,i=n/1;this.createAnimation(\"__default\",0,r,i),this.setAnimationWeight(\"__default\",1)}function cs(t){nr.call(this),this.material=t,this.render=function(t){}}function hs(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16711680,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var l=new Mr,u=new mr(2*a*3,3);l.addAttribute(\"position\",u),mi.call(this,l,new di({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function ps(t){nr.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;for(var e=new Mr,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,i=1;r<32;r++,i++){var o=r/32*Math.PI*2,a=i/32*Math.PI*2;n.push(Math.cos(o),Math.sin(o),1,Math.cos(a),Math.sin(a),1)}e.addAttribute(\"position\",new mr(n,3));var s=new di({fog:!1});this.cone=new mi(e,s),this.add(this.cone),this.update()}function ds(t){this.bones=this.getBoneList(t);for(var e=new Mr,n=[],r=[],i=new vn(0,0,1),o=new vn(0,1,0),a=0;a<this.bones.length;a++){var s=this.bones[a];s.parent&&s.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),r.push(i.r,i.g,i.b),r.push(o.r,o.g,o.b))}e.addAttribute(\"position\",new mr(n,3)),e.addAttribute(\"color\",new mr(r,3));var l=new di({vertexColors:E,depthTest:!1,depthWrite:!1,transparent:!0});mi.call(this,e,l),this.root=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function fs(t,e){this.light=t,this.light.updateMatrixWorld();var n=new qi(e,4,2),r=new ar({wireframe:!0,fog:!1});r.color.copy(this.light.color).multiplyScalar(this.light.intensity),Er.call(this,n,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1}function ms(t){nr.call(this),this.light=t,this.light.updateMatrixWorld();var e=new ar({color:t.color,fog:!1}),n=new ar({color:t.color,fog:!1,wireframe:!0}),r=new Mr;r.addAttribute(\"position\",new sr(new Float32Array(18),3)),this.add(new Er(r,e)),this.add(new Er(r,n)),this.update()}function vs(t,e){nr.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;var n=new Li(e);n.rotateY(.5*Math.PI);var r=new ar({vertexColors:E,wireframe:!0}),i=n.getAttribute(\"position\"),o=new Float32Array(3*i.count);n.addAttribute(\"color\",new sr(o,3)),this.add(new Er(n,r)),this.update()}function gs(t,e,n,r){t=t||10,e=e||10,n=new vn(void 0!==n?n:4473924),r=new vn(void 0!==r?r:8947848);for(var i=e/2,o=t/e,a=t/2,s=[],l=[],u=0,c=0,h=-a;u<=e;u++,h+=o){s.push(-a,0,h,a,0,h),s.push(h,0,-a,h,0,a);var p=u===i?n:r;p.toArray(l,c),c+=3,p.toArray(l,c),c+=3,p.toArray(l,c),c+=3,p.toArray(l,c),c+=3}var d=new Mr;d.addAttribute(\"position\",new mr(s,3)),d.addAttribute(\"color\",new mr(l,3));var f=new di({vertexColors:E});mi.call(this,d,f)}function ys(t,e,n,r,i,o){t=t||10,e=e||16,n=n||8,r=r||64,i=new vn(void 0!==i?i:4473924),o=new vn(void 0!==o?o:8947848);var a,s,l,u,c,h,p,d=[],f=[];for(u=0;u<=e;u++)l=u/e*(2*Math.PI),a=Math.sin(l)*t,s=Math.cos(l)*t,d.push(0,0,0),d.push(a,0,s),p=1&u?i:o,f.push(p.r,p.g,p.b),f.push(p.r,p.g,p.b);for(u=0;u<=n;u++)for(p=1&u?i:o,h=t-t/n*u,c=0;c<r;c++)l=c/r*(2*Math.PI),a=Math.sin(l)*h,s=Math.cos(l)*h,d.push(a,0,s),f.push(p.r,p.g,p.b),l=(c+1)/r*(2*Math.PI),a=Math.sin(l)*h,s=Math.cos(l)*h,d.push(a,0,s),f.push(p.r,p.g,p.b);var m=new Mr;m.addAttribute(\"position\",new mr(d,3)),m.addAttribute(\"color\",new mr(f,3));var v=new di({vertexColors:E});mi.call(this,m,v)}function bs(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16776960,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn(\"THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.\");var l=new Mr,u=new mr(2*a*3,3);l.addAttribute(\"position\",u),mi.call(this,l,new di({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function xs(t,e){nr.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,void 0===e&&(e=1);var n=new Mr;n.addAttribute(\"position\",new mr([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var r=new di({fog:!1});this.add(new fi(n,r)),(n=new Mr).addAttribute(\"position\",new mr([0,0,0,0,0,1],3)),this.add(new fi(n,r)),this.update()}function ws(t){var e=new Mr,n=new di({color:16777215,vertexColors:M}),r=[],i=[],o={},a=new vn(16755200),s=new vn(16711680),l=new vn(43775),u=new vn(16777215),c=new vn(3355443);function h(t,e,n){p(t,n),p(e,n)}function p(t,e){r.push(0,0,0),i.push(e.r,e.g,e.b),void 0===o[t]&&(o[t]=[]),o[t].push(r.length/3-1)}h(\"n1\",\"n2\",a),h(\"n2\",\"n4\",a),h(\"n4\",\"n3\",a),h(\"n3\",\"n1\",a),h(\"f1\",\"f2\",a),h(\"f2\",\"f4\",a),h(\"f4\",\"f3\",a),h(\"f3\",\"f1\",a),h(\"n1\",\"f1\",a),h(\"n2\",\"f2\",a),h(\"n3\",\"f3\",a),h(\"n4\",\"f4\",a),h(\"p\",\"n1\",s),h(\"p\",\"n2\",s),h(\"p\",\"n3\",s),h(\"p\",\"n4\",s),h(\"u1\",\"u2\",l),h(\"u2\",\"u3\",l),h(\"u3\",\"u1\",l),h(\"c\",\"t\",u),h(\"p\",\"c\",c),h(\"cn1\",\"cn2\",c),h(\"cn3\",\"cn4\",c),h(\"cf1\",\"cf2\",c),h(\"cf3\",\"cf4\",c),e.addAttribute(\"position\",new mr(r,3)),e.addAttribute(\"color\",new mr(i,3)),mi.call(this,e,n),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}function _s(t,e){void 0===e&&(e=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new Mr;i.setIndex(new sr(n,1)),i.addAttribute(\"position\",new sr(r,3)),mi.call(this,i,new di({color:e})),void 0!==t&&this.update(t)}function Ms(t,e,n,r,i,o){nr.call(this),void 0===r&&(r=16776960),void 0===n&&(n=1),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===Na&&((Na=new Mr).addAttribute(\"position\",new mr([0,0,0,0,1,0],3)),(ka=new eo(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(e),this.line=new fi(Na,new di({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Er(ka,new ar({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,i,o)}function Es(t){var e=[0,0,0,t=t||1,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=new Mr;n.addAttribute(\"position\",new mr(e,3)),n.addAttribute(\"color\",new mr([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new di({vertexColors:E});mi.call(this,n,r)}function Ss(){var t=0,e=0,n=0,r=0;function i(i,o,a,s){t=i,e=a,n=-3*i+3*o-2*a-s,r=2*i-2*o+a+s}return{initCatmullRom:function(t,e,n,r,o){i(e,n,o*(n-t),o*(r-e))},initNonuniformCatmullRom:function(t,e,n,r,o,a,s){var l=(e-t)/o-(n-t)/(o+a)+(n-e)/a,u=(n-e)/a-(r-e)/(a+s)+(r-n)/s;i(e,n,l*=a,u*=a)},calc:function(i){var o=i*i;return t+e*i+n*o+r*(o*i)}}}Object.assign(Ua.prototype,{load:function(t,e,n,r){var i=new _o(this.manager);i.setResponseType(\"arraybuffer\"),i.load(t,(function(t){Ba.getContext().decodeAudioData(t,(function(t){e(t)}))}),n,r)}}),za.prototype=Object.assign(Object.create(Ao.prototype),{constructor:za,isRectAreaLight:!0,copy:function(t){return Ao.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this}}),Object.assign(function(){this.type=\"StereoCamera\",this.aspect=1,this.eyeSep=.064,this.cameraL=new Rr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Rr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}.prototype,{update:(Ra=new Ae,La=new Ae,function(t){if(Ma!==this||Ea!==t.focus||Sa!==t.fov||Ta!==t.aspect*this.aspect||Ca!==t.near||Aa!==t.far||Pa!==t.zoom){Ma=this,Ea=t.focus,Sa=t.fov,Ta=t.aspect*this.aspect,Ca=t.near,Aa=t.far,Pa=t.zoom;var e,n,r=t.projectionMatrix.clone(),i=this.eyeSep/2,o=i*Ca/Ea,a=Ca*Math.tan(de.DEG2RAD*Sa*.5)/Pa;La.elements[12]=-i,Ra.elements[12]=i,e=-a*Ta+o,n=a*Ta+o,r.elements[0]=2*Ca/(n-e),r.elements[8]=(n+e)/(n-e),this.cameraL.projectionMatrix.copy(r),e=-a*Ta-o,n=a*Ta-o,r.elements[0]=2*Ca/(n-e),r.elements[8]=(n+e)/(n-e),this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(La),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Ra)})}),ja.prototype=Object.create(nr.prototype),ja.prototype.constructor=ja,Va.prototype=Object.assign(Object.create(nr.prototype),{constructor:Va,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(t){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){this.gain.gain.value=t},updateMatrixWorld:function(){var t=new Ce,e=new Te,n=new Ce,r=new Ce;return function(i){nr.prototype.updateMatrixWorld.call(this,i);var o=this.context.listener,a=this.up;this.matrixWorld.decompose(t,e,n),r.set(0,0,-1).applyQuaternion(e),o.positionX?(o.positionX.setValueAtTime(t.x,this.context.currentTime),o.positionY.setValueAtTime(t.y,this.context.currentTime),o.positionZ.setValueAtTime(t.z,this.context.currentTime),o.forwardX.setValueAtTime(r.x,this.context.currentTime),o.forwardY.setValueAtTime(r.y,this.context.currentTime),o.forwardZ.setValueAtTime(r.z,this.context.currentTime),o.upX.setValueAtTime(a.x,this.context.currentTime),o.upY.setValueAtTime(a.y,this.context.currentTime),o.upZ.setValueAtTime(a.z,this.context.currentTime)):(o.setPosition(t.x,t.y,t.z),o.setOrientation(r.x,r.y,r.z,a.x,a.y,a.z))}}()}),Wa.prototype=Object.assign(Object.create(nr.prototype),{constructor:Wa,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType=\"audioNode\",this.source=t,this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType=\"buffer\",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),t.playbackRate.setValueAtTime(this.playbackRate,this.startTime),t.start(0,this.startTime),this.isPlaying=!0,this.source=t,this.connect()}console.warn(\"THREE.Audio: this Audio has no playback control.\")}else console.warn(\"THREE.Audio: Audio is already playing.\")},pause:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this;console.warn(\"THREE.Audio: this Audio has no playback control.\")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.startTime=0,this.isPlaying=!1,this;console.warn(\"THREE.Audio: this Audio has no playback control.\")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this;console.warn(\"THREE.Audio: this Audio has no playback control.\")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn(\"THREE.Audio: this Audio has no playback control.\"),!1):this.loop},setLoop:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn(\"THREE.Audio: this Audio has no playback control.\")},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.value=t,this}}),Ga.prototype=Object.assign(Object.create(Wa.prototype),{constructor:Ga,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){this.panner.refDistance=t},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){this.panner.rolloffFactor=t},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){this.panner.distanceModel=t},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){this.panner.maxDistance=t},updateMatrixWorld:function(){var t=new Ce;return function(e){nr.prototype.updateMatrixWorld.call(this,e),t.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(t.x,t.y,t.z)}}()}),Object.assign(Ha.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length}}),qa.prototype={constructor:qa,accumulate:function(t,e){var n=this.buffer,r=this.valueSize,i=t*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=e}else{var s=e/(o+=e);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o},apply:function(t){var e=this.valueSize,n=this.buffer,r=t*e+e,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var a=3*e;this._mixBufferRegion(n,r,a,1-i,e)}for(var s=e,l=e+e;s!==l;++s)if(n[s]!==n[s+e]){o.setValue(n,r);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,n=this.valueSize,r=3*n;t.getValue(e,r);for(var i=n,o=r;i!==o;++i)e[i]=e[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)t[e+o]=t[n+o]},_slerp:function(t,e,n,r,i){Te.slerpFlat(t,e,t,e,t,n,r)},_lerp:function(t,e,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=e+a;t[s]=t[s]*o+t[n+a]*r}}},Xa.prototype={constructor:Xa,getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,r=e.propertyName,i=e.propertyIndex;if(t||(t=Xa.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(n){var o=e.objectIndex;switch(n){case\"materials\":if(!t.material)return void console.error(\"  can not bind to material as node does not have a material\",this);if(!t.material.materials)return void console.error(\"  can not bind to material.materials as node.material does not have a materials array\",this);t=t.material.materials;break;case\"bones\":if(!t.skeleton)return void console.error(\"  can not bind to bones as node does not have a skeleton\",this);t=t.skeleton.bones;for(var a=0;a<t.length;a++)if(t[a].name===o){o=a;break}break;default:if(void 0===t[n])return void console.error(\"  can not bind to objectName of node, undefined\",this);t=t[n]}if(void 0!==o){if(void 0===t[o])return void console.error(\"  trying to bind to objectIndex of objectName, but is undefined:\",this,t);t=t[o]}}var s=t[r];if(void 0!==s){var l=this.Versioning.None;void 0!==t.needsUpdate?(l=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t);var u=this.BindingType.Direct;if(void 0!==i){if(\"morphTargetInfluences\"===r){if(!t.geometry)return void console.error(\"  can not bind to morphTargetInfluences becasuse node does not have a geometry\",this);if(!t.geometry.morphTargets)return void console.error(\"  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets\",this);for(a=0;a<this.node.geometry.morphTargets.length;a++)if(t.geometry.morphTargets[a].name===i){i=a;break}}u=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(u=this.BindingType.HasFromToArray,this.resolvedProperty=s):void 0!==s.length?(u=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][l]}else{var c=e.nodeName;console.error(\"  trying to update property for track: \"+c+\".\"+r+\" but it wasn't found.\",t)}}else console.error(\"  trying to update node for track: \"+this.path+\" but it wasn't found.\")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}},Object.assign(Xa.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:Xa.prototype.getValue,_setValue_unbound:Xa.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)t[e++]=n[r]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.node[this.propertyName]=t[e]},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]]}),Xa.Composite=function(t,e,n){var r=n||Xa.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)},Xa.Composite.prototype={constructor:Xa.Composite,getValue:function(t,e){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}},Xa.create=function(t,e,n){return t&&t.isAnimationObjectGroup?new Xa.Composite(t,e,n):new Xa(t,e,n)},Xa.parseTrackName=function(t){var e=/^((?:[\\w-]+[\\/:])*)([\\w-]+)?(?:\\.([\\w-]+)(?:\\[(.+)\\])?)?\\.([\\w-]+)(?:\\[(.+)\\])?$/.exec(t);if(!e)throw new Error(\"cannot parse trackName at all: \"+t);var n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]};if(null===n.propertyName||0===n.propertyName.length)throw new Error(\"can not parse propertyName from trackName: \"+t);return n},Xa.findNode=function(t,e){if(!e||\"\"===e||\"root\"===e||\".\"===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=function(t){for(var n=0;n<t.bones.length;n++){var r=t.bones[n];if(r.name===e)return r}return null}(t.skeleton);if(n)return n}if(t.children){var r=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.name===e||i.uuid===e)return i;var o=r(i.children);if(o)return o}return null},i=r(t.children);if(i)return i}return null},Ya.prototype={constructor:Ya,isAnimationObjectGroup:!0,add:function(t){for(var e=this._objects,n=e.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._paths,a=this._parsedPaths,s=this._bindings,l=s.length,u=0,c=arguments.length;u!==c;++u){var h=arguments[u],p=h.uuid,d=i[p],f=void 0;if(void 0===d){d=n++,i[p]=d,e.push(h);for(var m=0,v=l;m!==v;++m)s[m].push(new Xa(h,o[m],a[m]))}else if(d<r){f=e[d];var g=--r,y=e[g];i[y.uuid]=d,e[d]=y,i[p]=g,e[g]=h;for(m=0,v=l;m!==v;++m){var b=s[m],x=b[g],w=b[d];b[d]=x,void 0===w&&(w=new Xa(h,o[m],a[m])),b[g]=w}}else e[d]!==f&&console.error(\"Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...\")}this.nCachedObjects_=r},remove:function(t){for(var e=this._objects,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var l=arguments[a],u=l.uuid,c=r[u];if(void 0!==c&&c>=n){var h=n++,p=e[h];r[p.uuid]=c,e[c]=p,r[u]=h,e[h]=l;for(var d=0,f=o;d!==f;++d){var m=i[d],v=m[h],g=m[c];m[c]=v,m[h]=g}}}this.nCachedObjects_=n},uncache:function(t){for(var e=this._objects,n=e.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._bindings,a=o.length,s=0,l=arguments.length;s!==l;++s){var u=arguments[s],c=u.uuid,h=i[c];if(void 0!==h)if(delete i[c],h<r){var p=--r,d=e[p],f=e[b=--n];i[d.uuid]=h,e[h]=d,i[f.uuid]=p,e[p]=f,e.pop();for(var m=0,v=a;m!==v;++m){var g=(x=o[m])[p],y=x[b];x[h]=g,x[p]=y,x.pop()}}else{var b;i[(f=e[b=--n]).uuid]=h,e[h]=f,e.pop();for(m=0,v=a;m!==v;++m){var x;(x=o[m])[h]=x[b],x.pop()}}}this.nCachedObjects_=r},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,r=n[t],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,l=s.length,u=this.nCachedObjects_,c=new Array(l);r=i.length,n[t]=r,o.push(t),a.push(e),i.push(c);for(var h=u,p=s.length;h!==p;++h){var d=s[h];c[h]=new Xa(d,t,e)}return c},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];e[t[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}},Ka.prototype={constructor:Ka,play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var r=this._clip.duration,i=t._clip.duration,o=i/r,a=r/i;t.warp(1,o,e),this.warp(a,1,e)}return this},crossFadeTo:function(t,e,n){return t.crossFadeFrom(this,e,n)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,l=o.sampleValues;return s[0]=i,s[1]=i+n,l[0]=t/a,l[1]=e/a,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,n,r){var i=this._startTime;if(null!==i){var o=(t-i)*n;if(o<0||0===n)return;this._startTime=null,e=n*o}e*=this._updateTimeScale(t);var a=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var l=this._interpolants,u=this._propertyBindings,c=0,h=l.length;c!==h;++c)l[c].evaluate(a),u[c].accumulate(r,s)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(t)[0];e*=r,t>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t;if(0===t)return e;var n=this._clip.duration,r=this.loop,i=this._loopCount;if(2200===r){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=n)e=n;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:\"finished\",action:this,direction:t<0?-1:1})}}else{var o=2202===r;if(-1===i&&(t>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),e>=n||e<0){var a=Math.floor(e/n);e-=n*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?n:0,this._mixer.dispatchEvent({type:\"finished\",action:this,direction:t>0?1:-1});else{if(0===s){var l=t<0;this._setEndings(l,!l,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:\"loop\",action:this,loopDelta:a})}}if(o&&1==(1&i))return this.time=e,n-e}return this.time=e,e},_setEndings:function(t,e,n){var r=this._interpolantSettings;n?(r.endingStart=2401,r.endingEnd=2401):(r.endingStart=t?this.zeroSlopeAtStart?2401:te:2402,r.endingEnd=e?this.zeroSlopeAtEnd?2401:te:2402)},_scheduleFading:function(t,e,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=e,a[1]=i+t,s[1]=n,this}},Za.prototype={constructor:Za,clipAction:function(t,e){var n=e||this._root,r=n.uuid,i=\"string\"==typeof t?na.findByName(n,t):t,o=null!==i?i.uuid:t,a=this._actionsByClip[o],s=null;if(void 0!==a){var l=a.actionByRoot[r];if(void 0!==l)return l;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var u=new Ka(this,i,e);return this._bindAction(u,s),this._addInactiveAction(u,o,r),u},existingAction:function(t,e){var n=e||this._root,r=n.uuid,i=\"string\"==typeof t?na.findByName(n,t):t,o=i?i.uuid:t,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[r]||null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==e;++i)t[i].reset();for(i=0;i!==r;++i)n[i].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,n=this._nActiveActions,r=this.time+=t,i=Math.sign(t),o=this._accuIndex^=1,a=0;a!==n;++a){var s=e[a];s.enabled&&s._update(r,t,i,o)}var l=this._bindings,u=this._nActiveBindings;for(a=0;a!==u;++a)l[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var l=o[a];this._deactivateAction(l);var u=l._cacheIndex,c=e[e.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,c._cacheIndex=u,e[u]=c,e.pop(),this._removeInactiveBindingsForAction(l)}delete r[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[e];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var o=this._bindingsByRootAndName[e];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}},Object.assign(Za.prototype,{_bindAction:function(t,e){var n=t._localRoot||this._root,r=t._clip.tracks,i=r.length,o=t._propertyBindings,a=t._interpolants,s=n.uuid,l=this._bindingsByRootAndName,u=l[s];void 0===u&&(u={},l[s]=u);for(var c=0;c!==i;++c){var h=r[c],p=h.name,d=u[p];if(void 0!==d)o[c]=d;else{if(void 0!==(d=o[c])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,p));continue}var f=e&&e._propertyBindings[c].binding.parsedPath;++(d=new qa(Xa.create(n,p,f),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(d,s,p),o[c]=d}a[c].resultBuffer=d.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,r=this._actionsByClip[n];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,n,e)}for(var i=t._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var r=this._actions,i=this._actionsByClip,o=i[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,i[e]=o;else{var a=o.knownActions;t._byClipCacheIndex=a.length,a.push(t)}t._cacheIndex=r.length,r.push(t),o.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],r=t._cacheIndex;n._cacheIndex=r,e[r]=n,e.pop(),t._cacheIndex=null;var i=t._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,l=s[s.length-1],u=t._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),t._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,r=this._nActiveActions++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,r=--this._nActiveActions,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_addInactiveBinding:function(t,e,n){var r=this._bindingsByRootAndName,i=r[e],o=this._bindings;void 0===i&&(i={},r[e]=i),i[n]=t,t._cacheIndex=o.length,o.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=e[e.length-1],l=t._cacheIndex;s._cacheIndex=l,e[l]=s,e.pop(),delete a[i];t:{for(var u in a)break t;delete o[r]}},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=this._nActiveBindings++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=--this._nActiveBindings,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&((n=new Ho(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,r=--this._nActiveControlInterpolants,i=e[r];t.__cacheIndex=r,e[r]=t,i.__cacheIndex=n,e[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1)}),Object.assign(Za.prototype,r.prototype),Qa.prototype.clone=function(){return new Qa(void 0===this.value.clone?this.value:this.value.clone())},Ja.prototype=Object.create(Mr.prototype),Ja.prototype.constructor=Ja,Ja.prototype.isInstancedBufferGeometry=!0,Ja.prototype.addGroup=function(t,e,n){this.groups.push({start:t,count:e,materialIndex:n})},Ja.prototype.copy=function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var n=t.attributes;for(var r in n){var i=n[r];this.addAttribute(r,i.clone())}for(var o=t.groups,a=0,s=o.length;a<s;a++){var l=o[a];this.addGroup(l.start,l.count,l.materialIndex)}return this},$a.prototype={constructor:$a,isInterleavedBufferAttribute:!0,get count(){return this.data.count},get array(){return this.data.array},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=i,this}},ts.prototype={constructor:ts,isInterleavedBuffer:!0,set needsUpdate(t){!0===t&&this.version++},setArray:function(t){if(Array.isArray(t))throw new TypeError(\"THREE.BufferAttribute: array should be a Typed Array.\");this.count=void 0!==t?t.length/this.stride:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var r=0,i=this.stride;r<i;r++)this.array[t+r]=e.array[n+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}},es.prototype=Object.create(ts.prototype),es.prototype.constructor=es,es.prototype.isInstancedInterleavedBuffer=!0,es.prototype.copy=function(t){return ts.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},ns.prototype=Object.create(sr.prototype),ns.prototype.constructor=ns,ns.prototype.isInstancedBufferAttribute=!0,ns.prototype.copy=function(t){return sr.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},rs.prototype={constructor:rs,linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error(\"THREE.Raycaster: Unsupported camera type.\")},intersectObject:function(t,e){var n=[];return os(t,this,n,e),n.sort(is),n},intersectObjects:function(t,e){var n=[];if(!1===Array.isArray(t))return console.warn(\"THREE.Raycaster.intersectObjects: objects is not an Array.\"),n;for(var r=0,i=t.length;r<i;r++)os(t[r],this,n,e);return n.sort(is),n}},as.prototype={constructor:as,start:function(){this.startTime=(performance||Date).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running&&this.start(),this.running){var e=(performance||Date).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}},ss.prototype={constructor:ss,set:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos(de.clamp(t.y/this.radius,-1,1))),this}},ls.prototype={constructor:ls,set:function(t,e,n){return this.radius=t,this.theta=e,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.radius=Math.sqrt(t.x*t.x+t.z*t.z),this.theta=Math.atan2(t.x,t.z),this.y=t.y,this}},us.prototype=Object.create(Er.prototype),us.prototype.constructor=us,us.prototype.createAnimation=function(t,e,n,r){var i={start:e,end:n,length:n-e+1,fps:r,duration:(n-e)/r,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[t]=i,this.animationsList.push(i)},us.prototype.autoCreateAnimations=function(t){for(var e,n=/([a-z]+)_?(\\d+)/i,r={},i=this.geometry,o=0,a=i.morphTargets.length;o<a;o++){var s=i.morphTargets[o].name.match(n);if(s&&s.length>1)r[l=s[1]]||(r[l]={start:1/0,end:-1/0}),o<(u=r[l]).start&&(u.start=o),o>u.end&&(u.end=o),e||(e=l)}for(var l in r){var u=r[l];this.createAnimation(l,u.start,u.end,t)}this.firstAnimation=e},us.prototype.setAnimationDirectionForward=function(t){var e=this.animationsMap[t];e&&(e.direction=1,e.directionBackwards=!1)},us.prototype.setAnimationDirectionBackward=function(t){var e=this.animationsMap[t];e&&(e.direction=-1,e.directionBackwards=!0)},us.prototype.setAnimationFPS=function(t,e){var n=this.animationsMap[t];n&&(n.fps=e,n.duration=(n.end-n.start)/n.fps)},us.prototype.setAnimationDuration=function(t,e){var n=this.animationsMap[t];n&&(n.duration=e,n.fps=(n.end-n.start)/n.duration)},us.prototype.setAnimationWeight=function(t,e){var n=this.animationsMap[t];n&&(n.weight=e)},us.prototype.setAnimationTime=function(t,e){var n=this.animationsMap[t];n&&(n.time=e)},us.prototype.getAnimationTime=function(t){var e=0,n=this.animationsMap[t];return n&&(e=n.time),e},us.prototype.getAnimationDuration=function(t){var e=-1,n=this.animationsMap[t];return n&&(e=n.duration),e},us.prototype.playAnimation=function(t){var e=this.animationsMap[t];e?(e.time=0,e.active=!0):console.warn(\"THREE.MorphBlendMesh: animation[\"+t+\"] undefined in .playAnimation()\")},us.prototype.stopAnimation=function(t){var e=this.animationsMap[t];e&&(e.active=!1)},us.prototype.update=function(t){for(var e=0,n=this.animationsList.length;e<n;e++){var r=this.animationsList[e];if(r.active){var i=r.duration/r.length;r.time+=r.direction*t,r.mirroredLoop?(r.time>r.duration||r.time<0)&&(r.direction*=-1,r.time>r.duration&&(r.time=r.duration,r.directionBackwards=!0),r.time<0&&(r.time=0,r.directionBackwards=!1)):(r.time=r.time%r.duration,r.time<0&&(r.time+=r.duration));var o=r.start+de.clamp(Math.floor(r.time/i),0,r.length-1),a=r.weight;o!==r.currentFrame&&(this.morphTargetInfluences[r.lastFrame]=0,this.morphTargetInfluences[r.currentFrame]=1*a,this.morphTargetInfluences[o]=0,r.lastFrame=r.currentFrame,r.currentFrame=o);var s=r.time%i/i;r.directionBackwards&&(s=1-s),r.currentFrame!==r.lastFrame?(this.morphTargetInfluences[r.currentFrame]=s*a,this.morphTargetInfluences[r.lastFrame]=(1-s)*a):this.morphTargetInfluences[r.currentFrame]=a}}},cs.prototype=Object.create(nr.prototype),cs.prototype.constructor=cs,cs.prototype.isImmediateRenderObject=!0,hs.prototype=Object.create(mi.prototype),hs.prototype.constructor=hs,hs.prototype.update=function(){var t=new Ce,e=new Ce,n=new jn;return function(){var r=[\"a\",\"b\",\"c\"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry;if(a&&a.isGeometry)for(var s=a.vertices,l=a.faces,u=0,c=0,h=l.length;c<h;c++)for(var p=l[c],d=0,f=p.vertexNormals.length;d<f;d++){var m=s[p[r[d]]],v=p.vertexNormals[d];t.copy(m).applyMatrix4(i),e.copy(v).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),o.setXYZ(u,t.x,t.y,t.z),u+=1,o.setXYZ(u,e.x,e.y,e.z),u+=1}else if(a&&a.isBufferGeometry){var g=a.attributes.position,y=a.attributes.normal;for(u=0,d=0,f=g.count;d<f;d++)t.set(g.getX(d),g.getY(d),g.getZ(d)).applyMatrix4(i),e.set(y.getX(d),y.getY(d),y.getZ(d)),e.applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),o.setXYZ(u,t.x,t.y,t.z),u+=1,o.setXYZ(u,e.x,e.y,e.z),u+=1}return o.needsUpdate=!0,this}}(),ps.prototype=Object.create(nr.prototype),ps.prototype.constructor=ps,ps.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},ps.prototype.update=(Oa=new Ce,Ia=new Ce,function(){var t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),Oa.setFromMatrixPosition(this.light.matrixWorld),Ia.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Ia.sub(Oa)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}),ds.prototype=Object.create(mi.prototype),ds.prototype.constructor=ds,ds.prototype.getBoneList=function(t){var e=[];t&&t.isBone&&e.push(t);for(var n=0;n<t.children.length;n++)e.push.apply(e,this.getBoneList(t.children[n]));return e},ds.prototype.update=function(){var t=new Ce,e=new Ae,n=new Ae;return function(){var r=this.geometry,i=r.getAttribute(\"position\");n.getInverse(this.root.matrixWorld);for(var o=0,a=0;o<this.bones.length;o++){var s=this.bones[o];s.parent&&s.parent.isBone&&(e.multiplyMatrices(n,s.matrixWorld),t.setFromMatrixPosition(e),i.setXYZ(a,t.x,t.y,t.z),e.multiplyMatrices(n,s.parent.matrixWorld),t.setFromMatrixPosition(e),i.setXYZ(a+1,t.x,t.y,t.z),a+=2)}r.getAttribute(\"position\").needsUpdate=!0}}(),fs.prototype=Object.create(Er.prototype),fs.prototype.constructor=fs,fs.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},fs.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},ms.prototype=Object.create(nr.prototype),ms.prototype.constructor=ms,ms.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose(),this.children[1].geometry.dispose(),this.children[1].material.dispose()},ms.prototype.update=function(){var t=new Ce,e=new Ce;return function(){var n=this.children[0],r=this.children[1];if(this.light.target){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld);var i=e.clone().sub(t);n.lookAt(i),r.lookAt(i)}n.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),r.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var o=.5*this.light.width,a=.5*this.light.height,s=n.geometry.getAttribute(\"position\"),l=s.array;l[0]=o,l[1]=-a,l[2]=0,l[3]=o,l[4]=a,l[5]=0,l[6]=-o,l[7]=a,l[8]=0,l[9]=-o,l[10]=a,l[11]=0,l[12]=-o,l[13]=-a,l[14]=0,l[15]=o,l[16]=-a,l[17]=0,s.needsUpdate=!0}}(),vs.prototype=Object.create(nr.prototype),vs.prototype.constructor=vs,vs.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},vs.prototype.update=function(){var t=new Ce,e=new vn,n=new vn;return function(){var r=this.children[0],i=r.geometry.getAttribute(\"color\");e.copy(this.light.color).multiplyScalar(this.light.intensity),n.copy(this.light.groundColor).multiplyScalar(this.light.intensity);for(var o=0,a=i.count;o<a;o++){var s=o<a/2?e:n;i.setXYZ(o,s.r,s.g,s.b)}r.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate()),i.needsUpdate=!0}}(),gs.prototype=Object.create(mi.prototype),gs.prototype.constructor=gs,ys.prototype=Object.create(mi.prototype),ys.prototype.constructor=ys,bs.prototype=Object.create(mi.prototype),bs.prototype.constructor=bs,bs.prototype.update=function(){var t=new Ce,e=new Ce,n=new jn;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,i=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,l=0,u=0,c=s.length;u<c;u++){var h=s[u],p=h.normal;t.copy(a[h.a]).add(a[h.b]).add(a[h.c]).divideScalar(3).applyMatrix4(r),e.copy(p).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),i.setXYZ(l,t.x,t.y,t.z),l+=1,i.setXYZ(l,e.x,e.y,e.z),l+=1}return i.needsUpdate=!0,this}}(),xs.prototype=Object.create(nr.prototype),xs.prototype.constructor=xs,xs.prototype.dispose=function(){var t=this.children[0],e=this.children[1];t.geometry.dispose(),t.material.dispose(),e.geometry.dispose(),e.material.dispose()},xs.prototype.update=function(){var t=new Ce,e=new Ce,n=new Ce;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(e,t);var r=this.children[0],i=this.children[1];r.lookAt(n),r.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),i.lookAt(n),i.scale.z=n.length()}}(),ws.prototype=Object.create(mi.prototype),ws.prototype.constructor=ws,ws.prototype.update=function(){var t,e,n=new Ce,r=new Pr;function i(i,o,a,s){n.set(o,a,s).unproject(r);var l=e[i];if(void 0!==l)for(var u=t.getAttribute(\"position\"),c=0,h=l.length;c<h;c++)u.setXYZ(l[c],n.x,n.y,n.z)}return function(){t=this.geometry,e=this.pointMap;r.projectionMatrix.copy(this.camera.projectionMatrix),i(\"c\",0,0,-1),i(\"t\",0,0,1),i(\"n1\",-1,-1,-1),i(\"n2\",1,-1,-1),i(\"n3\",-1,1,-1),i(\"n4\",1,1,-1),i(\"f1\",-1,-1,1),i(\"f2\",1,-1,1),i(\"f3\",-1,1,1),i(\"f4\",1,1,1),i(\"u1\",.7,1.1,-1),i(\"u2\",-.7,1.1,-1),i(\"u3\",0,2,-1),i(\"cf1\",-1,0,1),i(\"cf2\",1,0,1),i(\"cf3\",0,-1,1),i(\"cf4\",0,1,1),i(\"cn1\",-1,0,-1),i(\"cn2\",1,0,-1),i(\"cn3\",0,-1,-1),i(\"cn4\",0,1,-1),t.getAttribute(\"position\").needsUpdate=!0}}(),_s.prototype=Object.create(mi.prototype),_s.prototype.constructor=_s,_s.prototype.update=function(){var t=new Un;return function(e){if(e&&e.isBox3?t.copy(e):t.setFromObject(e),!t.isEmpty()){var n=t.min,r=t.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Ms.prototype=Object.create(nr.prototype),Ms.prototype.constructor=Ms,Ms.prototype.setDirection=(Fa=new Ce,function(t){t.y>.99999?this.quaternion.set(0,0,0,1):t.y<-.99999?this.quaternion.set(1,0,0,0):(Fa.set(t.z,0,-t.x).normalize(),Da=Math.acos(t.y),this.quaternion.setFromAxisAngle(Fa,Da))}),Ms.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},Ms.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},Es.prototype=Object.create(mi.prototype),Es.prototype.constructor=Es;var Ts=new Ce,Cs=new Ss,As=new Ss,Ps=new Ss;function Rs(t){this.points=t||[],this.closed=!1}function Ls(t,e,n,r){this.v0=t,this.v1=e,this.v2=n,this.v3=r}function Os(t,e,n){this.v0=t,this.v1=e,this.v2=n}function Is(t,e){this.v1=t,this.v2=e}function Ns(t,e,n,r,i,o){da.call(this,t,e,n,n,r,i,o)}Rs.prototype=Object.create(ca.prototype),Rs.prototype.constructor=Rs,Rs.prototype.getPoint=function(t){var e=this.points,n=e.length;n<2&&console.log(\"duh, you need at least 2 points\");var r,i,o,a,s=(n-(this.closed?0:1))*t,l=Math.floor(s),u=s-l;if(this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/e.length)+1)*e.length:0===u&&l===n-1&&(l=n-2,u=1),this.closed||l>0?r=e[(l-1)%n]:(Ts.subVectors(e[0],e[1]).add(e[0]),r=Ts),i=e[l%n],o=e[(l+1)%n],this.closed||l+2<n?a=e[(l+2)%n]:(Ts.subVectors(e[n-1],e[n-2]).add(e[n-1]),a=Ts),void 0===this.type||\"centripetal\"===this.type||\"chordal\"===this.type){var c=\"chordal\"===this.type?.5:.25,h=Math.pow(r.distanceToSquared(i),c),p=Math.pow(i.distanceToSquared(o),c),d=Math.pow(o.distanceToSquared(a),c);p<1e-4&&(p=1),h<1e-4&&(h=p),d<1e-4&&(d=p),Cs.initNonuniformCatmullRom(r.x,i.x,o.x,a.x,h,p,d),As.initNonuniformCatmullRom(r.y,i.y,o.y,a.y,h,p,d),Ps.initNonuniformCatmullRom(r.z,i.z,o.z,a.z,h,p,d)}else if(\"catmullrom\"===this.type){var f=void 0!==this.tension?this.tension:.5;Cs.initCatmullRom(r.x,i.x,o.x,a.x,f),As.initCatmullRom(r.y,i.y,o.y,a.y,f),Ps.initCatmullRom(r.z,i.z,o.z,a.z,f)}return new Ce(Cs.calc(u),As.calc(u),Ps.calc(u))},Ls.prototype=Object.create(ca.prototype),Ls.prototype.constructor=Ls,Ls.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2,i=this.v3;return new Ce(ua(t,e.x,n.x,r.x,i.x),ua(t,e.y,n.y,r.y,i.y),ua(t,e.z,n.z,r.z,i.z))},Os.prototype=Object.create(ca.prototype),Os.prototype.constructor=Os,Os.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2;return new Ce(la(t,e.x,n.x,r.x),la(t,e.y,n.y,r.y),la(t,e.z,n.z,r.z))},Is.prototype=Object.create(ca.prototype),Is.prototype.constructor=Is,Is.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=new Ce;return e.subVectors(this.v2,this.v1),e.multiplyScalar(t),e.add(this.v1),e},Ns.prototype=Object.create(da.prototype),Ns.prototype.constructor=Ns;function ks(t){console.warn(\"THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.\"),Rs.call(this,t),this.type=\"catmullrom\"}ca.create=function(t,e){return console.log(\"THREE.Curve.create() has been deprecated\"),t.prototype=Object.create(ca.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.create(Rs.prototype),Object.create(Rs.prototype),ks.prototype=Object.create(Rs.prototype),Object.assign(ks.prototype,{initFromArray:function(t){console.error(\"THREE.Spline: .initFromArray() has been removed.\")},getControlPointsArray:function(t){console.error(\"THREE.Spline: .getControlPointsArray() has been removed.\")},reparametrizeByArcLength:function(t){console.error(\"THREE.Spline: .reparametrizeByArcLength() has been removed.\")}}),gs.prototype.setColors=function(){console.error(\"THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.\")},Object.assign(wn.prototype,{center:function(t){return console.warn(\"THREE.Box2: .center() has been renamed to .getCenter().\"),this.getCenter(t)},empty:function(){return console.warn(\"THREE.Box2: .empty() has been renamed to .isEmpty().\"),this.isEmpty()},isIntersectionBox:function(t){return console.warn(\"THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().\"),this.intersectsBox(t)},size:function(t){return console.warn(\"THREE.Box2: .size() has been renamed to .getSize().\"),this.getSize(t)}}),Object.assign(Un.prototype,{center:function(t){return console.warn(\"THREE.Box3: .center() has been renamed to .getCenter().\"),this.getCenter(t)},empty:function(){return console.warn(\"THREE.Box3: .empty() has been renamed to .isEmpty().\"),this.isEmpty()},isIntersectionBox:function(t){return console.warn(\"THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().\"),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn(\"THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().\"),this.intersectsSphere(t)},size:function(t){return console.warn(\"THREE.Box3: .size() has been renamed to .getSize().\"),this.getSize(t)}}),rr.prototype.center=function(t){return console.warn(\"THREE.Line3: .center() has been renamed to .getCenter().\"),this.getCenter(t)},de.random16=function(){return console.warn(\"THREE.Math.random16() has been deprecated. Use Math.random() instead.\"),Math.random()},Object.assign(jn.prototype,{flattenToArrayOffset:function(t,e){return console.warn(\"THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\"),this.toArray(t,e)},multiplyVector3:function(t){return console.warn(\"THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.\"),t.applyMatrix3(this)},multiplyVector3Array:function(t){return console.warn(\"THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.\"),this.applyToVector3Array(t)},applyToBuffer:function(t,e,n){return console.warn(\"THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.\"),this.applyToBufferAttribute(t)},applyToVector3Array:function(t,e,n){console.error(\"THREE.Matrix3: .applyToVector3Array() has been removed.\")}}),Object.assign(Ae.prototype,{extractPosition:function(t){return console.warn(\"THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().\"),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn(\"THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\"),this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new Ce),console.warn(\"THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.\"),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return console.warn(\"THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().\"),this.makeRotationFromQuaternion(t)},multiplyVector3:function(t){return console.warn(\"THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.\"),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn(\"THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.\"),t.applyMatrix4(this)},multiplyVector3Array:function(t){return console.warn(\"THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.\"),this.applyToVector3Array(t)},rotateAxis:function(t){console.warn(\"THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.\"),t.transformDirection(this)},crossVector:function(t){return console.warn(\"THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.\"),t.applyMatrix4(this)},translate:function(){console.error(\"THREE.Matrix4: .translate() has been removed.\")},rotateX:function(){console.error(\"THREE.Matrix4: .rotateX() has been removed.\")},rotateY:function(){console.error(\"THREE.Matrix4: .rotateY() has been removed.\")},rotateZ:function(){console.error(\"THREE.Matrix4: .rotateZ() has been removed.\")},rotateByAxis:function(){console.error(\"THREE.Matrix4: .rotateByAxis() has been removed.\")},applyToBuffer:function(t,e,n){return console.warn(\"THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.\"),this.applyToBufferAttribute(t)},applyToVector3Array:function(t,e,n){console.error(\"THREE.Matrix4: .applyToVector3Array() has been removed.\")},makeFrustum:function(t,e,n,r,i,o){return console.warn(\"THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.\"),this.makePerspective(t,e,r,n,i,o)}}),Vn.prototype.isIntersectionLine=function(t){return console.warn(\"THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().\"),this.intersectsLine(t)},Te.prototype.multiplyVector3=function(t){return console.warn(\"THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.\"),t.applyQuaternion(this)},Object.assign(Hn.prototype,{isIntersectionBox:function(t){return console.warn(\"THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().\"),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn(\"THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().\"),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn(\"THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().\"),this.intersectsSphere(t)}}),Object.assign(xa.prototype,{extrude:function(t){return console.warn(\"THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.\"),new Wi(this,t)},makeGeometry:function(t){return console.warn(\"THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.\"),new Qi(this,t)}}),Object.assign(fe.prototype,{fromAttribute:function(t,e,n){return console.error(\"THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().\"),this.fromBufferAttribute(t,e,n)}}),Object.assign(Ce.prototype,{setEulerFromRotationMatrix:function(){console.error(\"THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.\")},setEulerFromQuaternion:function(){console.error(\"THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.\")},getPositionFromMatrix:function(t){return console.warn(\"THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().\"),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn(\"THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().\"),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn(\"THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().\"),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn(\"THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.\"),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.error(\"THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().\"),this.fromBufferAttribute(t,e,n)}}),Object.assign(Me.prototype,{fromAttribute:function(t,e,n){return console.error(\"THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().\"),this.fromBufferAttribute(t,e,n)}}),_r.prototype.computeTangents=function(){console.warn(\"THREE.Geometry: .computeTangents() has been removed.\")},Object.assign(nr.prototype,{getChildByName:function(t){return console.warn(\"THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().\"),this.getObjectByName(t)},renderDepth:function(){console.warn(\"THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.\")},translate:function(t,e){return console.warn(\"THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.\"),this.translateOnAxis(e,t)}}),Object.defineProperties(nr.prototype,{eulerOrder:{get:function(){return console.warn(\"THREE.Object3D: .eulerOrder is now .rotation.order.\"),this.rotation.order},set:function(t){console.warn(\"THREE.Object3D: .eulerOrder is now .rotation.order.\"),this.rotation.order=t}},useQuaternion:{get:function(){console.warn(\"THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.\")},set:function(){console.warn(\"THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.\")}}}),Object.defineProperties(ui.prototype,{objects:{get:function(){return console.warn(\"THREE.LOD: .objects has been renamed to .levels.\"),this.levels}}}),Rr.prototype.setLens=function(t,e){console.warn(\"THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.\"),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(Ao.prototype,{onlyShadow:{set:function(){console.warn(\"THREE.Light: .onlyShadow has been removed.\")}},shadowCameraFov:{set:function(t){console.warn(\"THREE.Light: .shadowCameraFov is now .shadow.camera.fov.\"),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn(\"THREE.Light: .shadowCameraLeft is now .shadow.camera.left.\"),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn(\"THREE.Light: .shadowCameraRight is now .shadow.camera.right.\"),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn(\"THREE.Light: .shadowCameraTop is now .shadow.camera.top.\"),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn(\"THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.\"),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn(\"THREE.Light: .shadowCameraNear is now .shadow.camera.near.\"),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn(\"THREE.Light: .shadowCameraFar is now .shadow.camera.far.\"),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn(\"THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.\")}},shadowBias:{set:function(t){console.warn(\"THREE.Light: .shadowBias is now .shadow.bias.\"),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn(\"THREE.Light: .shadowDarkness has been removed.\")}},shadowMapWidth:{set:function(t){console.warn(\"THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.\"),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn(\"THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.\"),this.shadow.mapSize.height=t}}}),Object.defineProperties(sr.prototype,{length:{get:function(){return console.warn(\"THREE.BufferAttribute: .length has been deprecated. Use .count instead.\"),this.array.length}}}),Object.assign(Mr.prototype,{addIndex:function(t){console.warn(\"THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().\"),this.setIndex(t)},addDrawCall:function(t,e,n){void 0!==n&&console.warn(\"THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.\"),console.warn(\"THREE.BufferGeometry: .addDrawCall() is now .addGroup().\"),this.addGroup(t,e)},clearDrawCalls:function(){console.warn(\"THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().\"),this.clearGroups()},computeTangents:function(){console.warn(\"THREE.BufferGeometry: .computeTangents() has been removed.\")},computeOffsets:function(){console.warn(\"THREE.BufferGeometry: .computeOffsets() has been removed.\")}}),Object.defineProperties(Mr.prototype,{drawcalls:{get:function(){return console.error(\"THREE.BufferGeometry: .drawcalls has been renamed to .groups.\"),this.groups}},offsets:{get:function(){return console.warn(\"THREE.BufferGeometry: .offsets has been renamed to .groups.\"),this.groups}}}),Object.defineProperties(Qa.prototype,{dynamic:{set:function(){console.warn(\"THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.\")}},onUpdate:{value:function(){return console.warn(\"THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.\"),this}}}),Object.defineProperties(Dn.prototype,{wrapAround:{get:function(){console.warn(\"THREE.\"+this.type+\": .wrapAround has been removed.\")},set:function(){console.warn(\"THREE.\"+this.type+\": .wrapAround has been removed.\")}},wrapRGB:{get:function(){return console.warn(\"THREE.\"+this.type+\": .wrapRGB has been removed.\"),new vn}}}),Object.defineProperties(po.prototype,{metal:{get:function(){return console.warn(\"THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.\"),!1},set:function(){console.warn(\"THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead\")}}}),Object.defineProperties(Fn.prototype,{derivatives:{get:function(){return console.warn(\"THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.\"),this.extensions.derivatives},set:function(t){console.warn(\"THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.\"),this.extensions.derivatives=t}}}),Object.assign(ni.prototype,{supportsFloatTextures:function(){return console.warn(\"THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).\"),this.extensions.get(\"OES_texture_float\")},supportsHalfFloatTextures:function(){return console.warn(\"THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).\"),this.extensions.get(\"OES_texture_half_float\")},supportsStandardDerivatives:function(){return console.warn(\"THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).\"),this.extensions.get(\"OES_standard_derivatives\")},supportsCompressedTextureS3TC:function(){return console.warn(\"THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).\"),this.extensions.get(\"WEBGL_compressed_texture_s3tc\")},supportsCompressedTexturePVRTC:function(){return console.warn(\"THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).\"),this.extensions.get(\"WEBGL_compressed_texture_pvrtc\")},supportsBlendMinMax:function(){return console.warn(\"THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).\"),this.extensions.get(\"EXT_blend_minmax\")},supportsVertexTextures:function(){return console.warn(\"THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.\"),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn(\"THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).\"),this.extensions.get(\"ANGLE_instanced_arrays\")},enableScissorTest:function(t){console.warn(\"THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().\"),this.setScissorTest(t)},initMaterial:function(){console.warn(\"THREE.WebGLRenderer: .initMaterial() has been removed.\")},addPrePlugin:function(){console.warn(\"THREE.WebGLRenderer: .addPrePlugin() has been removed.\")},addPostPlugin:function(){console.warn(\"THREE.WebGLRenderer: .addPostPlugin() has been removed.\")},updateShadowMap:function(){console.warn(\"THREE.WebGLRenderer: .updateShadowMap() has been removed.\")}}),Object.defineProperties(ni.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn(\"THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.\"),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn(\"THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.\"),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(t){console.warn(\"THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.\"),this.shadowMap.cullFace=t}}}),Object.defineProperties(Gn.prototype,{cullFace:{get:function(){return this.renderReverseSided?d:p},set:function(t){var e=t!==p;console.warn(\"WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to \"+e+\".\"),this.renderReverseSided=e}}}),Object.defineProperties(Ee.prototype,{wrapS:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.\"),this.texture.wrapS},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.\"),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.\"),this.texture.wrapT},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.\"),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.\"),this.texture.magFilter},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.\"),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.\"),this.texture.minFilter},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.\"),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.\"),this.texture.anisotropy},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.\"),this.texture.anisotropy=t}},offset:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .offset is now .texture.offset.\"),this.texture.offset},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .offset is now .texture.offset.\"),this.texture.offset=t}},repeat:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .repeat is now .texture.repeat.\"),this.texture.repeat},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .repeat is now .texture.repeat.\"),this.texture.repeat=t}},format:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .format is now .texture.format.\"),this.texture.format},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .format is now .texture.format.\"),this.texture.format=t}},type:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .type is now .texture.type.\"),this.texture.type},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .type is now .texture.type.\"),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.\"),this.texture.generateMipmaps},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.\"),this.texture.generateMipmaps=t}}}),Wa.prototype.load=function(t){console.warn(\"THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.\");var e=this;return(new Ua).load(t,(function(t){e.setBuffer(t)})),this},Ha.prototype.getData=function(){return console.warn(\"THREE.AudioAnalyser: .getData() is now .getFrequencyData().\"),this.getFrequencyData()};function Ds(){console.error(\"THREE.Projector has been moved to /examples/js/renderers/Projector.js.\"),this.projectVector=function(t,e){console.warn(\"THREE.Projector: .projectVector() is now vector.project().\"),t.project(e)},this.unprojectVector=function(t,e){console.warn(\"THREE.Projector: .unprojectVector() is now vector.unproject().\"),t.unproject(e)},this.pickingRay=function(){console.error(\"THREE.Projector: .pickingRay() is now raycaster.setFromCamera().\")}}},function(t,e,n){\"use strict\";t.exports=n(36)},function(t,e,n){\"use strict\";var r=function(t){};t.exports=function(t,e,n,i,o,a,s,l){if(r(e),!t){var u;if(void 0===e)u=new Error(\"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.\");else{var c=[n,i,o,a,s,l],h=0;(u=new Error(e.replace(/%s/g,(function(){return c[h++]})))).name=\"Invariant Violation\"}throw u.framesToPop=1,u}}},function(t,e,n){var r;t.exports=function t(e,n,i){function o(s,l){if(!n[s]){if(!e[s]){if(!l&&\"function\"==typeof r&&r)return r(s,!0);if(a)return a(s,!0);throw new Error(\"Cannot find module '\"+s+\"'\")}var u=n[s]={exports:{}};e[s][0].call(u.exports,(function(t){var n=e[s][1][t];return o(n||t)}),u,u.exports,t,e,n,i)}return n[s].exports}for(var a=\"function\"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){e.exports={name:\"cannon\",version:\"0.6.2\",description:\"A lightweight 3D physics engine written in JavaScript.\",homepage:\"https://github.com/schteppe/cannon.js\",author:\"Stefan Hedman <schteppe@gmail.com> (http://steffe.se)\",keywords:[\"cannon.js\",\"cannon\",\"physics\",\"engine\",\"3d\"],main:\"./build/cannon.js\",engines:{node:\"*\"},repository:{type:\"git\",url:\"https://github.com/schteppe/cannon.js.git\"},bugs:{url:\"https://github.com/schteppe/cannon.js/issues\"},licenses:[{type:\"MIT\"}],devDependencies:{jshint:\"latest\",\"uglify-js\":\"latest\",nodeunit:\"^0.9.0\",grunt:\"~0.4.0\",\"grunt-contrib-jshint\":\"~0.1.1\",\"grunt-contrib-nodeunit\":\"^0.4.1\",\"grunt-contrib-concat\":\"~0.1.3\",\"grunt-contrib-uglify\":\"^0.5.1\",\"grunt-browserify\":\"^2.1.4\",\"grunt-contrib-yuidoc\":\"^0.5.2\",browserify:\"*\"},dependencies:{}}},{}],2:[function(t,e,n){e.exports={version:t(\"../package.json\").version,AABB:t(\"./collision/AABB\"),ArrayCollisionMatrix:t(\"./collision/ArrayCollisionMatrix\"),Body:t(\"./objects/Body\"),Box:t(\"./shapes/Box\"),Broadphase:t(\"./collision/Broadphase\"),Constraint:t(\"./constraints/Constraint\"),ContactEquation:t(\"./equations/ContactEquation\"),Narrowphase:t(\"./world/Narrowphase\"),ConeTwistConstraint:t(\"./constraints/ConeTwistConstraint\"),ContactMaterial:t(\"./material/ContactMaterial\"),ConvexPolyhedron:t(\"./shapes/ConvexPolyhedron\"),Cylinder:t(\"./shapes/Cylinder\"),DistanceConstraint:t(\"./constraints/DistanceConstraint\"),Equation:t(\"./equations/Equation\"),EventTarget:t(\"./utils/EventTarget\"),FrictionEquation:t(\"./equations/FrictionEquation\"),GSSolver:t(\"./solver/GSSolver\"),GridBroadphase:t(\"./collision/GridBroadphase\"),Heightfield:t(\"./shapes/Heightfield\"),HingeConstraint:t(\"./constraints/HingeConstraint\"),LockConstraint:t(\"./constraints/LockConstraint\"),Mat3:t(\"./math/Mat3\"),Material:t(\"./material/Material\"),NaiveBroadphase:t(\"./collision/NaiveBroadphase\"),ObjectCollisionMatrix:t(\"./collision/ObjectCollisionMatrix\"),Pool:t(\"./utils/Pool\"),Particle:t(\"./shapes/Particle\"),Plane:t(\"./shapes/Plane\"),PointToPointConstraint:t(\"./constraints/PointToPointConstraint\"),Quaternion:t(\"./math/Quaternion\"),Ray:t(\"./collision/Ray\"),RaycastVehicle:t(\"./objects/RaycastVehicle\"),RaycastResult:t(\"./collision/RaycastResult\"),RigidVehicle:t(\"./objects/RigidVehicle\"),RotationalEquation:t(\"./equations/RotationalEquation\"),RotationalMotorEquation:t(\"./equations/RotationalMotorEquation\"),SAPBroadphase:t(\"./collision/SAPBroadphase\"),SPHSystem:t(\"./objects/SPHSystem\"),Shape:t(\"./shapes/Shape\"),Solver:t(\"./solver/Solver\"),Sphere:t(\"./shapes/Sphere\"),SplitSolver:t(\"./solver/SplitSolver\"),Spring:t(\"./objects/Spring\"),Trimesh:t(\"./shapes/Trimesh\"),Vec3:t(\"./math/Vec3\"),Vec3Pool:t(\"./utils/Vec3Pool\"),World:t(\"./world/World\")}},{\"../package.json\":1,\"./collision/AABB\":3,\"./collision/ArrayCollisionMatrix\":4,\"./collision/Broadphase\":5,\"./collision/GridBroadphase\":6,\"./collision/NaiveBroadphase\":7,\"./collision/ObjectCollisionMatrix\":8,\"./collision/Ray\":9,\"./collision/RaycastResult\":10,\"./collision/SAPBroadphase\":11,\"./constraints/ConeTwistConstraint\":12,\"./constraints/Constraint\":13,\"./constraints/DistanceConstraint\":14,\"./constraints/HingeConstraint\":15,\"./constraints/LockConstraint\":16,\"./constraints/PointToPointConstraint\":17,\"./equations/ContactEquation\":19,\"./equations/Equation\":20,\"./equations/FrictionEquation\":21,\"./equations/RotationalEquation\":22,\"./equations/RotationalMotorEquation\":23,\"./material/ContactMaterial\":24,\"./material/Material\":25,\"./math/Mat3\":27,\"./math/Quaternion\":28,\"./math/Vec3\":30,\"./objects/Body\":31,\"./objects/RaycastVehicle\":32,\"./objects/RigidVehicle\":33,\"./objects/SPHSystem\":34,\"./objects/Spring\":35,\"./shapes/Box\":37,\"./shapes/ConvexPolyhedron\":38,\"./shapes/Cylinder\":39,\"./shapes/Heightfield\":40,\"./shapes/Particle\":41,\"./shapes/Plane\":42,\"./shapes/Shape\":43,\"./shapes/Sphere\":44,\"./shapes/Trimesh\":45,\"./solver/GSSolver\":46,\"./solver/Solver\":47,\"./solver/SplitSolver\":48,\"./utils/EventTarget\":49,\"./utils/Pool\":51,\"./utils/Vec3Pool\":54,\"./world/Narrowphase\":55,\"./world/World\":56}],3:[function(t,e,n){var r=t(\"../math/Vec3\");function i(t){t=t||{},this.lowerBound=new r,t.lowerBound&&this.lowerBound.copy(t.lowerBound),this.upperBound=new r,t.upperBound&&this.upperBound.copy(t.upperBound)}t(\"../utils/Utils\"),e.exports=i;var o=new r;i.prototype.setFromPoints=function(t,e,n,r){var i=this.lowerBound,a=this.upperBound,s=n;i.copy(t[0]),s&&s.vmult(i,i),a.copy(i);for(var l=1;l<t.length;l++){var u=t[l];s&&(s.vmult(u,o),u=o),u.x>a.x&&(a.x=u.x),u.x<i.x&&(i.x=u.x),u.y>a.y&&(a.y=u.y),u.y<i.y&&(i.y=u.y),u.z>a.z&&(a.z=u.z),u.z<i.z&&(i.z=u.z)}return e&&(e.vadd(i,i),e.vadd(a,a)),r&&(i.x-=r,i.y-=r,i.z-=r,a.x+=r,a.y+=r,a.z+=r),this},i.prototype.copy=function(t){return this.lowerBound.copy(t.lowerBound),this.upperBound.copy(t.upperBound),this},i.prototype.clone=function(){return(new i).copy(this)},i.prototype.extend=function(t){var e=t.lowerBound.x;this.lowerBound.x>e&&(this.lowerBound.x=e);var n=t.upperBound.x;this.upperBound.x<n&&(this.upperBound.x=n),e=t.lowerBound.y,this.lowerBound.y>e&&(this.lowerBound.y=e),n=t.upperBound.y,this.upperBound.y<n&&(this.upperBound.y=n),e=t.lowerBound.z,this.lowerBound.z>e&&(this.lowerBound.z=e),n=t.upperBound.z,this.upperBound.z<n&&(this.upperBound.z=n)},i.prototype.overlaps=function(t){var e=this.lowerBound,n=this.upperBound,r=t.lowerBound,i=t.upperBound;return(r.x<=n.x&&n.x<=i.x||e.x<=i.x&&i.x<=n.x)&&(r.y<=n.y&&n.y<=i.y||e.y<=i.y&&i.y<=n.y)&&(r.z<=n.z&&n.z<=i.z||e.z<=i.z&&i.z<=n.z)},i.prototype.contains=function(t){var e=this.lowerBound,n=this.upperBound,r=t.lowerBound,i=t.upperBound;return e.x<=r.x&&n.x>=i.x&&e.y<=r.y&&n.y>=i.y&&e.z<=r.z&&n.z>=i.z},i.prototype.getCorners=function(t,e,n,r,i,o,a,s){var l=this.lowerBound,u=this.upperBound;t.copy(l),e.set(u.x,l.y,l.z),n.set(u.x,u.y,l.z),r.set(l.x,u.y,u.z),i.set(u.x,l.y,l.z),o.set(l.x,u.y,l.z),a.set(l.x,l.y,u.z),s.copy(u)};var a=[new r,new r,new r,new r,new r,new r,new r,new r];i.prototype.toLocalFrame=function(t,e){var n=a,r=n[0],i=n[1],o=n[2],s=n[3],l=n[4],u=n[5],c=n[6],h=n[7];this.getCorners(r,i,o,s,l,u,c,h);for(var p=0;8!==p;p++){var d=n[p];t.pointToLocal(d,d)}return e.setFromPoints(n)},i.prototype.toWorldFrame=function(t,e){var n=a,r=n[0],i=n[1],o=n[2],s=n[3],l=n[4],u=n[5],c=n[6],h=n[7];this.getCorners(r,i,o,s,l,u,c,h);for(var p=0;8!==p;p++){var d=n[p];t.pointToWorld(d,d)}return e.setFromPoints(n)}},{\"../math/Vec3\":30,\"../utils/Utils\":53}],4:[function(t,e,n){function r(){this.matrix=[]}e.exports=r,r.prototype.get=function(t,e){if(t=t.index,(e=e.index)>t){var n=e;e=t,t=n}return this.matrix[(t*(t+1)>>1)+e-1]},r.prototype.set=function(t,e,n){if(t=t.index,(e=e.index)>t){var r=e;e=t,t=r}this.matrix[(t*(t+1)>>1)+e-1]=n?1:0},r.prototype.reset=function(){for(var t=0,e=this.matrix.length;t!==e;t++)this.matrix[t]=0},r.prototype.setNumObjects=function(t){this.matrix.length=t*(t-1)>>1}},{}],5:[function(t,e,n){var r=t(\"../objects/Body\"),i=t(\"../math/Vec3\"),o=t(\"../math/Quaternion\");function a(){this.world=null,this.useBoundingBoxes=!1,this.dirty=!0}t(\"../shapes/Shape\"),t(\"../shapes/Plane\"),e.exports=a,a.prototype.collisionPairs=function(t,e,n){throw new Error(\"collisionPairs not implemented for this BroadPhase class!\")};var s=r.STATIC|r.KINEMATIC;a.prototype.needBroadphaseCollision=function(t,e){return 0!=(t.collisionFilterGroup&e.collisionFilterMask)&&0!=(e.collisionFilterGroup&t.collisionFilterMask)&&(0==(t.type&s)&&t.sleepState!==r.SLEEPING||0==(e.type&s)&&e.sleepState!==r.SLEEPING)},a.prototype.intersectionTest=function(t,e,n,r){this.useBoundingBoxes?this.doBoundingBoxBroadphase(t,e,n,r):this.doBoundingSphereBroadphase(t,e,n,r)};var l=new i;new i,new o,new i,a.prototype.doBoundingSphereBroadphase=function(t,e,n,r){var i=l;e.position.vsub(t.position,i);var o=Math.pow(t.boundingRadius+e.boundingRadius,2);i.norm2()<o&&(n.push(t),r.push(e))},a.prototype.doBoundingBoxBroadphase=function(t,e,n,r){t.aabbNeedsUpdate&&t.computeAABB(),e.aabbNeedsUpdate&&e.computeAABB(),t.aabb.overlaps(e.aabb)&&(n.push(t),r.push(e))};var u={keys:[]},c=[],h=[];a.prototype.makePairsUnique=function(t,e){for(var n=u,r=c,i=h,o=t.length,a=0;a!==o;a++)r[a]=t[a],i[a]=e[a];for(t.length=0,e.length=0,a=0;a!==o;a++){var s=r[a].id,l=i[a].id;n[p=s<l?s+\",\"+l:l+\",\"+s]=a,n.keys.push(p)}for(a=0;a!==n.keys.length;a++){var p=n.keys.pop(),d=n[p];t.push(r[d]),e.push(i[d]),delete n[p]}},a.prototype.setWorld=function(t){};var p=new i;a.boundingSphereCheck=function(t,e){var n=p;return t.position.vsub(e.position,n),Math.pow(t.shape.boundingSphereRadius+e.shape.boundingSphereRadius,2)>n.norm2()},a.prototype.aabbQuery=function(t,e,n){return console.warn(\".aabbQuery is not implemented in this Broadphase subclass.\"),[]}},{\"../math/Quaternion\":28,\"../math/Vec3\":30,\"../objects/Body\":31,\"../shapes/Plane\":42,\"../shapes/Shape\":43}],6:[function(t,e,n){e.exports=a;var r=t(\"./Broadphase\"),i=t(\"../math/Vec3\"),o=t(\"../shapes/Shape\");function a(t,e,n,o,a){r.apply(this),this.nx=n||10,this.ny=o||10,this.nz=a||10,this.aabbMin=t||new i(100,100,100),this.aabbMax=e||new i(-100,-100,-100);var s=this.nx*this.ny*this.nz;if(s<=0)throw\"GridBroadphase: Each dimension's n must be >0\";this.bins=[],this.binLengths=[],this.bins.length=s,this.binLengths.length=s;for(var l=0;l<s;l++)this.bins[l]=[],this.binLengths[l]=0}a.prototype=new r,a.prototype.constructor=a;var s=new i;new i,a.prototype.collisionPairs=function(t,e,n){for(var r=t.numObjects(),i=t.bodies,a=this.aabbMax,l=this.aabbMin,u=this.nx,c=this.ny,h=this.nz,p=c*h,d=h,f=1,m=a.x,v=a.y,g=a.z,y=l.x,b=l.y,x=l.z,w=u/(m-y),_=c/(v-b),M=h/(g-x),E=(m-y)/u,S=(v-b)/c,T=(g-x)/h,C=.5*Math.sqrt(E*E+S*S+T*T),A=o.types,P=A.SPHERE,R=A.PLANE,L=(A.BOX,A.COMPOUND,A.CONVEXPOLYHEDRON,this.bins),O=this.binLengths,I=this.bins.length,N=0;N!==I;N++)O[N]=0;var k=Math.ceil;function D(t,e,n,r,i,o,a){var s=(t-y)*w|0,l=(e-b)*_|0,m=(n-x)*M|0,v=k((r-y)*w),g=k((i-b)*_),E=k((o-x)*M);s<0?s=0:s>=u&&(s=u-1),l<0?l=0:l>=c&&(l=c-1),m<0?m=0:m>=h&&(m=h-1),v<0?v=0:v>=u&&(v=u-1),g<0?g=0:g>=c&&(g=c-1),E<0?E=0:E>=h&&(E=h-1),l*=d,m*=f,v*=p,g*=d,E*=f;for(var S=s*=p;S<=v;S+=p)for(var T=l;T<=g;T+=d)for(var C=m;C<=E;C+=f){var A=S+T+C;L[A][O[A]++]=a}}for(l=Math.min,a=Math.max,N=0;N!==r;N++){var F=(nt=i[N]).shape;switch(F.type){case P:var B=nt.position.x,U=nt.position.y,z=nt.position.z,j=F.radius;D(B-j,U-j,z-j,B+j,U+j,z+j,nt);break;case R:F.worldNormalNeedsUpdate&&F.computeWorldNormal(nt.quaternion);var V=F.worldNormal,W=y+.5*E-nt.position.x,G=b+.5*S-nt.position.y,H=x+.5*T-nt.position.z,q=s;q.set(W,G,H);for(var X=0,Y=0;X!==u;X++,Y+=p,q.y=G,q.x+=E)for(var K=0,Z=0;K!==c;K++,Z+=d,q.z=H,q.y+=S)for(var Q=0,J=0;Q!==h;Q++,J+=f,q.z+=T)if(q.dot(V)<C){var $=Y+Z+J;L[$][O[$]++]=nt}break;default:nt.aabbNeedsUpdate&&nt.computeAABB(),D(nt.aabb.lowerBound.x,nt.aabb.lowerBound.y,nt.aabb.lowerBound.z,nt.aabb.upperBound.x,nt.aabb.upperBound.y,nt.aabb.upperBound.z,nt)}}for(N=0;N!==I;N++){var tt=O[N];if(tt>1){var et=L[N];for(X=0;X!==tt;X++){var nt=et[X];for(K=0;K!==X;K++){var rt=et[K];this.needBroadphaseCollision(nt,rt)&&this.intersectionTest(nt,rt,e,n)}}}}this.makePairsUnique(e,n)}},{\"../math/Vec3\":30,\"../shapes/Shape\":43,\"./Broadphase\":5}],7:[function(t,e,n){e.exports=o;var r=t(\"./Broadphase\"),i=t(\"./AABB\");function o(){r.apply(this)}o.prototype=new r,o.prototype.constructor=o,o.prototype.collisionPairs=function(t,e,n){var r,i,o,a,s=t.bodies,l=s.length;for(r=0;r!==l;r++)for(i=0;i!==r;i++)o=s[r],a=s[i],this.needBroadphaseCollision(o,a)&&this.intersectionTest(o,a,e,n)},new i,o.prototype.aabbQuery=function(t,e,n){n=n||[];for(var r=0;r<t.bodies.length;r++){var i=t.bodies[r];i.aabbNeedsUpdate&&i.computeAABB(),i.aabb.overlaps(e)&&n.push(i)}return n}},{\"./AABB\":3,\"./Broadphase\":5}],8:[function(t,e,n){function r(){this.matrix={}}e.exports=r,r.prototype.get=function(t,e){if(t=t.id,(e=e.id)>t){var n=e;e=t,t=n}return t+\"-\"+e in this.matrix},r.prototype.set=function(t,e,n){if(t=t.id,(e=e.id)>t){var r=e;e=t,t=r}n?this.matrix[t+\"-\"+e]=!0:delete this.matrix[t+\"-\"+e]},r.prototype.reset=function(){this.matrix={}},r.prototype.setNumObjects=function(t){}},{}],9:[function(t,e,n){e.exports=u;var r=t(\"../math/Vec3\"),i=t(\"../math/Quaternion\"),o=t(\"../math/Transform\"),a=(t(\"../shapes/ConvexPolyhedron\"),t(\"../shapes/Box\"),t(\"../collision/RaycastResult\")),s=t(\"../shapes/Shape\"),l=t(\"../collision/AABB\");function u(t,e){this.from=t?t.clone():new r,this.to=e?e.clone():new r,this._direction=new r,this.precision=1e-4,this.checkCollisionResponse=!0,this.skipBackfaces=!1,this.collisionFilterMask=-1,this.collisionFilterGroup=-1,this.mode=u.ANY,this.result=new a,this.hasHit=!1,this.callback=function(t){}}u.prototype.constructor=u,u.CLOSEST=1,u.ANY=2,u.ALL=4;var c=new l,h=[];u.prototype.intersectWorld=function(t,e){return this.mode=e.mode||u.ANY,this.result=e.result||new a,this.skipBackfaces=!!e.skipBackfaces,this.collisionFilterMask=void 0!==e.collisionFilterMask?e.collisionFilterMask:-1,this.collisionFilterGroup=void 0!==e.collisionFilterGroup?e.collisionFilterGroup:-1,e.from&&this.from.copy(e.from),e.to&&this.to.copy(e.to),this.callback=e.callback||function(){},this.hasHit=!1,this.result.reset(),this._updateDirection(),this.getAABB(c),h.length=0,t.broadphase.aabbQuery(t,c,h),this.intersectBodies(h),this.hasHit};var p=new r,d=new r;function f(t,e,n,r){r.vsub(e,N),n.vsub(e,p),t.vsub(e,d);var i,o,a=N.dot(N),s=N.dot(p),l=N.dot(d),u=p.dot(p),c=p.dot(d);return(i=u*l-s*c)>=0&&(o=a*c-s*l)>=0&&i+o<a*u-s*s}u.pointInTriangle=f;var m=new r,v=new i;u.prototype.intersectBody=function(t,e){e&&(this.result=e,this._updateDirection());var n=this.checkCollisionResponse;if((!n||t.collisionResponse)&&0!=(this.collisionFilterGroup&t.collisionFilterMask)&&0!=(t.collisionFilterGroup&this.collisionFilterMask))for(var r=m,i=v,o=0,a=t.shapes.length;o<a;o++){var s=t.shapes[o];if((!n||s.collisionResponse)&&(t.quaternion.mult(t.shapeOrientations[o],i),t.quaternion.vmult(t.shapeOffsets[o],r),r.vadd(t.position,r),this.intersectShape(s,i,r,t),this.result._shouldStop))break}},u.prototype.intersectBodies=function(t,e){e&&(this.result=e,this._updateDirection());for(var n=0,r=t.length;!this.result._shouldStop&&n<r;n++)this.intersectBody(t[n])},u.prototype._updateDirection=function(){this.to.vsub(this.from,this._direction),this._direction.normalize()},u.prototype.intersectShape=function(t,e,n,r){if(!(function(t,e,n){n.vsub(t,N);var r=N.dot(e);return e.mult(r,k),k.vadd(t,k),n.distanceTo(k)}(this.from,this._direction,n)>t.boundingSphereRadius)){var i=this[t.type];i&&i.call(this,t,e,n,r)}},new r,new r;var g=new r,y=new r,b=new r,x=new r;new r,new a,u.prototype.intersectBox=function(t,e,n,r){return this.intersectConvex(t.convexPolyhedronRepresentation,e,n,r)},u.prototype[s.types.BOX]=u.prototype.intersectBox,u.prototype.intersectPlane=function(t,e,n,i){var o=this.from,a=this.to,s=this._direction,l=new r(0,0,1);e.vmult(l,l);var u=new r;o.vsub(n,u);var c=u.dot(l);if(a.vsub(n,u),!(c*u.dot(l)>0||o.distanceTo(a)<c)){var h=l.dot(s);if(!(Math.abs(h)<this.precision)){var p=new r,d=new r,f=new r;o.vsub(n,p);var m=-l.dot(p)/h;s.scale(m,d),o.vadd(d,f),this.reportIntersection(l,f,t,i,-1)}}},u.prototype[s.types.PLANE]=u.prototype.intersectPlane,u.prototype.getAABB=function(t){var e=this.to,n=this.from;t.lowerBound.x=Math.min(e.x,n.x),t.lowerBound.y=Math.min(e.y,n.y),t.lowerBound.z=Math.min(e.z,n.z),t.upperBound.x=Math.max(e.x,n.x),t.upperBound.y=Math.max(e.y,n.y),t.upperBound.z=Math.max(e.z,n.z)};var w={faceList:[0]};u.prototype.intersectHeightfield=function(t,e,n,i){t.data,t.elementSize;var a=new r,s=new u(this.from,this.to);o.pointToLocalFrame(n,e,s.from,s.from),o.pointToLocalFrame(n,e,s.to,s.to);var l=[],c=null,h=null,p=null,d=null,f=t.getIndexOfPosition(s.from.x,s.from.y,l,!1);if(f&&(c=l[0],h=l[1],p=l[0],d=l[1]),(f=t.getIndexOfPosition(s.to.x,s.to.y,l,!1))&&((null===c||l[0]<c)&&(c=l[0]),(null===p||l[0]>p)&&(p=l[0]),(null===h||l[1]<h)&&(h=l[1]),(null===d||l[1]>d)&&(d=l[1])),null!==c){var m=[];t.getRectMinMax(c,h,p,d,m);for(var v=c;v<=p;v++)for(var g=h;g<=d;g++){if(this.result._shouldStop)return;if(t.getConvexTrianglePillar(v,g,!1),o.pointToWorldFrame(n,e,t.pillarOffset,a),this.intersectConvex(t.pillarConvex,e,a,i,w),this.result._shouldStop)return;t.getConvexTrianglePillar(v,g,!0),o.pointToWorldFrame(n,e,t.pillarOffset,a),this.intersectConvex(t.pillarConvex,e,a,i,w)}}},u.prototype[s.types.HEIGHTFIELD]=u.prototype.intersectHeightfield;var _=new r,M=new r;u.prototype.intersectSphere=function(t,e,n,r){var i=this.from,o=this.to,a=t.radius,s=Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2)+Math.pow(o.z-i.z,2),l=2*((o.x-i.x)*(i.x-n.x)+(o.y-i.y)*(i.y-n.y)+(o.z-i.z)*(i.z-n.z)),u=Math.pow(i.x-n.x,2)+Math.pow(i.y-n.y,2)+Math.pow(i.z-n.z,2)-Math.pow(a,2),c=Math.pow(l,2)-4*s*u,h=_,p=M;if(!(c<0))if(0===c)i.lerp(o,c,h),h.vsub(n,p),p.normalize(),this.reportIntersection(p,h,t,r,-1);else{var d=(-l-Math.sqrt(c))/(2*s),f=(-l+Math.sqrt(c))/(2*s);if(d>=0&&d<=1&&(i.lerp(o,d,h),h.vsub(n,p),p.normalize(),this.reportIntersection(p,h,t,r,-1)),this.result._shouldStop)return;f>=0&&f<=1&&(i.lerp(o,f,h),h.vsub(n,p),p.normalize(),this.reportIntersection(p,h,t,r,-1))}},u.prototype[s.types.SPHERE]=u.prototype.intersectSphere;var E=new r,S=(new r,new r,new r);u.prototype.intersectConvex=function(t,e,n,r,i){for(var o=E,a=S,s=i&&i.faceList||null,l=t.faces,u=t.vertices,c=t.faceNormals,h=this._direction,p=this.from,d=this.to,m=p.distanceTo(d),v=s?s.length:l.length,w=this.result,_=0;!w._shouldStop&&_<v;_++){var M=s?s[_]:_,T=l[M],C=c[M],A=e,P=n;a.copy(u[T[0]]),A.vmult(a,a),a.vadd(P,a),a.vsub(p,a),A.vmult(C,o);var R=h.dot(o);if(!(Math.abs(R)<this.precision)){var L=o.dot(a)/R;if(!(L<0)){h.mult(L,g),g.vadd(p,g),y.copy(u[T[0]]),A.vmult(y,y),P.vadd(y,y);for(var O=1;!w._shouldStop&&O<T.length-1;O++){b.copy(u[T[O]]),x.copy(u[T[O+1]]),A.vmult(b,b),A.vmult(x,x),P.vadd(b,b),P.vadd(x,x);var I=g.distanceTo(p);!f(g,y,b,x)&&!f(g,b,y,x)||I>m||this.reportIntersection(o,g,t,r,M)}}}}},u.prototype[s.types.CONVEXPOLYHEDRON]=u.prototype.intersectConvex;var T=new r,C=new r,A=new r,P=new r,R=new r,L=new r,O=(new l,[]),I=new o;u.prototype.intersectTrimesh=function(t,e,n,r,i){var a=T,s=O,l=I,u=S,c=C,h=A,p=P,d=L,m=R,v=(i&&i.faceList,t.indices),w=(t.vertices,t.faceNormals,this.from),_=this.to,M=this._direction;l.position.copy(n),l.quaternion.copy(e),o.vectorToLocalFrame(n,e,M,c),o.pointToLocalFrame(n,e,w,h),o.pointToLocalFrame(n,e,_,p);var E=h.distanceSquared(p);t.tree.rayQuery(this,l,s);for(var N=0,k=s.length;!this.result._shouldStop&&N!==k;N++){var D=s[N];t.getNormal(D,a),t.getVertex(v[3*D],y),y.vsub(h,u);var F=c.dot(a),B=a.dot(u)/F;if(!(B<0)){c.scale(B,g),g.vadd(h,g),t.getVertex(v[3*D+1],b),t.getVertex(v[3*D+2],x);var U=g.distanceSquared(h);!f(g,b,y,x)&&!f(g,y,b,x)||U>E||(o.vectorToWorldFrame(e,a,m),o.pointToWorldFrame(n,e,g,d),this.reportIntersection(m,d,t,r,D))}}s.length=0},u.prototype[s.types.TRIMESH]=u.prototype.intersectTrimesh,u.prototype.reportIntersection=function(t,e,n,r,i){var o=this.from,a=this.to,s=o.distanceTo(e),l=this.result;if(!(this.skipBackfaces&&t.dot(this._direction)>0))switch(l.hitFaceIndex=void 0!==i?i:-1,this.mode){case u.ALL:this.hasHit=!0,l.set(o,a,t,e,n,r,s),l.hasHit=!0,this.callback(l);break;case u.CLOSEST:(s<l.distance||!l.hasHit)&&(this.hasHit=!0,l.hasHit=!0,l.set(o,a,t,e,n,r,s));break;case u.ANY:this.hasHit=!0,l.hasHit=!0,l.set(o,a,t,e,n,r,s),l._shouldStop=!0}};var N=new r,k=new r},{\"../collision/AABB\":3,\"../collision/RaycastResult\":10,\"../math/Quaternion\":28,\"../math/Transform\":29,\"../math/Vec3\":30,\"../shapes/Box\":37,\"../shapes/ConvexPolyhedron\":38,\"../shapes/Shape\":43}],10:[function(t,e,n){var r=t(\"../math/Vec3\");function i(){this.rayFromWorld=new r,this.rayToWorld=new r,this.hitNormalWorld=new r,this.hitPointWorld=new r,this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this._shouldStop=!1}e.exports=i,i.prototype.reset=function(){this.rayFromWorld.setZero(),this.rayToWorld.setZero(),this.hitNormalWorld.setZero(),this.hitPointWorld.setZero(),this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this._shouldStop=!1},i.prototype.abort=function(){this._shouldStop=!0},i.prototype.set=function(t,e,n,r,i,o,a){this.rayFromWorld.copy(t),this.rayToWorld.copy(e),this.hitNormalWorld.copy(n),this.hitPointWorld.copy(r),this.shape=i,this.body=o,this.distance=a}},{\"../math/Vec3\":30}],11:[function(t,e,n){t(\"../shapes/Shape\");var r=t(\"../collision/Broadphase\");function i(t){r.apply(this),this.axisList=[],this.world=null,this.axisIndex=0;var e=this.axisList;this._addBodyHandler=function(t){e.push(t.body)},this._removeBodyHandler=function(t){var n=e.indexOf(t.body);-1!==n&&e.splice(n,1)},t&&this.setWorld(t)}e.exports=i,i.prototype=new r,i.prototype.setWorld=function(t){this.axisList.length=0;for(var e=0;e<t.bodies.length;e++)this.axisList.push(t.bodies[e]);t.removeEventListener(\"addBody\",this._addBodyHandler),t.removeEventListener(\"removeBody\",this._removeBodyHandler),t.addEventListener(\"addBody\",this._addBodyHandler),t.addEventListener(\"removeBody\",this._removeBodyHandler),this.world=t,this.dirty=!0},i.insertionSortX=function(t){for(var e=1,n=t.length;e<n;e++){for(var r=t[e],i=e-1;i>=0&&!(t[i].aabb.lowerBound.x<=r.aabb.lowerBound.x);i--)t[i+1]=t[i];t[i+1]=r}return t},i.insertionSortY=function(t){for(var e=1,n=t.length;e<n;e++){for(var r=t[e],i=e-1;i>=0&&!(t[i].aabb.lowerBound.y<=r.aabb.lowerBound.y);i--)t[i+1]=t[i];t[i+1]=r}return t},i.insertionSortZ=function(t){for(var e=1,n=t.length;e<n;e++){for(var r=t[e],i=e-1;i>=0&&!(t[i].aabb.lowerBound.z<=r.aabb.lowerBound.z);i--)t[i+1]=t[i];t[i+1]=r}return t},i.prototype.collisionPairs=function(t,e,n){var r,o,a=this.axisList,s=a.length,l=this.axisIndex;for(this.dirty&&(this.sortList(),this.dirty=!1),r=0;r!==s;r++){var u=a[r];for(o=r+1;o<s;o++){var c=a[o];if(this.needBroadphaseCollision(u,c)){if(!i.checkBounds(u,c,l))break;this.intersectionTest(u,c,e,n)}}}},i.prototype.sortList=function(){for(var t=this.axisList,e=this.axisIndex,n=t.length,r=0;r!==n;r++){var o=t[r];o.aabbNeedsUpdate&&o.computeAABB()}0===e?i.insertionSortX(t):1===e?i.insertionSortY(t):2===e&&i.insertionSortZ(t)},i.checkBounds=function(t,e,n){var r,i;0===n?(r=t.position.x,i=e.position.x):1===n?(r=t.position.y,i=e.position.y):2===n&&(r=t.position.z,i=e.position.z);var o=t.boundingRadius,a=e.boundingRadius;return i-a<r+o},i.prototype.autoDetectAxis=function(){for(var t=0,e=0,n=0,r=0,i=0,o=0,a=this.axisList,s=a.length,l=1/s,u=0;u!==s;u++){var c=a[u],h=c.position.x;t+=h,e+=h*h;var p=c.position.y;n+=p,r+=p*p;var d=c.position.z;i+=d,o+=d*d}var f=e-t*t*l,m=r-n*n*l,v=o-i*i*l;this.axisIndex=f>m?f>v?0:2:m>v?1:2},i.prototype.aabbQuery=function(t,e,n){n=n||[],this.dirty&&(this.sortList(),this.dirty=!1);var r=this.axisIndex,i=\"x\";1===r&&(i=\"y\"),2===r&&(i=\"z\");for(var o=this.axisList,a=(e.lowerBound[i],e.upperBound[i],0);a<o.length;a++){var s=o[a];s.aabbNeedsUpdate&&s.computeAABB(),s.aabb.overlaps(e)&&n.push(s)}return n}},{\"../collision/Broadphase\":5,\"../shapes/Shape\":43}],12:[function(t,e,n){e.exports=s,t(\"./Constraint\");var r=t(\"./PointToPointConstraint\"),i=t(\"../equations/ConeEquation\"),o=t(\"../equations/RotationalEquation\"),a=(t(\"../equations/ContactEquation\"),t(\"../math/Vec3\"));function s(t,e,n){var s=void 0!==(n=n||{}).maxForce?n.maxForce:1e6,l=n.pivotA?n.pivotA.clone():new a,u=n.pivotB?n.pivotB.clone():new a;this.axisA=n.axisA?n.axisA.clone():new a,this.axisB=n.axisB?n.axisB.clone():new a,r.call(this,t,l,e,u,s),this.collideConnected=!!n.collideConnected,this.angle=void 0!==n.angle?n.angle:0;var c=this.coneEquation=new i(t,e,n),h=this.twistEquation=new o(t,e,n);this.twistAngle=void 0!==n.twistAngle?n.twistAngle:0,c.maxForce=0,c.minForce=-s,h.maxForce=0,h.minForce=-s,this.equations.push(c,h)}s.prototype=new r,s.constructor=s,new a,new a,s.prototype.update=function(){var t=this.bodyA,e=this.bodyB,n=this.coneEquation,i=this.twistEquation;r.prototype.update.call(this),t.vectorToWorldFrame(this.axisA,n.axisA),e.vectorToWorldFrame(this.axisB,n.axisB),this.axisA.tangents(i.axisA,i.axisA),t.vectorToWorldFrame(i.axisA,i.axisA),this.axisB.tangents(i.axisB,i.axisB),e.vectorToWorldFrame(i.axisB,i.axisB),n.angle=this.angle,i.maxAngle=this.twistAngle}},{\"../equations/ConeEquation\":18,\"../equations/ContactEquation\":19,\"../equations/RotationalEquation\":22,\"../math/Vec3\":30,\"./Constraint\":13,\"./PointToPointConstraint\":17}],13:[function(t,e,n){e.exports=i;var r=t(\"../utils/Utils\");function i(t,e,n){n=r.defaults(n,{collideConnected:!0,wakeUpBodies:!0}),this.equations=[],this.bodyA=t,this.bodyB=e,this.id=i.idCounter++,this.collideConnected=n.collideConnected,n.wakeUpBodies&&(t&&t.wakeUp(),e&&e.wakeUp())}i.prototype.update=function(){throw new Error(\"method update() not implmemented in this Constraint subclass!\")},i.prototype.enable=function(){for(var t=this.equations,e=0;e<t.length;e++)t[e].enabled=!0},i.prototype.disable=function(){for(var t=this.equations,e=0;e<t.length;e++)t[e].enabled=!1},i.idCounter=0},{\"../utils/Utils\":53}],14:[function(t,e,n){e.exports=o;var r=t(\"./Constraint\"),i=t(\"../equations/ContactEquation\");function o(t,e,n,o){r.call(this,t,e),void 0===n&&(n=t.position.distanceTo(e.position)),void 0===o&&(o=1e6),this.distance=n;var a=this.distanceEquation=new i(t,e);this.equations.push(a),a.minForce=-o,a.maxForce=o}o.prototype=new r,o.prototype.update=function(){var t=this.bodyA,e=this.bodyB,n=this.distanceEquation,r=.5*this.distance,i=n.ni;e.position.vsub(t.position,i),i.normalize(),i.mult(r,n.ri),i.mult(-r,n.rj)}},{\"../equations/ContactEquation\":19,\"./Constraint\":13}],15:[function(t,e,n){e.exports=s,t(\"./Constraint\");var r=t(\"./PointToPointConstraint\"),i=t(\"../equations/RotationalEquation\"),o=t(\"../equations/RotationalMotorEquation\"),a=(t(\"../equations/ContactEquation\"),t(\"../math/Vec3\"));function s(t,e,n){var s=void 0!==(n=n||{}).maxForce?n.maxForce:1e6,l=n.pivotA?n.pivotA.clone():new a,u=n.pivotB?n.pivotB.clone():new a;r.call(this,t,l,e,u,s),(this.axisA=n.axisA?n.axisA.clone():new a(1,0,0)).normalize(),(this.axisB=n.axisB?n.axisB.clone():new a(1,0,0)).normalize();var c=this.rotationalEquation1=new i(t,e,n),h=this.rotationalEquation2=new i(t,e,n),p=this.motorEquation=new o(t,e,s);p.enabled=!1,this.equations.push(c,h,p)}s.prototype=new r,s.constructor=s,s.prototype.enableMotor=function(){this.motorEquation.enabled=!0},s.prototype.disableMotor=function(){this.motorEquation.enabled=!1},s.prototype.setMotorSpeed=function(t){this.motorEquation.targetVelocity=t},s.prototype.setMotorMaxForce=function(t){this.motorEquation.maxForce=t,this.motorEquation.minForce=-t};var l=new a,u=new a;s.prototype.update=function(){var t=this.bodyA,e=this.bodyB,n=this.motorEquation,i=this.rotationalEquation1,o=this.rotationalEquation2,a=l,s=u,c=this.axisA,h=this.axisB;r.prototype.update.call(this),t.quaternion.vmult(c,a),e.quaternion.vmult(h,s),a.tangents(i.axisA,o.axisA),i.axisB.copy(s),o.axisB.copy(s),this.motorEquation.enabled&&(t.quaternion.vmult(this.axisA,n.axisA),e.quaternion.vmult(this.axisB,n.axisB))}},{\"../equations/ContactEquation\":19,\"../equations/RotationalEquation\":22,\"../equations/RotationalMotorEquation\":23,\"../math/Vec3\":30,\"./Constraint\":13,\"./PointToPointConstraint\":17}],16:[function(t,e,n){e.exports=a,t(\"./Constraint\");var r=t(\"./PointToPointConstraint\"),i=t(\"../equations/RotationalEquation\"),o=(t(\"../equations/RotationalMotorEquation\"),t(\"../equations/ContactEquation\"),t(\"../math/Vec3\"));function a(t,e,n){var a=void 0!==(n=n||{}).maxForce?n.maxForce:1e6,s=new o,l=new o,u=new o;t.position.vadd(e.position,u),u.scale(.5,u),e.pointToLocalFrame(u,l),t.pointToLocalFrame(u,s),r.call(this,t,s,e,l,a);var c=this.rotationalEquation1=new i(t,e,n),h=this.rotationalEquation2=new i(t,e,n),p=this.rotationalEquation3=new i(t,e,n);this.equations.push(c,h,p)}a.prototype=new r,a.constructor=a,new o,new o,a.prototype.update=function(){var t=this.bodyA,e=this.bodyB,n=(this.motorEquation,this.rotationalEquation1),i=this.rotationalEquation2,a=this.rotationalEquation3;r.prototype.update.call(this),t.vectorToWorldFrame(o.UNIT_X,n.axisA),e.vectorToWorldFrame(o.UNIT_Y,n.axisB),t.vectorToWorldFrame(o.UNIT_Y,i.axisA),e.vectorToWorldFrame(o.UNIT_Z,i.axisB),t.vectorToWorldFrame(o.UNIT_Z,a.axisA),e.vectorToWorldFrame(o.UNIT_X,a.axisB)}},{\"../equations/ContactEquation\":19,\"../equations/RotationalEquation\":22,\"../equations/RotationalMotorEquation\":23,\"../math/Vec3\":30,\"./Constraint\":13,\"./PointToPointConstraint\":17}],17:[function(t,e,n){e.exports=a;var r=t(\"./Constraint\"),i=t(\"../equations/ContactEquation\"),o=t(\"../math/Vec3\");function a(t,e,n,a,s){r.call(this,t,n),s=void 0!==s?s:1e6,this.pivotA=e?e.clone():new o,this.pivotB=a?a.clone():new o;var l=this.equationX=new i(t,n),u=this.equationY=new i(t,n),c=this.equationZ=new i(t,n);this.equations.push(l,u,c),l.minForce=u.minForce=c.minForce=-s,l.maxForce=u.maxForce=c.maxForce=s,l.ni.set(1,0,0),u.ni.set(0,1,0),c.ni.set(0,0,1)}a.prototype=new r,a.prototype.update=function(){var t=this.bodyA,e=this.bodyB,n=this.equationX,r=this.equationY,i=this.equationZ;t.quaternion.vmult(this.pivotA,n.ri),e.quaternion.vmult(this.pivotB,n.rj),r.ri.copy(n.ri),r.rj.copy(n.rj),i.ri.copy(n.ri),i.rj.copy(n.rj)}},{\"../equations/ContactEquation\":19,\"../math/Vec3\":30,\"./Constraint\":13}],18:[function(t,e,n){e.exports=o;var r=t(\"../math/Vec3\"),i=(t(\"../math/Mat3\"),t(\"./Equation\"));function o(t,e,n){var o=void 0!==(n=n||{}).maxForce?n.maxForce:1e6;i.call(this,t,e,-o,o),this.axisA=n.axisA?n.axisA.clone():new r(1,0,0),this.axisB=n.axisB?n.axisB.clone():new r(0,1,0),this.angle=void 0!==n.angle?n.angle:0}o.prototype=new i,o.prototype.constructor=o;var a=new r,s=new r;o.prototype.computeB=function(t){var e=this.a,n=this.b,r=this.axisA,i=this.axisB,o=a,l=s,u=this.jacobianElementA,c=this.jacobianElementB;return r.cross(i,o),i.cross(r,l),u.rotational.copy(l),c.rotational.copy(o),-(Math.cos(this.angle)-r.dot(i))*e-this.computeGW()*n-t*this.computeGiMf()}},{\"../math/Mat3\":27,\"../math/Vec3\":30,\"./Equation\":20}],19:[function(t,e,n){e.exports=o;var r=t(\"./Equation\"),i=t(\"../math/Vec3\");function o(t,e,n){n=void 0!==n?n:1e6,r.call(this,t,e,0,n),this.restitution=0,this.ri=new i,this.rj=new i,this.ni=new i}t(\"../math/Mat3\"),o.prototype=new r,o.prototype.constructor=o;var a=new i,s=new i,l=new i;o.prototype.computeB=function(t){var e=this.a,n=this.b,r=this.bi,i=this.bj,o=this.ri,u=this.rj,c=a,h=s,p=r.velocity,d=r.angularVelocity,f=(r.force,r.torque,i.velocity),m=i.angularVelocity,v=(i.force,i.torque,l),g=this.jacobianElementA,y=this.jacobianElementB,b=this.ni;o.cross(b,c),u.cross(b,h),b.negate(g.spatial),c.negate(g.rotational),y.spatial.copy(b),y.rotational.copy(h),v.copy(i.position),v.vadd(u,v),v.vsub(r.position,v),v.vsub(o,v);var x=b.dot(v),w=this.restitution+1;return-x*e-(w*f.dot(b)-w*p.dot(b)+m.dot(h)-d.dot(c))*n-t*this.computeGiMf()};var u=new i,c=new i,h=new i,p=new i,d=new i;o.prototype.getImpactVelocityAlongNormal=function(){var t=u,e=c,n=h,r=p,i=d;return this.bi.position.vadd(this.ri,n),this.bj.position.vadd(this.rj,r),this.bi.getVelocityAtWorldPoint(n,t),this.bj.getVelocityAtWorldPoint(r,e),t.vsub(e,i),this.ni.dot(i)}},{\"../math/Mat3\":27,\"../math/Vec3\":30,\"./Equation\":20}],20:[function(t,e,n){e.exports=o;var r=t(\"../math/JacobianElement\"),i=t(\"../math/Vec3\");function o(t,e,n,i){this.id=o.id++,this.minForce=void 0===n?-1e6:n,this.maxForce=void 0===i?1e6:i,this.bi=t,this.bj=e,this.a=0,this.b=0,this.eps=0,this.jacobianElementA=new r,this.jacobianElementB=new r,this.enabled=!0,this.setSpookParams(1e7,4,1/60)}o.prototype.constructor=o,o.id=0,o.prototype.setSpookParams=function(t,e,n){var r=e,i=t,o=n;this.a=4/(o*(1+4*r)),this.b=4*r/(1+4*r),this.eps=4/(o*o*i*(1+4*r))},o.prototype.computeB=function(t,e,n){var r=this.computeGW();return-this.computeGq()*t-r*e-this.computeGiMf()*n},o.prototype.computeGq=function(){var t=this.jacobianElementA,e=this.jacobianElementB,n=this.bi,r=this.bj,i=n.position,o=r.position;return t.spatial.dot(i)+e.spatial.dot(o)};var a=new i;o.prototype.computeGW=function(){var t=this.jacobianElementA,e=this.jacobianElementB,n=this.bi,r=this.bj,i=n.velocity,o=r.velocity,s=n.angularVelocity||a,l=r.angularVelocity||a;return t.multiplyVectors(i,s)+e.multiplyVectors(o,l)},o.prototype.computeGWlambda=function(){var t=this.jacobianElementA,e=this.jacobianElementB,n=this.bi,r=this.bj,i=n.vlambda,o=r.vlambda,s=n.wlambda||a,l=r.wlambda||a;return t.multiplyVectors(i,s)+e.multiplyVectors(o,l)};var s=new i,l=new i,u=new i,c=new i;o.prototype.computeGiMf=function(){var t=this.jacobianElementA,e=this.jacobianElementB,n=this.bi,r=this.bj,i=n.force,o=n.torque,a=r.force,h=r.torque,p=n.invMassSolve,d=r.invMassSolve;return n.invInertiaWorldSolve?n.invInertiaWorldSolve.vmult(o,u):u.set(0,0,0),r.invInertiaWorldSolve?r.invInertiaWorldSolve.vmult(h,c):c.set(0,0,0),i.mult(p,s),a.mult(d,l),t.multiplyVectors(s,u)+e.multiplyVectors(l,c)};var h=new i;o.prototype.computeGiMGt=function(){var t=this.jacobianElementA,e=this.jacobianElementB,n=this.bi,r=this.bj,i=n.invMassSolve,o=r.invMassSolve,a=n.invInertiaWorldSolve,s=r.invInertiaWorldSolve,l=i+o;return a&&(a.vmult(t.rotational,h),l+=h.dot(t.rotational)),s&&(s.vmult(e.rotational,h),l+=h.dot(e.rotational)),l};var p=new i;new i,new i,new i,new i,new i,o.prototype.addToWlambda=function(t){var e=this.jacobianElementA,n=this.jacobianElementB,r=this.bi,i=this.bj,o=p;e.spatial.mult(r.invMassSolve*t,o),r.vlambda.vadd(o,r.vlambda),n.spatial.mult(i.invMassSolve*t,o),i.vlambda.vadd(o,i.vlambda),r.invInertiaWorldSolve&&(r.invInertiaWorldSolve.vmult(e.rotational,o),o.mult(t,o),r.wlambda.vadd(o,r.wlambda)),i.invInertiaWorldSolve&&(i.invInertiaWorldSolve.vmult(n.rotational,o),o.mult(t,o),i.wlambda.vadd(o,i.wlambda))},o.prototype.computeC=function(){return this.computeGiMGt()+this.eps}},{\"../math/JacobianElement\":26,\"../math/Vec3\":30}],21:[function(t,e,n){e.exports=o;var r=t(\"./Equation\"),i=t(\"../math/Vec3\");function o(t,e,n){r.call(this,t,e,-n,n),this.ri=new i,this.rj=new i,this.t=new i}t(\"../math/Mat3\"),o.prototype=new r,o.prototype.constructor=o;var a=new i,s=new i;o.prototype.computeB=function(t){this.a;var e=this.b,n=(this.bi,this.bj,this.ri),r=this.rj,i=a,o=s,l=this.t;n.cross(l,i),r.cross(l,o);var u=this.jacobianElementA,c=this.jacobianElementB;return l.negate(u.spatial),i.negate(u.rotational),c.spatial.copy(l),c.rotational.copy(o),-this.computeGW()*e-t*this.computeGiMf()}},{\"../math/Mat3\":27,\"../math/Vec3\":30,\"./Equation\":20}],22:[function(t,e,n){e.exports=o;var r=t(\"../math/Vec3\"),i=(t(\"../math/Mat3\"),t(\"./Equation\"));function o(t,e,n){var o=void 0!==(n=n||{}).maxForce?n.maxForce:1e6;i.call(this,t,e,-o,o),this.axisA=n.axisA?n.axisA.clone():new r(1,0,0),this.axisB=n.axisB?n.axisB.clone():new r(0,1,0),this.maxAngle=Math.PI/2}o.prototype=new i,o.prototype.constructor=o;var a=new r,s=new r;o.prototype.computeB=function(t){var e=this.a,n=this.b,r=this.axisA,i=this.axisB,o=a,l=s,u=this.jacobianElementA,c=this.jacobianElementB;return r.cross(i,o),i.cross(r,l),u.rotational.copy(l),c.rotational.copy(o),-(Math.cos(this.maxAngle)-r.dot(i))*e-this.computeGW()*n-t*this.computeGiMf()}},{\"../math/Mat3\":27,\"../math/Vec3\":30,\"./Equation\":20}],23:[function(t,e,n){e.exports=o;var r=t(\"../math/Vec3\"),i=(t(\"../math/Mat3\"),t(\"./Equation\"));function o(t,e,n){n=void 0!==n?n:1e6,i.call(this,t,e,-n,n),this.axisA=new r,this.axisB=new r,this.targetVelocity=0}o.prototype=new i,o.prototype.constructor=o,o.prototype.computeB=function(t){this.a;var e=this.b,n=(this.bi,this.bj,this.axisA),r=this.axisB,i=this.jacobianElementA,o=this.jacobianElementB;return i.rotational.copy(n),r.negate(o.rotational),-(this.computeGW()-this.targetVelocity)*e-t*this.computeGiMf()}},{\"../math/Mat3\":27,\"../math/Vec3\":30,\"./Equation\":20}],24:[function(t,e,n){var r=t(\"../utils/Utils\");function i(t,e,n){n=r.defaults(n,{friction:.3,restitution:.3,contactEquationStiffness:1e7,contactEquationRelaxation:3,frictionEquationStiffness:1e7,frictionEquationRelaxation:3}),this.id=i.idCounter++,this.materials=[t,e],this.friction=n.friction,this.restitution=n.restitution,this.contactEquationStiffness=n.contactEquationStiffness,this.contactEquationRelaxation=n.contactEquationRelaxation,this.frictionEquationStiffness=n.frictionEquationStiffness,this.frictionEquationRelaxation=n.frictionEquationRelaxation}e.exports=i,i.idCounter=0},{\"../utils/Utils\":53}],25:[function(t,e,n){function r(t){var e=\"\";\"string\"==typeof(t=t||{})?(e=t,t={}):\"object\"==typeof t&&(e=\"\"),this.name=e,this.id=r.idCounter++,this.friction=void 0!==t.friction?t.friction:-1,this.restitution=void 0!==t.restitution?t.restitution:-1}e.exports=r,r.idCounter=0},{}],26:[function(t,e,n){e.exports=i;var r=t(\"./Vec3\");function i(){this.spatial=new r,this.rotational=new r}i.prototype.multiplyElement=function(t){return t.spatial.dot(this.spatial)+t.rotational.dot(this.rotational)},i.prototype.multiplyVectors=function(t,e){return t.dot(this.spatial)+e.dot(this.rotational)}},{\"./Vec3\":30}],27:[function(t,e,n){e.exports=i;var r=t(\"./Vec3\");function i(t){this.elements=t||[0,0,0,0,0,0,0,0,0]}i.prototype.identity=function(){var t=this.elements;t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1},i.prototype.setZero=function(){var t=this.elements;t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t[8]=0},i.prototype.setTrace=function(t){var e=this.elements;e[0]=t.x,e[4]=t.y,e[8]=t.z},i.prototype.getTrace=function(t){t=t||new r;var e=this.elements;t.x=e[0],t.y=e[4],t.z=e[8]},i.prototype.vmult=function(t,e){e=e||new r;var n=this.elements,i=t.x,o=t.y,a=t.z;return e.x=n[0]*i+n[1]*o+n[2]*a,e.y=n[3]*i+n[4]*o+n[5]*a,e.z=n[6]*i+n[7]*o+n[8]*a,e},i.prototype.smult=function(t){for(var e=0;e<this.elements.length;e++)this.elements[e]*=t},i.prototype.mmult=function(t,e){for(var n=e||new i,r=0;r<3;r++)for(var o=0;o<3;o++){for(var a=0,s=0;s<3;s++)a+=t.elements[r+3*s]*this.elements[s+3*o];n.elements[r+3*o]=a}return n},i.prototype.scale=function(t,e){e=e||new i;for(var n=this.elements,r=e.elements,o=0;3!==o;o++)r[3*o+0]=t.x*n[3*o+0],r[3*o+1]=t.y*n[3*o+1],r[3*o+2]=t.z*n[3*o+2];return e},i.prototype.solve=function(t,e){e=e||new r;for(var n,i=[],o=0;o<12;o++)i.push(0);for(o=0;o<3;o++)for(n=0;n<3;n++)i[o+4*n]=this.elements[o+3*n];i[3]=t.x,i[7]=t.y,i[11]=t.z;var a,s,l=3,u=l;do{if(0===i[(o=u-l)+4*o])for(n=o+1;n<u;n++)if(0!==i[o+4*n]){a=4;do{i[(s=4-a)+4*o]+=i[s+4*n]}while(--a);break}if(0!==i[o+4*o])for(n=o+1;n<u;n++){var c=i[o+4*n]/i[o+4*o];a=4;do{i[(s=4-a)+4*n]=s<=o?0:i[s+4*n]-i[s+4*o]*c}while(--a)}}while(--l);if(e.z=i[11]/i[10],e.y=(i[7]-i[6]*e.z)/i[5],e.x=(i[3]-i[2]*e.z-i[1]*e.y)/i[0],isNaN(e.x)||isNaN(e.y)||isNaN(e.z)||e.x===1/0||e.y===1/0||e.z===1/0)throw\"Could not solve equation! Got x=[\"+e.toString()+\"], b=[\"+t.toString()+\"], A=[\"+this.toString()+\"]\";return e},i.prototype.e=function(t,e,n){if(void 0===n)return this.elements[e+3*t];this.elements[e+3*t]=n},i.prototype.copy=function(t){for(var e=0;e<t.elements.length;e++)this.elements[e]=t.elements[e];return this},i.prototype.toString=function(){for(var t=\"\",e=0;e<9;e++)t+=this.elements[e]+\",\";return t},i.prototype.reverse=function(t){t=t||new i;for(var e,n=[],r=0;r<18;r++)n.push(0);for(r=0;r<3;r++)for(e=0;e<3;e++)n[r+6*e]=this.elements[r+3*e];n[3]=1,n[9]=0,n[15]=0,n[4]=0,n[10]=1,n[16]=0,n[5]=0,n[11]=0,n[17]=1;var o,a,s=3,l=s;do{if(0===n[(r=l-s)+6*r])for(e=r+1;e<l;e++)if(0!==n[r+6*e]){o=6;do{n[(a=6-o)+6*r]+=n[a+6*e]}while(--o);break}if(0!==n[r+6*r])for(e=r+1;e<l;e++){var u=n[r+6*e]/n[r+6*r];o=6;do{n[(a=6-o)+6*e]=a<=r?0:n[a+6*e]-n[a+6*r]*u}while(--o)}}while(--s);r=2;do{e=r-1;do{u=n[r+6*e]/n[r+6*r],o=6;do{n[(a=6-o)+6*e]=n[a+6*e]-n[a+6*r]*u}while(--o)}while(e--)}while(--r);r=2;do{u=1/n[r+6*r],o=6;do{n[(a=6-o)+6*r]=n[a+6*r]*u}while(--o)}while(r--);r=2;do{e=2;do{if(a=n[3+e+6*r],isNaN(a)||a===1/0)throw\"Could not reverse! A=[\"+this.toString()+\"]\";t.e(r,e,a)}while(e--)}while(r--);return t},i.prototype.setRotationFromQuaternion=function(t){var e=t.x,n=t.y,r=t.z,i=t.w,o=e+e,a=n+n,s=r+r,l=e*o,u=e*a,c=e*s,h=n*a,p=n*s,d=r*s,f=i*o,m=i*a,v=i*s,g=this.elements;return g[0]=1-(h+d),g[1]=u-v,g[2]=c+m,g[3]=u+v,g[4]=1-(l+d),g[5]=p-f,g[6]=c-m,g[7]=p+f,g[8]=1-(l+h),this},i.prototype.transpose=function(t){for(var e=(t=t||new i).elements,n=this.elements,r=0;3!==r;r++)for(var o=0;3!==o;o++)e[3*r+o]=n[3*o+r];return t}},{\"./Vec3\":30}],28:[function(t,e,n){e.exports=i;var r=t(\"./Vec3\");function i(t,e,n,r){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0,this.z=void 0!==n?n:0,this.w=void 0!==r?r:1}i.prototype.set=function(t,e,n,r){this.x=t,this.y=e,this.z=n,this.w=r},i.prototype.toString=function(){return this.x+\",\"+this.y+\",\"+this.z+\",\"+this.w},i.prototype.toArray=function(){return[this.x,this.y,this.z,this.w]},i.prototype.setFromAxisAngle=function(t,e){var n=Math.sin(.5*e);this.x=t.x*n,this.y=t.y*n,this.z=t.z*n,this.w=Math.cos(.5*e)},i.prototype.toAxisAngle=function(t){t=t||new r,this.normalize();var e=2*Math.acos(this.w),n=Math.sqrt(1-this.w*this.w);return n<.001?(t.x=this.x,t.y=this.y,t.z=this.z):(t.x=this.x/n,t.y=this.y/n,t.z=this.z/n),[t,e]};var o=new r,a=new r;i.prototype.setFromVectors=function(t,e){if(t.isAntiparallelTo(e)){var n=o,r=a;t.tangents(n,r),this.setFromAxisAngle(n,Math.PI)}else{var i=t.cross(e);this.x=i.x,this.y=i.y,this.z=i.z,this.w=Math.sqrt(Math.pow(t.norm(),2)*Math.pow(e.norm(),2))+t.dot(e),this.normalize()}};var s=new r,l=new r,u=new r;i.prototype.mult=function(t,e){e=e||new i;var n=this.w,r=s,o=l,a=u;return r.set(this.x,this.y,this.z),o.set(t.x,t.y,t.z),e.w=n*t.w-r.dot(o),r.cross(o,a),e.x=n*o.x+t.w*r.x+a.x,e.y=n*o.y+t.w*r.y+a.y,e.z=n*o.z+t.w*r.z+a.z,e},i.prototype.inverse=function(t){var e=this.x,n=this.y,r=this.z,o=this.w;t=t||new i,this.conjugate(t);var a=1/(e*e+n*n+r*r+o*o);return t.x*=a,t.y*=a,t.z*=a,t.w*=a,t},i.prototype.conjugate=function(t){return(t=t||new i).x=-this.x,t.y=-this.y,t.z=-this.z,t.w=this.w,t},i.prototype.normalize=function(){var t=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);0===t?(this.x=0,this.y=0,this.z=0,this.w=0):(t=1/t,this.x*=t,this.y*=t,this.z*=t,this.w*=t)},i.prototype.normalizeFast=function(){var t=(3-(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w))/2;0===t?(this.x=0,this.y=0,this.z=0,this.w=0):(this.x*=t,this.y*=t,this.z*=t,this.w*=t)},i.prototype.vmult=function(t,e){e=e||new r;var n=t.x,i=t.y,o=t.z,a=this.x,s=this.y,l=this.z,u=this.w,c=u*n+s*o-l*i,h=u*i+l*n-a*o,p=u*o+a*i-s*n,d=-a*n-s*i-l*o;return e.x=c*u+d*-a+h*-l-p*-s,e.y=h*u+d*-s+p*-a-c*-l,e.z=p*u+d*-l+c*-s-h*-a,e},i.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},i.prototype.toEuler=function(t,e){var n,r,i;e=e||\"YZX\";var o=this.x,a=this.y,s=this.z,l=this.w;switch(e){case\"YZX\":var u=o*a+s*l;if(u>.499&&(n=2*Math.atan2(o,l),r=Math.PI/2,i=0),u<-.499&&(n=-2*Math.atan2(o,l),r=-Math.PI/2,i=0),isNaN(n)){var c=o*o,h=a*a,p=s*s;n=Math.atan2(2*a*l-2*o*s,1-2*h-2*p),r=Math.asin(2*u),i=Math.atan2(2*o*l-2*a*s,1-2*c-2*p)}break;default:throw new Error(\"Euler order \"+e+\" not supported yet.\")}t.y=n,t.z=r,t.x=i},i.prototype.setFromEuler=function(t,e,n,r){r=r||\"XYZ\";var i=Math.cos(t/2),o=Math.cos(e/2),a=Math.cos(n/2),s=Math.sin(t/2),l=Math.sin(e/2),u=Math.sin(n/2);return\"XYZ\"===r?(this.x=s*o*a+i*l*u,this.y=i*l*a-s*o*u,this.z=i*o*u+s*l*a,this.w=i*o*a-s*l*u):\"YXZ\"===r?(this.x=s*o*a+i*l*u,this.y=i*l*a-s*o*u,this.z=i*o*u-s*l*a,this.w=i*o*a+s*l*u):\"ZXY\"===r?(this.x=s*o*a-i*l*u,this.y=i*l*a+s*o*u,this.z=i*o*u+s*l*a,this.w=i*o*a-s*l*u):\"ZYX\"===r?(this.x=s*o*a-i*l*u,this.y=i*l*a+s*o*u,this.z=i*o*u-s*l*a,this.w=i*o*a+s*l*u):\"YZX\"===r?(this.x=s*o*a+i*l*u,this.y=i*l*a+s*o*u,this.z=i*o*u-s*l*a,this.w=i*o*a-s*l*u):\"XZY\"===r&&(this.x=s*o*a-i*l*u,this.y=i*l*a-s*o*u,this.z=i*o*u+s*l*a,this.w=i*o*a+s*l*u),this},i.prototype.clone=function(){return new i(this.x,this.y,this.z,this.w)}},{\"./Vec3\":30}],29:[function(t,e,n){var r=t(\"./Vec3\"),i=t(\"./Quaternion\");function o(t){t=t||{},this.position=new r,t.position&&this.position.copy(t.position),this.quaternion=new i,t.quaternion&&this.quaternion.copy(t.quaternion)}e.exports=o;var a=new i;o.pointToLocalFrame=function(t,e,n,i){return i=i||new r,n.vsub(t,i),e.conjugate(a),a.vmult(i,i),i},o.prototype.pointToLocal=function(t,e){return o.pointToLocalFrame(this.position,this.quaternion,t,e)},o.pointToWorldFrame=function(t,e,n,i){return i=i||new r,e.vmult(n,i),i.vadd(t,i),i},o.prototype.pointToWorld=function(t,e){return o.pointToWorldFrame(this.position,this.quaternion,t,e)},o.prototype.vectorToWorldFrame=function(t,e){return e=e||new r,this.quaternion.vmult(t,e),e},o.vectorToWorldFrame=function(t,e,n){return t.vmult(e,n),n},o.vectorToLocalFrame=function(t,e,n,i){return i=i||new r,e.w*=-1,e.vmult(n,i),e.w*=-1,i}},{\"./Quaternion\":28,\"./Vec3\":30}],30:[function(t,e,n){e.exports=i;var r=t(\"./Mat3\");function i(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}i.ZERO=new i(0,0,0),i.UNIT_X=new i(1,0,0),i.UNIT_Y=new i(0,1,0),i.UNIT_Z=new i(0,0,1),i.prototype.cross=function(t,e){var n=t.x,r=t.y,o=t.z,a=this.x,s=this.y,l=this.z;return(e=e||new i).x=s*o-l*r,e.y=l*n-a*o,e.z=a*r-s*n,e},i.prototype.set=function(t,e,n){return this.x=t,this.y=e,this.z=n,this},i.prototype.setZero=function(){this.x=this.y=this.z=0},i.prototype.vadd=function(t,e){if(!e)return new i(this.x+t.x,this.y+t.y,this.z+t.z);e.x=t.x+this.x,e.y=t.y+this.y,e.z=t.z+this.z},i.prototype.vsub=function(t,e){if(!e)return new i(this.x-t.x,this.y-t.y,this.z-t.z);e.x=this.x-t.x,e.y=this.y-t.y,e.z=this.z-t.z},i.prototype.crossmat=function(){return new r([0,-this.z,this.y,this.z,0,-this.x,-this.y,this.x,0])},i.prototype.normalize=function(){var t=this.x,e=this.y,n=this.z,r=Math.sqrt(t*t+e*e+n*n);if(r>0){var i=1/r;this.x*=i,this.y*=i,this.z*=i}else this.x=0,this.y=0,this.z=0;return r},i.prototype.unit=function(t){t=t||new i;var e=this.x,n=this.y,r=this.z,o=Math.sqrt(e*e+n*n+r*r);return o>0?(o=1/o,t.x=e*o,t.y=n*o,t.z=r*o):(t.x=1,t.y=0,t.z=0),t},i.prototype.norm=function(){var t=this.x,e=this.y,n=this.z;return Math.sqrt(t*t+e*e+n*n)},i.prototype.length=i.prototype.norm,i.prototype.norm2=function(){return this.dot(this)},i.prototype.lengthSquared=i.prototype.norm2,i.prototype.distanceTo=function(t){var e=this.x,n=this.y,r=this.z,i=t.x,o=t.y,a=t.z;return Math.sqrt((i-e)*(i-e)+(o-n)*(o-n)+(a-r)*(a-r))},i.prototype.distanceSquared=function(t){var e=this.x,n=this.y,r=this.z,i=t.x,o=t.y,a=t.z;return(i-e)*(i-e)+(o-n)*(o-n)+(a-r)*(a-r)},i.prototype.mult=function(t,e){e=e||new i;var n=this.x,r=this.y,o=this.z;return e.x=t*n,e.y=t*r,e.z=t*o,e},i.prototype.scale=i.prototype.mult,i.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},i.prototype.isZero=function(){return 0===this.x&&0===this.y&&0===this.z},i.prototype.negate=function(t){return(t=t||new i).x=-this.x,t.y=-this.y,t.z=-this.z,t};var o=new i,a=new i;i.prototype.tangents=function(t,e){var n=this.norm();if(n>0){var r=o,i=1/n;r.set(this.x*i,this.y*i,this.z*i);var s=a;Math.abs(r.x)<.9?(s.set(1,0,0),r.cross(s,t)):(s.set(0,1,0),r.cross(s,t)),r.cross(t,e)}else t.set(1,0,0),e.set(0,1,0)},i.prototype.toString=function(){return this.x+\",\"+this.y+\",\"+this.z},i.prototype.toArray=function(){return[this.x,this.y,this.z]},i.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},i.prototype.lerp=function(t,e,n){var r=this.x,i=this.y,o=this.z;n.x=r+(t.x-r)*e,n.y=i+(t.y-i)*e,n.z=o+(t.z-o)*e},i.prototype.almostEquals=function(t,e){return void 0===e&&(e=1e-6),!(Math.abs(this.x-t.x)>e||Math.abs(this.y-t.y)>e||Math.abs(this.z-t.z)>e)},i.prototype.almostZero=function(t){return void 0===t&&(t=1e-6),!(Math.abs(this.x)>t||Math.abs(this.y)>t||Math.abs(this.z)>t)};var s=new i;i.prototype.isAntiparallelTo=function(t,e){return this.negate(s),s.almostEquals(t,e)},i.prototype.clone=function(){return new i(this.x,this.y,this.z)}},{\"./Mat3\":27}],31:[function(t,e,n){e.exports=u;var r=t(\"../utils/EventTarget\"),i=(t(\"../shapes/Shape\"),t(\"../math/Vec3\")),o=t(\"../math/Mat3\"),a=t(\"../math/Quaternion\"),s=(t(\"../material/Material\"),t(\"../collision/AABB\")),l=t(\"../shapes/Box\");function u(t){t=t||{},r.apply(this),this.id=u.idCounter++,this.world=null,this.preStep=null,this.postStep=null,this.vlambda=new i,this.collisionFilterGroup=\"number\"==typeof t.collisionFilterGroup?t.collisionFilterGroup:1,this.collisionFilterMask=\"number\"==typeof t.collisionFilterMask?t.collisionFilterMask:1,this.collisionResponse=!0,this.position=new i,t.position&&this.position.copy(t.position),this.previousPosition=new i,this.initPosition=new i,this.velocity=new i,t.velocity&&this.velocity.copy(t.velocity),this.initVelocity=new i,this.force=new i;var e=\"number\"==typeof t.mass?t.mass:0;this.mass=e,this.invMass=e>0?1/e:0,this.material=t.material||null,this.linearDamping=\"number\"==typeof t.linearDamping?t.linearDamping:.01,this.type=e<=0?u.STATIC:u.DYNAMIC,typeof t.type==typeof u.STATIC&&(this.type=t.type),this.allowSleep=void 0===t.allowSleep||t.allowSleep,this.sleepState=0,this.sleepSpeedLimit=void 0!==t.sleepSpeedLimit?t.sleepSpeedLimit:.1,this.sleepTimeLimit=void 0!==t.sleepTimeLimit?t.sleepTimeLimit:1,this.timeLastSleepy=0,this._wakeUpAfterNarrowphase=!1,this.torque=new i,this.quaternion=new a,t.quaternion&&this.quaternion.copy(t.quaternion),this.initQuaternion=new a,this.angularVelocity=new i,t.angularVelocity&&this.angularVelocity.copy(t.angularVelocity),this.initAngularVelocity=new i,this.interpolatedPosition=new i,this.interpolatedQuaternion=new a,this.shapes=[],this.shapeOffsets=[],this.shapeOrientations=[],this.inertia=new i,this.invInertia=new i,this.invInertiaWorld=new o,this.invMassSolve=0,this.invInertiaSolve=new i,this.invInertiaWorldSolve=new o,this.fixedRotation=void 0!==t.fixedRotation&&t.fixedRotation,this.angularDamping=void 0!==t.angularDamping?t.angularDamping:.01,this.aabb=new s,this.aabbNeedsUpdate=!0,this.wlambda=new i,t.shape&&this.addShape(t.shape),this.updateMassProperties()}u.prototype=new r,u.prototype.constructor=u,u.DYNAMIC=1,u.STATIC=2,u.KINEMATIC=4,u.AWAKE=0,u.SLEEPY=1,u.SLEEPING=2,u.idCounter=0,u.prototype.wakeUp=function(){var t=this.sleepState;this.sleepState=0,t===u.SLEEPING&&this.dispatchEvent({type:\"wakeup\"})},u.prototype.sleep=function(){this.sleepState=u.SLEEPING,this.velocity.set(0,0,0),this.angularVelocity.set(0,0,0)},u.sleepyEvent={type:\"sleepy\"},u.sleepEvent={type:\"sleep\"},u.prototype.sleepTick=function(t){if(this.allowSleep){var e=this.sleepState,n=this.velocity.norm2()+this.angularVelocity.norm2(),r=Math.pow(this.sleepSpeedLimit,2);e===u.AWAKE&&n<r?(this.sleepState=u.SLEEPY,this.timeLastSleepy=t,this.dispatchEvent(u.sleepyEvent)):e===u.SLEEPY&&n>r?this.wakeUp():e===u.SLEEPY&&t-this.timeLastSleepy>this.sleepTimeLimit&&(this.sleep(),this.dispatchEvent(u.sleepEvent))}},u.prototype.updateSolveMassProperties=function(){this.sleepState===u.SLEEPING||this.type===u.KINEMATIC?(this.invMassSolve=0,this.invInertiaSolve.setZero(),this.invInertiaWorldSolve.setZero()):(this.invMassSolve=this.invMass,this.invInertiaSolve.copy(this.invInertia),this.invInertiaWorldSolve.copy(this.invInertiaWorld))},u.prototype.pointToLocalFrame=function(t,e){return e=e||new i,t.vsub(this.position,e),this.quaternion.conjugate().vmult(e,e),e},u.prototype.vectorToLocalFrame=function(t,e){return e=e||new i,this.quaternion.conjugate().vmult(t,e),e},u.prototype.pointToWorldFrame=function(t,e){return e=e||new i,this.quaternion.vmult(t,e),e.vadd(this.position,e),e},u.prototype.vectorToWorldFrame=function(t,e){return e=e||new i,this.quaternion.vmult(t,e),e};var c=new i,h=new a;u.prototype.addShape=function(t,e,n){var r=new i,o=new a;return e&&r.copy(e),n&&o.copy(n),this.shapes.push(t),this.shapeOffsets.push(r),this.shapeOrientations.push(o),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0,this},u.prototype.updateBoundingRadius=function(){for(var t=this.shapes,e=this.shapeOffsets,n=t.length,r=0,i=0;i!==n;i++){var o=t[i];o.updateBoundingSphereRadius();var a=e[i].norm(),s=o.boundingSphereRadius;a+s>r&&(r=a+s)}this.boundingRadius=r};var p=new s;u.prototype.computeAABB=function(){for(var t=this.shapes,e=this.shapeOffsets,n=this.shapeOrientations,r=t.length,i=c,o=h,a=this.quaternion,s=this.aabb,l=p,u=0;u!==r;u++){var d=t[u];n[u].mult(a,o),o.vmult(e[u],i),i.vadd(this.position,i),d.calculateWorldAABB(i,o,l.lowerBound,l.upperBound),0===u?s.copy(l):s.extend(l)}this.aabbNeedsUpdate=!1};var d=new o,f=new o;new o,u.prototype.updateInertiaWorld=function(t){var e=this.invInertia;if(e.x!==e.y||e.y!==e.z||t){var n=d,r=f;n.setRotationFromQuaternion(this.quaternion),n.transpose(r),n.scale(e,n),n.mmult(r,this.invInertiaWorld)}};var m=new i,v=new i;u.prototype.applyForce=function(t,e){if(this.type===u.DYNAMIC){var n=m;e.vsub(this.position,n);var r=v;n.cross(t,r),this.force.vadd(t,this.force),this.torque.vadd(r,this.torque)}};var g=new i,y=new i;u.prototype.applyLocalForce=function(t,e){if(this.type===u.DYNAMIC){var n=g,r=y;this.vectorToWorldFrame(t,n),this.pointToWorldFrame(e,r),this.applyForce(n,r)}};var b=new i,x=new i,w=new i;u.prototype.applyImpulse=function(t,e){if(this.type===u.DYNAMIC){var n=b;e.vsub(this.position,n);var r=x;r.copy(t),r.mult(this.invMass,r),this.velocity.vadd(r,this.velocity);var i=w;n.cross(t,i),this.invInertiaWorld.vmult(i,i),this.angularVelocity.vadd(i,this.angularVelocity)}};var _=new i,M=new i;u.prototype.applyLocalImpulse=function(t,e){if(this.type===u.DYNAMIC){var n=_,r=M;this.vectorToWorldFrame(t,n),this.pointToWorldFrame(e,r),this.applyImpulse(n,r)}};var E=new i;u.prototype.updateMassProperties=function(){var t=E;this.invMass=this.mass>0?1/this.mass:0;var e=this.inertia,n=this.fixedRotation;this.computeAABB(),t.set((this.aabb.upperBound.x-this.aabb.lowerBound.x)/2,(this.aabb.upperBound.y-this.aabb.lowerBound.y)/2,(this.aabb.upperBound.z-this.aabb.lowerBound.z)/2),l.calculateInertia(t,this.mass,e),this.invInertia.set(e.x>0&&!n?1/e.x:0,e.y>0&&!n?1/e.y:0,e.z>0&&!n?1/e.z:0),this.updateInertiaWorld(!0)},u.prototype.getVelocityAtWorldPoint=function(t,e){var n=new i;return t.vsub(this.position,n),this.angularVelocity.cross(n,e),this.velocity.vadd(e,e),e}},{\"../collision/AABB\":3,\"../material/Material\":25,\"../math/Mat3\":27,\"../math/Quaternion\":28,\"../math/Vec3\":30,\"../shapes/Box\":37,\"../shapes/Shape\":43,\"../utils/EventTarget\":49}],32:[function(t,e,n){t(\"./Body\");var r=t(\"../math/Vec3\"),i=t(\"../math/Quaternion\"),o=(t(\"../collision/RaycastResult\"),t(\"../collision/Ray\")),a=t(\"../objects/WheelInfo\");function s(t){this.chassisBody=t.chassisBody,this.wheelInfos=[],this.sliding=!1,this.world=null,this.indexRightAxis=void 0!==t.indexRightAxis?t.indexRightAxis:1,this.indexForwardAxis=void 0!==t.indexForwardAxis?t.indexForwardAxis:0,this.indexUpAxis=void 0!==t.indexUpAxis?t.indexUpAxis:2}e.exports=s,new r,new r,new r;var l=new r,u=new r,c=new r;new o,s.prototype.addWheel=function(t){var e=new a(t=t||{}),n=this.wheelInfos.length;return this.wheelInfos.push(e),n},s.prototype.setSteeringValue=function(t,e){this.wheelInfos[e].steering=t},new r,s.prototype.applyEngineForce=function(t,e){this.wheelInfos[e].engineForce=t},s.prototype.setBrake=function(t,e){this.wheelInfos[e].brake=t},s.prototype.addToWorld=function(t){this.constraints,t.add(this.chassisBody);var e=this;this.preStepCallback=function(){e.updateVehicle(t.dt)},t.addEventListener(\"preStep\",this.preStepCallback),this.world=t},s.prototype.getVehicleAxisWorld=function(t,e){e.set(0===t?1:0,1===t?1:0,2===t?1:0),this.chassisBody.vectorToWorldFrame(e,e)},s.prototype.updateVehicle=function(t){for(var e=this.wheelInfos,n=e.length,i=this.chassisBody,o=0;o<n;o++)this.updateWheelTransform(o);this.currentVehicleSpeedKmHour=3.6*i.velocity.norm();var a=new r;for(this.getVehicleAxisWorld(this.indexForwardAxis,a),a.dot(i.velocity)<0&&(this.currentVehicleSpeedKmHour*=-1),o=0;o<n;o++)this.castRay(e[o]);this.updateSuspension(t);var s=new r,l=new r;for(o=0;o<n;o++){var u=(d=e[o]).suspensionForce;u>d.maxSuspensionForce&&(u=d.maxSuspensionForce),d.raycastResult.hitNormalWorld.scale(u*t,s),d.raycastResult.hitPointWorld.vsub(i.position,l),i.applyImpulse(s,d.raycastResult.hitPointWorld)}this.updateFriction(t);var c=new r,h=new r,p=new r;for(o=0;o<n;o++){var d=e[o];i.getVelocityAtWorldPoint(d.chassisConnectionPointWorld,p);var f=1;switch(this.indexUpAxis){case 1:f=-1}if(d.isInContact){this.getVehicleAxisWorld(this.indexForwardAxis,h);var m=h.dot(d.raycastResult.hitNormalWorld);d.raycastResult.hitNormalWorld.scale(m,c),h.vsub(c,h);var v=h.dot(p);d.deltaRotation=f*v*t/d.radius}!d.sliding&&d.isInContact||0===d.engineForce||!d.useCustomSlidingRotationalSpeed||(d.deltaRotation=(d.engineForce>0?1:-1)*d.customSlidingRotationalSpeed*t),Math.abs(d.brake)>Math.abs(d.engineForce)&&(d.deltaRotation=0),d.rotation+=d.deltaRotation,d.deltaRotation*=.99}},s.prototype.updateSuspension=function(t){for(var e=this.chassisBody.mass,n=this.wheelInfos,r=n.length,i=0;i<r;i++){var o=n[i];if(o.isInContact){var a,s=o.suspensionRestLength-o.suspensionLength;a=o.suspensionStiffness*s*o.clippedInvContactDotSuspension;var l=o.suspensionRelativeVelocity;a-=(l<0?o.dampingCompression:o.dampingRelaxation)*l,o.suspensionForce=a*e,o.suspensionForce<0&&(o.suspensionForce=0)}else o.suspensionForce=0}},s.prototype.removeFromWorld=function(t){this.constraints,t.remove(this.chassisBody),t.removeEventListener(\"preStep\",this.preStepCallback),this.world=null};var h=new r,p=new r;s.prototype.castRay=function(t){var e=h,n=p;this.updateWheelTransformWorld(t);var i=this.chassisBody,o=-1,a=t.suspensionRestLength+t.radius;t.directionWorld.scale(a,e);var s=t.chassisConnectionPointWorld;s.vadd(e,n);var l=t.raycastResult;l.reset();var u=i.collisionResponse;i.collisionResponse=!1,this.world.rayTest(s,n,l),i.collisionResponse=u;var c=l.body;if(t.raycastResult.groundObject=0,c){o=l.distance,t.raycastResult.hitNormalWorld=l.hitNormalWorld,t.isInContact=!0;var d=l.distance;t.suspensionLength=d-t.radius;var f=t.suspensionRestLength-t.maxSuspensionTravel,m=t.suspensionRestLength+t.maxSuspensionTravel;t.suspensionLength<f&&(t.suspensionLength=f),t.suspensionLength>m&&(t.suspensionLength=m,t.raycastResult.reset());var v=t.raycastResult.hitNormalWorld.dot(t.directionWorld),g=new r;i.getVelocityAtWorldPoint(t.raycastResult.hitPointWorld,g);var y=t.raycastResult.hitNormalWorld.dot(g);if(v>=-.1)t.suspensionRelativeVelocity=0,t.clippedInvContactDotSuspension=10;else{var b=-1/v;t.suspensionRelativeVelocity=y*b,t.clippedInvContactDotSuspension=b}}else t.suspensionLength=t.suspensionRestLength+0*t.maxSuspensionTravel,t.suspensionRelativeVelocity=0,t.directionWorld.scale(-1,t.raycastResult.hitNormalWorld),t.clippedInvContactDotSuspension=1;return o},s.prototype.updateWheelTransformWorld=function(t){t.isInContact=!1;var e=this.chassisBody;e.pointToWorldFrame(t.chassisConnectionPointLocal,t.chassisConnectionPointWorld),e.vectorToWorldFrame(t.directionLocal,t.directionWorld),e.vectorToWorldFrame(t.axleLocal,t.axleWorld)},s.prototype.updateWheelTransform=function(t){var e=l,n=u,r=c,o=this.wheelInfos[t];this.updateWheelTransformWorld(o),o.directionLocal.scale(-1,e),n.copy(o.axleLocal),e.cross(n,r),r.normalize(),n.normalize();var a=o.steering,s=new i;s.setFromAxisAngle(e,a);var h=new i;h.setFromAxisAngle(n,o.rotation);var p=o.worldTransform.quaternion;this.chassisBody.quaternion.mult(s,p),p.mult(h,p),p.normalize();var d=o.worldTransform.position;d.copy(o.directionWorld),d.scale(o.suspensionLength,d),d.vadd(o.chassisConnectionPointWorld,d)};var d=[new r(1,0,0),new r(0,1,0),new r(0,0,1)];s.prototype.getWheelTransformWorld=function(t){return this.wheelInfos[t].worldTransform};var f=new r,m=[],v=[];s.prototype.updateFriction=function(t){for(var e=f,n=this.wheelInfos,i=n.length,o=this.chassisBody,a=v,s=m,l=0;l<i;l++)p=(T=n[l]).raycastResult.body,T.sideImpulse=0,T.forwardImpulse=0,a[l]||(a[l]=new r),s[l]||(s[l]=new r);for(l=0;l<i;l++)if(p=(T=n[l]).raycastResult.body){var u=s[l];this.getWheelTransformWorld(l).vectorToWorldFrame(d[this.indexRightAxis],u);var c=T.raycastResult.hitNormalWorld,h=u.dot(c);c.scale(h,e),u.vsub(e,u),u.normalize(),c.cross(u,a[l]),a[l].normalize(),T.sideImpulse=P(o,T.raycastResult.hitPointWorld,p,T.raycastResult.hitPointWorld,u),T.sideImpulse*=1}for(this.sliding=!1,l=0;l<i;l++){var p=(T=n[l]).raycastResult.body,g=0;if(T.slipInfo=1,p){var y=T.brake?T.brake:0;g=x(o,p,T.raycastResult.hitPointWorld,a[l],y);var b=y/(g+=T.engineForce*t);T.slipInfo*=b}if(T.forwardImpulse=0,T.skidInfo=1,p){T.skidInfo=1;var w=T.suspensionForce*t*T.frictionSlip,_=w*w;T.forwardImpulse=g;var M=.5*T.forwardImpulse,E=1*T.sideImpulse,S=M*M+E*E;T.sliding=!1,S>_&&(this.sliding=!0,T.sliding=!0,b=w/Math.sqrt(S),T.skidInfo*=b)}}if(this.sliding)for(l=0;l<i;l++)0!==(T=n[l]).sideImpulse&&T.skidInfo<1&&(T.forwardImpulse*=T.skidInfo,T.sideImpulse*=T.skidInfo);for(l=0;l<i;l++){var T=n[l],C=new r;if(C.copy(T.raycastResult.hitPointWorld),0!==T.forwardImpulse){var A=new r;a[l].scale(T.forwardImpulse,A),o.applyImpulse(A,C)}if(0!==T.sideImpulse){p=T.raycastResult.body;var R=new r;R.copy(T.raycastResult.hitPointWorld);var L=new r;s[l].scale(T.sideImpulse,L),o.pointToLocalFrame(C,C),C[\"xyz\"[this.indexUpAxis]]*=T.rollInfluence,o.pointToWorldFrame(C,C),o.applyImpulse(L,C),L.scale(-1,L),p.applyImpulse(L,R)}}};var g=new r,y=new r,b=new r;function x(t,e,n,r,i){var o=0,a=n,s=g,l=y,u=b;return t.getVelocityAtWorldPoint(a,s),e.getVelocityAtWorldPoint(a,l),s.vsub(l,u),i<(o=-r.dot(u)*(1/(S(t,n,r)+S(e,n,r))))&&(o=i),o<-i&&(o=-i),o}var w=new r,_=new r,M=new r,E=new r;function S(t,e,n){var r=w,i=_,o=M,a=E;return e.vsub(t.position,r),r.cross(n,i),t.invInertiaWorld.vmult(i,a),a.cross(r,o),t.invMass+n.dot(o)}var T=new r,C=new r,A=new r;function P(t,e,n,r,i,o){if(i.norm2()>1.1)return 0;var a=T,s=C,l=A;return t.getVelocityAtWorldPoint(e,a),n.getVelocityAtWorldPoint(r,s),a.vsub(s,l),-.2*i.dot(l)*(1/(t.invMass+n.invMass))}},{\"../collision/Ray\":9,\"../collision/RaycastResult\":10,\"../math/Quaternion\":28,\"../math/Vec3\":30,\"../objects/WheelInfo\":36,\"./Body\":31}],33:[function(t,e,n){var r=t(\"./Body\"),i=t(\"../shapes/Sphere\"),o=t(\"../shapes/Box\"),a=t(\"../math/Vec3\"),s=t(\"../constraints/HingeConstraint\");function l(t){if(this.wheelBodies=[],this.coordinateSystem=void 0===t.coordinateSystem?new a(1,2,3):t.coordinateSystem.clone(),this.chassisBody=t.chassisBody,!this.chassisBody){var e=new o(new a(5,2,.5));this.chassisBody=new r(1,e)}this.constraints=[],this.wheelAxes=[],this.wheelForces=[]}e.exports=l,l.prototype.addWheel=function(t){var e=(t=t||{}).body;e||(e=new r(1,new i(1.2))),this.wheelBodies.push(e),this.wheelForces.push(0),new a;var n=void 0!==t.position?t.position.clone():new a,o=new a;this.chassisBody.pointToWorldFrame(n,o),e.position.set(o.x,o.y,o.z);var l=void 0!==t.axis?t.axis.clone():new a(0,1,0);this.wheelAxes.push(l);var u=new s(this.chassisBody,e,{pivotA:n,axisA:l,pivotB:a.ZERO,axisB:l,collideConnected:!1});return this.constraints.push(u),this.wheelBodies.length-1},l.prototype.setSteeringValue=function(t,e){var n=this.wheelAxes[e],r=Math.cos(t),i=Math.sin(t),o=n.x,a=n.y;this.constraints[e].axisA.set(r*o-i*a,i*o+r*a,0)},l.prototype.setMotorSpeed=function(t,e){var n=this.constraints[e];n.enableMotor(),n.motorTargetVelocity=t},l.prototype.disableMotor=function(t){this.constraints[t].disableMotor()};var u=new a;l.prototype.setWheelForce=function(t,e){this.wheelForces[e]=t},l.prototype.applyWheelForce=function(t,e){var n=this.wheelAxes[e],r=this.wheelBodies[e],i=r.torque;n.scale(t,u),r.vectorToWorldFrame(u,u),i.vadd(u,i)},l.prototype.addToWorld=function(t){for(var e=this.constraints,n=this.wheelBodies.concat([this.chassisBody]),r=0;r<n.length;r++)t.add(n[r]);for(r=0;r<e.length;r++)t.addConstraint(e[r]);t.addEventListener(\"preStep\",this._update.bind(this))},l.prototype._update=function(){for(var t=this.wheelForces,e=0;e<t.length;e++)this.applyWheelForce(t[e],e)},l.prototype.removeFromWorld=function(t){for(var e=this.constraints,n=this.wheelBodies.concat([this.chassisBody]),r=0;r<n.length;r++)t.remove(n[r]);for(r=0;r<e.length;r++)t.removeConstraint(e[r])};var c=new a;l.prototype.getWheelSpeed=function(t){var e=this.wheelAxes[t],n=this.wheelBodies[t].angularVelocity;return this.chassisBody.vectorToWorldFrame(e,c),n.dot(c)}},{\"../constraints/HingeConstraint\":15,\"../math/Vec3\":30,\"../shapes/Box\":37,\"../shapes/Sphere\":44,\"./Body\":31}],34:[function(t,e,n){e.exports=i,t(\"../shapes/Shape\");var r=t(\"../math/Vec3\");function i(){this.particles=[],this.density=1,this.smoothingRadius=1,this.speedOfSound=1,this.viscosity=.01,this.eps=1e-6,this.pressures=[],this.densities=[],this.neighbors=[]}t(\"../math/Quaternion\"),t(\"../shapes/Particle\"),t(\"../objects/Body\"),t(\"../material/Material\"),i.prototype.add=function(t){this.particles.push(t),this.neighbors.length<this.particles.length&&this.neighbors.push([])},i.prototype.remove=function(t){var e=this.particles.indexOf(t);-1!==e&&(this.particles.splice(e,1),this.neighbors.length>this.particles.length&&this.neighbors.pop())};var o=new r;i.prototype.getNeighbors=function(t,e){for(var n=this.particles.length,r=t.id,i=this.smoothingRadius*this.smoothingRadius,a=o,s=0;s!==n;s++){var l=this.particles[s];l.position.vsub(t.position,a),r!==l.id&&a.norm2()<i&&e.push(l)}};var a=new r,s=new r,l=new r,u=new r,c=new r,h=new r;i.prototype.update=function(){for(var t=this.particles.length,e=a,n=this.speedOfSound,r=this.eps,i=0;i!==t;i++){var o=this.particles[i];(E=this.neighbors[i]).length=0,this.getNeighbors(o,E),E.push(this.particles[i]);for(var p=E.length,d=0,f=0;f!==p;f++){o.position.vsub(E[f].position,e);var m=e.norm(),v=this.w(m);d+=E[f].mass*v}this.densities[i]=d,this.pressures[i]=n*n*(this.densities[i]-this.density)}var g=s,y=l,b=u,x=c,w=h;for(i=0;i!==t;i++){var _,M,E,S=this.particles[i];for(g.set(0,0,0),y.set(0,0,0),p=(E=this.neighbors[i]).length,f=0;f!==p;f++){var T=E[f];S.position.vsub(T.position,x);var C=x.norm();_=-T.mass*(this.pressures[i]/(this.densities[i]*this.densities[i]+r)+this.pressures[f]/(this.densities[f]*this.densities[f]+r)),this.gradw(x,b),b.mult(_,b),g.vadd(b,g),T.velocity.vsub(S.velocity,w),w.mult(1/(1e-4+this.densities[i]*this.densities[f])*this.viscosity*T.mass,w),M=this.nablaw(C),w.mult(M,w),y.vadd(w,y)}y.mult(S.mass,y),g.mult(S.mass,g),S.force.vadd(y,S.force),S.force.vadd(g,S.force)}},i.prototype.w=function(t){var e=this.smoothingRadius;return 315/(64*Math.PI*Math.pow(e,9))*Math.pow(e*e-t*t,3)},i.prototype.gradw=function(t,e){var n=t.norm(),r=this.smoothingRadius;t.mult(945/(32*Math.PI*Math.pow(r,9))*Math.pow(r*r-n*n,2),e)},i.prototype.nablaw=function(t){var e=this.smoothingRadius;return 945/(32*Math.PI*Math.pow(e,9))*(e*e-t*t)*(7*t*t-3*e*e)}},{\"../material/Material\":25,\"../math/Quaternion\":28,\"../math/Vec3\":30,\"../objects/Body\":31,\"../shapes/Particle\":41,\"../shapes/Shape\":43}],35:[function(t,e,n){var r=t(\"../math/Vec3\");function i(t,e,n){n=n||{},this.restLength=\"number\"==typeof n.restLength?n.restLength:1,this.stiffness=n.stiffness||100,this.damping=n.damping||1,this.bodyA=t,this.bodyB=e,this.localAnchorA=new r,this.localAnchorB=new r,n.localAnchorA&&this.localAnchorA.copy(n.localAnchorA),n.localAnchorB&&this.localAnchorB.copy(n.localAnchorB),n.worldAnchorA&&this.setWorldAnchorA(n.worldAnchorA),n.worldAnchorB&&this.setWorldAnchorB(n.worldAnchorB)}e.exports=i,i.prototype.setWorldAnchorA=function(t){this.bodyA.pointToLocalFrame(t,this.localAnchorA)},i.prototype.setWorldAnchorB=function(t){this.bodyB.pointToLocalFrame(t,this.localAnchorB)},i.prototype.getWorldAnchorA=function(t){this.bodyA.pointToWorldFrame(this.localAnchorA,t)},i.prototype.getWorldAnchorB=function(t){this.bodyB.pointToWorldFrame(this.localAnchorB,t)};var o=new r,a=new r,s=new r,l=new r,u=new r,c=new r,h=new r,p=new r,d=new r,f=new r,m=new r;i.prototype.applyForce=function(){var t=this.stiffness,e=this.damping,n=this.restLength,r=this.bodyA,i=this.bodyB,v=o,g=a,y=s,b=l,x=m,w=u,_=c,M=h,E=p,S=d,T=f;this.getWorldAnchorA(w),this.getWorldAnchorB(_),w.vsub(r.position,M),_.vsub(i.position,E),_.vsub(w,v);var C=v.norm();g.copy(v),g.normalize(),i.velocity.vsub(r.velocity,y),i.angularVelocity.cross(E,x),y.vadd(x,y),r.angularVelocity.cross(M,x),y.vsub(x,y),g.mult(-t*(C-n)-e*y.dot(g),b),r.force.vsub(b,r.force),i.force.vadd(b,i.force),M.cross(b,S),E.cross(b,T),r.torque.vsub(S,r.torque),i.torque.vadd(T,i.torque)}},{\"../math/Vec3\":30}],36:[function(t,e,n){var r=t(\"../math/Vec3\"),i=t(\"../math/Transform\"),o=t(\"../collision/RaycastResult\"),a=t(\"../utils/Utils\");function s(t){t=a.defaults(t,{chassisConnectionPointLocal:new r,chassisConnectionPointWorld:new r,directionLocal:new r,directionWorld:new r,axleLocal:new r,axleWorld:new r,suspensionRestLength:1,suspensionMaxLength:2,radius:1,suspensionStiffness:100,dampingCompression:10,dampingRelaxation:10,frictionSlip:1e4,steering:0,rotation:0,deltaRotation:0,rollInfluence:.01,maxSuspensionForce:Number.MAX_VALUE,isFrontWheel:!0,clippedInvContactDotSuspension:1,suspensionRelativeVelocity:0,suspensionForce:0,skidInfo:0,suspensionLength:0,maxSuspensionTravel:1,useCustomSlidingRotationalSpeed:!1,customSlidingRotationalSpeed:-.1}),this.maxSuspensionTravel=t.maxSuspensionTravel,this.customSlidingRotationalSpeed=t.customSlidingRotationalSpeed,this.useCustomSlidingRotationalSpeed=t.useCustomSlidingRotationalSpeed,this.sliding=!1,this.chassisConnectionPointLocal=t.chassisConnectionPointLocal.clone(),this.chassisConnectionPointWorld=t.chassisConnectionPointWorld.clone(),this.directionLocal=t.directionLocal.clone(),this.directionWorld=t.directionWorld.clone(),this.axleLocal=t.axleLocal.clone(),this.axleWorld=t.axleWorld.clone(),this.suspensionRestLength=t.suspensionRestLength,this.suspensionMaxLength=t.suspensionMaxLength,this.radius=t.radius,this.suspensionStiffness=t.suspensionStiffness,this.dampingCompression=t.dampingCompression,this.dampingRelaxation=t.dampingRelaxation,this.frictionSlip=t.frictionSlip,this.steering=0,this.rotation=0,this.deltaRotation=0,this.rollInfluence=t.rollInfluence,this.maxSuspensionForce=t.maxSuspensionForce,this.engineForce=0,this.brake=0,this.isFrontWheel=t.isFrontWheel,this.clippedInvContactDotSuspension=1,this.suspensionRelativeVelocity=0,this.suspensionForce=0,this.skidInfo=0,this.suspensionLength=0,this.sideImpulse=0,this.forwardImpulse=0,this.raycastResult=new o,this.worldTransform=new i,this.isInContact=!1}e.exports=s;var l=new r,u=new r;l=new r,s.prototype.updateWheel=function(t){var e=this.raycastResult;if(this.isInContact){var n=e.hitNormalWorld.dot(e.directionWorld);e.hitPointWorld.vsub(t.position,u),t.getVelocityAtWorldPoint(u,l);var r=e.hitNormalWorld.dot(l);if(n>=-.1)this.suspensionRelativeVelocity=0,this.clippedInvContactDotSuspension=10;else{var i=-1/n;this.suspensionRelativeVelocity=r*i,this.clippedInvContactDotSuspension=i}}else e.suspensionLength=this.suspensionRestLength,this.suspensionRelativeVelocity=0,e.directionWorld.scale(-1,e.hitNormalWorld),this.clippedInvContactDotSuspension=1}},{\"../collision/RaycastResult\":10,\"../math/Transform\":29,\"../math/Vec3\":30,\"../utils/Utils\":53}],37:[function(t,e,n){e.exports=a;var r=t(\"./Shape\"),i=t(\"../math/Vec3\"),o=t(\"./ConvexPolyhedron\");function a(t){r.call(this),this.type=r.types.BOX,this.halfExtents=t,this.convexPolyhedronRepresentation=null,this.updateConvexPolyhedronRepresentation(),this.updateBoundingSphereRadius()}a.prototype=new r,a.prototype.constructor=a,a.prototype.updateConvexPolyhedronRepresentation=function(){var t=this.halfExtents.x,e=this.halfExtents.y,n=this.halfExtents.z,r=i,a=[new r(-t,-e,-n),new r(t,-e,-n),new r(t,e,-n),new r(-t,e,-n),new r(-t,-e,n),new r(t,-e,n),new r(t,e,n),new r(-t,e,n)],s=(new r(0,0,1),new r(0,1,0),new r(1,0,0),new o(a,[[3,2,1,0],[4,5,6,7],[5,4,0,1],[2,3,7,6],[0,4,7,3],[1,2,6,5]]));this.convexPolyhedronRepresentation=s,s.material=this.material},a.prototype.calculateLocalInertia=function(t,e){return e=e||new i,a.calculateInertia(this.halfExtents,t,e),e},a.calculateInertia=function(t,e,n){var r=t;n.x=1/12*e*(2*r.y*2*r.y+2*r.z*2*r.z),n.y=1/12*e*(2*r.x*2*r.x+2*r.z*2*r.z),n.z=1/12*e*(2*r.y*2*r.y+2*r.x*2*r.x)},a.prototype.getSideNormals=function(t,e){var n=t,r=this.halfExtents;if(n[0].set(r.x,0,0),n[1].set(0,r.y,0),n[2].set(0,0,r.z),n[3].set(-r.x,0,0),n[4].set(0,-r.y,0),n[5].set(0,0,-r.z),void 0!==e)for(var i=0;i!==n.length;i++)e.vmult(n[i],n[i]);return n},a.prototype.volume=function(){return 8*this.halfExtents.x*this.halfExtents.y*this.halfExtents.z},a.prototype.updateBoundingSphereRadius=function(){this.boundingSphereRadius=this.halfExtents.norm()};var s=new i;new i,a.prototype.forEachWorldCorner=function(t,e,n){for(var r=this.halfExtents,i=[[r.x,r.y,r.z],[-r.x,r.y,r.z],[-r.x,-r.y,r.z],[-r.x,-r.y,-r.z],[r.x,-r.y,-r.z],[r.x,r.y,-r.z],[-r.x,r.y,-r.z],[r.x,-r.y,r.z]],o=0;o<i.length;o++)s.set(i[o][0],i[o][1],i[o][2]),e.vmult(s,s),t.vadd(s,s),n(s.x,s.y,s.z)};var l=[new i,new i,new i,new i,new i,new i,new i,new i];a.prototype.calculateWorldAABB=function(t,e,n,r){var i=this.halfExtents;l[0].set(i.x,i.y,i.z),l[1].set(-i.x,i.y,i.z),l[2].set(-i.x,-i.y,i.z),l[3].set(-i.x,-i.y,-i.z),l[4].set(i.x,-i.y,-i.z),l[5].set(i.x,i.y,-i.z),l[6].set(-i.x,i.y,-i.z),l[7].set(i.x,-i.y,i.z);var o=l[0];e.vmult(o,o),t.vadd(o,o),r.copy(o),n.copy(o);for(var a=1;a<8;a++){o=l[a],e.vmult(o,o),t.vadd(o,o);var s=o.x,u=o.y,c=o.z;s>r.x&&(r.x=s),u>r.y&&(r.y=u),c>r.z&&(r.z=c),s<n.x&&(n.x=s),u<n.y&&(n.y=u),c<n.z&&(n.z=c)}}},{\"../math/Vec3\":30,\"./ConvexPolyhedron\":38,\"./Shape\":43}],38:[function(t,e,n){e.exports=a;var r=t(\"./Shape\"),i=t(\"../math/Vec3\"),o=(t(\"../math/Quaternion\"),t(\"../math/Transform\"));function a(t,e,n){r.call(this),this.type=r.types.CONVEXPOLYHEDRON,this.vertices=t||[],this.worldVertices=[],this.worldVerticesNeedsUpdate=!0,this.faces=e||[],this.faceNormals=[],this.computeNormals(),this.worldFaceNormalsNeedsUpdate=!0,this.worldFaceNormals=[],this.uniqueEdges=[],this.uniqueAxes=n?n.slice():null,this.computeEdges(),this.updateBoundingSphereRadius()}a.prototype=new r,a.prototype.constructor=a;var s=new i;a.prototype.computeEdges=function(){var t=this.faces,e=this.vertices,n=(e.length,this.uniqueEdges);n.length=0;for(var r=s,i=0;i!==t.length;i++)for(var o=t[i],a=o.length,l=0;l!==a;l++){var u=(l+1)%a;e[o[l]].vsub(e[o[u]],r),r.normalize();for(var c=!1,h=0;h!==n.length;h++)if(n[h].almostEquals(r)||n[h].almostEquals(r)){c=!0;break}c||n.push(r.clone())}},a.prototype.computeNormals=function(){this.faceNormals.length=this.faces.length;for(var t=0;t<this.faces.length;t++){for(var e=0;e<this.faces[t].length;e++)if(!this.vertices[this.faces[t][e]])throw new Error(\"Vertex \"+this.faces[t][e]+\" not found!\");var n=this.faceNormals[t]||new i;this.getFaceNormal(t,n),n.negate(n),this.faceNormals[t]=n;var r=this.vertices[this.faces[t][0]];if(n.dot(r)<0)for(console.error(\".faceNormals[\"+t+\"] = Vec3(\"+n.toString()+\") looks like it points into the shape? The vertices follow. Make sure they are ordered CCW around the normal, using the right hand rule.\"),e=0;e<this.faces[t].length;e++)console.warn(\".vertices[\"+this.faces[t][e]+\"] = Vec3(\"+this.vertices[this.faces[t][e]].toString()+\")\")}};var l=new i,u=new i;a.computeNormal=function(t,e,n,r){e.vsub(t,u),n.vsub(e,l),l.cross(u,r),r.isZero()||r.normalize()},a.prototype.getFaceNormal=function(t,e){var n=this.faces[t],r=this.vertices[n[0]],i=this.vertices[n[1]],o=this.vertices[n[2]];return a.computeNormal(r,i,o,e)};var c=new i;a.prototype.clipAgainstHull=function(t,e,n,r,o,a,s,l,u){for(var h=c,p=-1,d=-Number.MAX_VALUE,f=0;f<n.faces.length;f++){h.copy(n.faceNormals[f]),o.vmult(h,h);var m=h.dot(a);m>d&&(d=m,p=f)}for(var v=[],g=n.faces[p],y=g.length,b=0;b<y;b++){var x=n.vertices[g[b]],w=new i;w.copy(x),o.vmult(w,w),r.vadd(w,w),v.push(w)}p>=0&&this.clipFaceAgainstHull(a,t,e,v,s,l,u)};var h=new i,p=new i,d=new i,f=new i,m=new i,v=new i;a.prototype.findSeparatingAxis=function(t,e,n,r,i,o,a,s){var l=h,u=p,c=d,g=f,y=m,b=v,x=Number.MAX_VALUE;if(this.uniqueAxes)for(_=0;_!==this.uniqueAxes.length;_++){if(n.vmult(this.uniqueAxes[_],l),!1===(S=this.testSepAxis(l,t,e,n,r,i)))return!1;S<x&&(x=S,o.copy(l))}else for(var w=a?a.length:this.faces.length,_=0;_<w;_++){var M=a?a[_]:_;if(l.copy(this.faceNormals[M]),n.vmult(l,l),!1===(S=this.testSepAxis(l,t,e,n,r,i)))return!1;S<x&&(x=S,o.copy(l))}if(t.uniqueAxes)for(_=0;_!==t.uniqueAxes.length;_++){if(i.vmult(t.uniqueAxes[_],u),!1===(S=this.testSepAxis(u,t,e,n,r,i)))return!1;S<x&&(x=S,o.copy(u))}else for(var E=s?s.length:t.faces.length,_=0;_<E;_++){var S;if(M=s?s[_]:_,u.copy(t.faceNormals[M]),i.vmult(u,u),!1===(S=this.testSepAxis(u,t,e,n,r,i)))return!1;S<x&&(x=S,o.copy(u))}for(var T=0;T!==this.uniqueEdges.length;T++){n.vmult(this.uniqueEdges[T],g);for(var C=0;C!==t.uniqueEdges.length;C++)if(i.vmult(t.uniqueEdges[C],y),g.cross(y,b),!b.almostZero()){b.normalize();var A=this.testSepAxis(b,t,e,n,r,i);if(!1===A)return!1;A<x&&(x=A,o.copy(b))}}return r.vsub(e,c),c.dot(o)>0&&o.negate(o),!0};var g=[],y=[];a.prototype.testSepAxis=function(t,e,n,r,i,o){a.project(this,t,n,r,g),a.project(e,t,i,o,y);var s=g[0],l=g[1],u=y[0],c=y[1];if(s<c||u<l)return!1;var h=s-c,p=u-l;return h<p?h:p};var b=new i,x=new i;a.prototype.calculateLocalInertia=function(t,e){this.computeLocalAABB(b,x);var n=x.x-b.x,r=x.y-b.y,i=x.z-b.z;e.x=1/12*t*(2*r*2*r+2*i*2*i),e.y=1/12*t*(2*n*2*n+2*i*2*i),e.z=1/12*t*(2*r*2*r+2*n*2*n)},a.prototype.getPlaneConstantOfFace=function(t){var e=this.faces[t],n=this.faceNormals[t],r=this.vertices[e[0]];return-n.dot(r)};var w=new i,_=new i,M=new i,E=new i,S=new i,T=new i,C=new i,A=new i;a.prototype.clipFaceAgainstHull=function(t,e,n,r,i,o,a){for(var s=w,l=_,u=M,c=E,h=S,p=T,d=C,f=A,m=r,v=[],g=-1,y=Number.MAX_VALUE,b=0;b<this.faces.length;b++){s.copy(this.faceNormals[b]),n.vmult(s,s);var x=s.dot(t);x<y&&(y=x,g=b)}if(!(g<0)){var P=this.faces[g];P.connectedFaces=[];for(var R=0;R<this.faces.length;R++)for(var L=0;L<this.faces[R].length;L++)-1!==P.indexOf(this.faces[R][L])&&R!==g&&-1===P.connectedFaces.indexOf(R)&&P.connectedFaces.push(R);m.length;for(var O=P.length,I=0;I<O;I++){var N=this.vertices[P[I]],k=this.vertices[P[(I+1)%O]];N.vsub(k,l),u.copy(l),n.vmult(u,u),e.vadd(u,u),c.copy(this.faceNormals[g]),n.vmult(c,c),e.vadd(c,c),u.cross(c,h),h.negate(h),p.copy(N),n.vmult(p,p),e.vadd(p,p),p.dot(h);var D=P.connectedFaces[I];d.copy(this.faceNormals[D]);var F=this.getPlaneConstantOfFace(D);f.copy(d),n.vmult(f,f);var B=F-f.dot(e);for(this.clipFaceAgainstPlane(m,v,f,B);m.length;)m.shift();for(;v.length;)m.push(v.shift())}for(d.copy(this.faceNormals[g]),F=this.getPlaneConstantOfFace(g),f.copy(d),n.vmult(f,f),B=F-f.dot(e),R=0;R<m.length;R++){var U=f.dot(m[R])+B;if(U<=i&&(console.log(\"clamped: depth=\"+U+\" to minDist=\"+i),U=i),U<=o){var z=m[R];if(U<=0){var j={point:z,normal:f,depth:U};a.push(j)}}}}},a.prototype.clipFaceAgainstPlane=function(t,e,n,r){var o,a,s=t.length;if(s<2)return e;var l=t[t.length-1],u=t[0];o=n.dot(l)+r;for(var c=0;c<s;c++){if(u=t[c],a=n.dot(u)+r,o<0)if(a<0)(h=new i).copy(u),e.push(h);else{var h=new i;l.lerp(u,o/(o-a),h),e.push(h)}else a<0&&(h=new i,l.lerp(u,o/(o-a),h),e.push(h),e.push(u));l=u,o=a}return e},a.prototype.computeWorldVertices=function(t,e){for(var n=this.vertices.length;this.worldVertices.length<n;)this.worldVertices.push(new i);for(var r=this.vertices,o=this.worldVertices,a=0;a!==n;a++)e.vmult(r[a],o[a]),t.vadd(o[a],o[a]);this.worldVerticesNeedsUpdate=!1},new i,a.prototype.computeLocalAABB=function(t,e){var n=this.vertices.length,r=this.vertices;t.set(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),e.set(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);for(var i=0;i<n;i++){var o=r[i];o.x<t.x?t.x=o.x:o.x>e.x&&(e.x=o.x),o.y<t.y?t.y=o.y:o.y>e.y&&(e.y=o.y),o.z<t.z?t.z=o.z:o.z>e.z&&(e.z=o.z)}},a.prototype.computeWorldFaceNormals=function(t){for(var e=this.faceNormals.length;this.worldFaceNormals.length<e;)this.worldFaceNormals.push(new i);for(var n=this.faceNormals,r=this.worldFaceNormals,o=0;o!==e;o++)t.vmult(n[o],r[o]);this.worldFaceNormalsNeedsUpdate=!1},a.prototype.updateBoundingSphereRadius=function(){for(var t=0,e=this.vertices,n=0,r=e.length;n!==r;n++){var i=e[n].norm2();i>t&&(t=i)}this.boundingSphereRadius=Math.sqrt(t)};var P=new i;a.prototype.calculateWorldAABB=function(t,e,n,r){for(var i,o,a,s,l,u,c=this.vertices.length,h=this.vertices,p=0;p<c;p++){P.copy(h[p]),e.vmult(P,P),t.vadd(P,P);var d=P;d.x<i||void 0===i?i=d.x:(d.x>s||void 0===s)&&(s=d.x),d.y<o||void 0===o?o=d.y:(d.y>l||void 0===l)&&(l=d.y),d.z<a||void 0===a?a=d.z:(d.z>u||void 0===u)&&(u=d.z)}n.set(i,o,a),r.set(s,l,u)},a.prototype.volume=function(){return 4*Math.PI*this.boundingSphereRadius/3},a.prototype.getAveragePointLocal=function(t){t=t||new i;for(var e=this.vertices.length,n=this.vertices,r=0;r<e;r++)t.vadd(n[r],t);return t.mult(1/e,t),t},a.prototype.transformAllPoints=function(t,e){var n=this.vertices.length,r=this.vertices;if(e){for(var i=0;i<n;i++){var o=r[i];e.vmult(o,o)}for(i=0;i<this.faceNormals.length;i++)o=this.faceNormals[i],e.vmult(o,o)}if(t)for(i=0;i<n;i++)(o=r[i]).vadd(t,o)};var R=new i,L=new i,O=new i;a.prototype.pointIsInside=function(t){var e=this.vertices.length,n=this.vertices,r=this.faces,i=this.faceNormals,o=this.faces.length,a=R;this.getAveragePointLocal(a);for(var s=0;s<o;s++){this.faces[s].length,e=i[s];var l=n[r[s][0]],u=L;t.vsub(l,u);var c=e.dot(u),h=O;a.vsub(l,h);var p=e.dot(h);if(c<0&&p>0||c>0&&p<0)return!1}return-1},new i;var I=new i,N=new i;a.project=function(t,e,n,r,i){var a=t.vertices.length,s=I,l=0,u=0,c=N,h=t.vertices;c.setZero(),o.vectorToLocalFrame(n,r,e,s),o.pointToLocalFrame(n,r,c,c);var p=c.dot(s);u=l=h[0].dot(s);for(var d=1;d<a;d++){var f=h[d].dot(s);f>l&&(l=f),f<u&&(u=f)}if((u-=p)>(l-=p)){var m=u;u=l,l=m}i[0]=l,i[1]=u}},{\"../math/Quaternion\":28,\"../math/Transform\":29,\"../math/Vec3\":30,\"./Shape\":43}],39:[function(t,e,n){e.exports=a;var r=t(\"./Shape\"),i=t(\"../math/Vec3\"),o=(t(\"../math/Quaternion\"),t(\"./ConvexPolyhedron\"));function a(t,e,n,a){var s=a,l=[],u=[],c=[],h=[],p=[],d=Math.cos,f=Math.sin;l.push(new i(e*d(0),e*f(0),.5*-n)),h.push(0),l.push(new i(t*d(0),t*f(0),.5*n)),p.push(1);for(var m=0;m<s;m++){var v=2*Math.PI/s*(m+1),g=2*Math.PI/s*(m+.5);m<s-1?(l.push(new i(e*d(v),e*f(v),.5*-n)),h.push(2*m+2),l.push(new i(t*d(v),t*f(v),.5*n)),p.push(2*m+3),c.push([2*m+2,2*m+3,2*m+1,2*m])):c.push([0,1,2*m+1,2*m]),(s%2==1||m<s/2)&&u.push(new i(d(g),f(g),0))}c.push(p),u.push(new i(0,0,1));var y=[];for(m=0;m<h.length;m++)y.push(h[h.length-m-1]);c.push(y),this.type=r.types.CONVEXPOLYHEDRON,o.call(this,l,c,u)}a.prototype=new o},{\"../math/Quaternion\":28,\"../math/Vec3\":30,\"./ConvexPolyhedron\":38,\"./Shape\":43}],40:[function(t,e,n){var r=t(\"./Shape\"),i=t(\"./ConvexPolyhedron\"),o=t(\"../math/Vec3\"),a=t(\"../utils/Utils\");function s(t,e){e=a.defaults(e,{maxValue:null,minValue:null,elementSize:1}),this.data=t,this.maxValue=e.maxValue,this.minValue=e.minValue,this.elementSize=e.elementSize,null===e.minValue&&this.updateMinValue(),null===e.maxValue&&this.updateMaxValue(),this.cacheEnabled=!0,r.call(this),this.pillarConvex=new i,this.pillarOffset=new o,this.type=r.types.HEIGHTFIELD,this.updateBoundingSphereRadius(),this._cachedPillars={}}e.exports=s,s.prototype=new r,s.prototype.update=function(){this._cachedPillars={}},s.prototype.updateMinValue=function(){for(var t=this.data,e=t[0][0],n=0;n!==t.length;n++)for(var r=0;r!==t[n].length;r++){var i=t[n][r];i<e&&(e=i)}this.minValue=e},s.prototype.updateMaxValue=function(){for(var t=this.data,e=t[0][0],n=0;n!==t.length;n++)for(var r=0;r!==t[n].length;r++){var i=t[n][r];i>e&&(e=i)}this.maxValue=e},s.prototype.setHeightValueAtIndex=function(t,e,n){this.data[t][e]=n,this.clearCachedConvexTrianglePillar(t,e,!1),t>0&&(this.clearCachedConvexTrianglePillar(t-1,e,!0),this.clearCachedConvexTrianglePillar(t-1,e,!1)),e>0&&(this.clearCachedConvexTrianglePillar(t,e-1,!0),this.clearCachedConvexTrianglePillar(t,e-1,!1)),e>0&&t>0&&this.clearCachedConvexTrianglePillar(t-1,e-1,!0)},s.prototype.getRectMinMax=function(t,e,n,r,i){i=i||[];for(var o=this.data,a=this.minValue,s=t;s<=n;s++)for(var l=e;l<=r;l++){var u=o[s][l];u>a&&(a=u)}i[0]=this.minValue,i[1]=a},s.prototype.getIndexOfPosition=function(t,e,n,r){var i=this.elementSize,o=this.data,a=Math.floor(t/i),s=Math.floor(e/i);return n[0]=a,n[1]=s,r&&(a<0&&(a=0),s<0&&(s=0),a>=o.length-1&&(a=o.length-1),s>=o[0].length-1&&(s=o[0].length-1)),!(a<0||s<0||a>=o.length-1||s>=o[0].length-1)},s.prototype.getHeightAt=function(t,e,n){var r=[];this.getIndexOfPosition(t,e,r,n);var i=[];return this.getRectMinMax(r[0],r[1]+1,r[0],r[1]+1,i),(i[0]+i[1])/2},s.prototype.getCacheConvexTrianglePillarKey=function(t,e,n){return t+\"_\"+e+\"_\"+(n?1:0)},s.prototype.getCachedConvexTrianglePillar=function(t,e,n){return this._cachedPillars[this.getCacheConvexTrianglePillarKey(t,e,n)]},s.prototype.setCachedConvexTrianglePillar=function(t,e,n,r,i){this._cachedPillars[this.getCacheConvexTrianglePillarKey(t,e,n)]={convex:r,offset:i}},s.prototype.clearCachedConvexTrianglePillar=function(t,e,n){delete this._cachedPillars[this.getCacheConvexTrianglePillarKey(t,e,n)]},s.prototype.getConvexTrianglePillar=function(t,e,n){var r=this.pillarConvex,a=this.pillarOffset;if(this.cacheEnabled){if(s=this.getCachedConvexTrianglePillar(t,e,n))return this.pillarConvex=s.convex,void(this.pillarOffset=s.offset);r=new i,a=new o,this.pillarConvex=r,this.pillarOffset=a}var s=this.data,l=this.elementSize,u=r.faces;r.vertices.length=6;for(var c=0;c<6;c++)r.vertices[c]||(r.vertices[c]=new o);for(u.length=5,c=0;c<5;c++)u[c]||(u[c]=[]);var h=r.vertices,p=(Math.min(s[t][e],s[t+1][e],s[t][e+1],s[t+1][e+1])-this.minValue)/2+this.minValue;n?(a.set((t+.75)*l,(e+.75)*l,p),h[0].set(.25*l,.25*l,s[t+1][e+1]-p),h[1].set(-.75*l,.25*l,s[t][e+1]-p),h[2].set(.25*l,-.75*l,s[t+1][e]-p),h[3].set(.25*l,.25*l,-p-1),h[4].set(-.75*l,.25*l,-p-1),h[5].set(.25*l,-.75*l,-p-1),u[0][0]=0,u[0][1]=1,u[0][2]=2,u[1][0]=5,u[1][1]=4,u[1][2]=3,u[2][0]=2,u[2][1]=5,u[2][2]=3,u[2][3]=0,u[3][0]=3,u[3][1]=4,u[3][2]=1,u[3][3]=0,u[4][0]=1,u[4][1]=4,u[4][2]=5,u[4][3]=2):(a.set((t+.25)*l,(e+.25)*l,p),h[0].set(-.25*l,-.25*l,s[t][e]-p),h[1].set(.75*l,-.25*l,s[t+1][e]-p),h[2].set(-.25*l,.75*l,s[t][e+1]-p),h[3].set(-.25*l,-.25*l,-p-1),h[4].set(.75*l,-.25*l,-p-1),h[5].set(-.25*l,.75*l,-p-1),u[0][0]=0,u[0][1]=1,u[0][2]=2,u[1][0]=5,u[1][1]=4,u[1][2]=3,u[2][0]=0,u[2][1]=2,u[2][2]=5,u[2][3]=3,u[3][0]=1,u[3][1]=0,u[3][2]=3,u[3][3]=4,u[4][0]=4,u[4][1]=5,u[4][2]=2,u[4][3]=1),r.computeNormals(),r.computeEdges(),r.updateBoundingSphereRadius(),this.setCachedConvexTrianglePillar(t,e,n,r,a)},s.prototype.calculateLocalInertia=function(t,e){return(e=e||new o).set(0,0,0),e},s.prototype.volume=function(){return Number.MAX_VALUE},s.prototype.calculateWorldAABB=function(t,e,n,r){n.set(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),r.set(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE)},s.prototype.updateBoundingSphereRadius=function(){var t=this.data,e=this.elementSize;this.boundingSphereRadius=new o(t.length*e,t[0].length*e,Math.max(Math.abs(this.maxValue),Math.abs(this.minValue))).norm()}},{\"../math/Vec3\":30,\"../utils/Utils\":53,\"./ConvexPolyhedron\":38,\"./Shape\":43}],41:[function(t,e,n){e.exports=o;var r=t(\"./Shape\"),i=t(\"../math/Vec3\");function o(){r.call(this),this.type=r.types.PARTICLE}o.prototype=new r,o.prototype.constructor=o,o.prototype.calculateLocalInertia=function(t,e){return(e=e||new i).set(0,0,0),e},o.prototype.volume=function(){return 0},o.prototype.updateBoundingSphereRadius=function(){this.boundingSphereRadius=0},o.prototype.calculateWorldAABB=function(t,e,n,r){n.copy(t),r.copy(t)}},{\"../math/Vec3\":30,\"./Shape\":43}],42:[function(t,e,n){e.exports=o;var r=t(\"./Shape\"),i=t(\"../math/Vec3\");function o(){r.call(this),this.type=r.types.PLANE,this.worldNormal=new i,this.worldNormalNeedsUpdate=!0,this.boundingSphereRadius=Number.MAX_VALUE}o.prototype=new r,o.prototype.constructor=o,o.prototype.computeWorldNormal=function(t){var e=this.worldNormal;e.set(0,0,1),t.vmult(e,e),this.worldNormalNeedsUpdate=!1},o.prototype.calculateLocalInertia=function(t,e){return e=e||new i},o.prototype.volume=function(){return Number.MAX_VALUE};var a=new i;o.prototype.calculateWorldAABB=function(t,e,n,r){a.set(0,0,1),e.vmult(a,a);var i=Number.MAX_VALUE;n.set(-i,-i,-i),r.set(i,i,i),1===a.x&&(r.x=t.x),1===a.y&&(r.y=t.y),1===a.z&&(r.z=t.z),-1===a.x&&(n.x=t.x),-1===a.y&&(n.y=t.y),-1===a.z&&(n.z=t.z)},o.prototype.updateBoundingSphereRadius=function(){this.boundingSphereRadius=Number.MAX_VALUE}},{\"../math/Vec3\":30,\"./Shape\":43}],43:[function(t,e,n){e.exports=r;var r=t(\"./Shape\");function r(){this.id=r.idCounter++,this.type=0,this.boundingSphereRadius=0,this.collisionResponse=!0,this.material=null}t(\"../math/Vec3\"),t(\"../math/Quaternion\"),t(\"../material/Material\"),r.prototype.constructor=r,r.prototype.updateBoundingSphereRadius=function(){throw\"computeBoundingSphereRadius() not implemented for shape type \"+this.type},r.prototype.volume=function(){throw\"volume() not implemented for shape type \"+this.type},r.prototype.calculateLocalInertia=function(t,e){throw\"calculateLocalInertia() not implemented for shape type \"+this.type},r.idCounter=0,r.types={SPHERE:1,PLANE:2,BOX:4,COMPOUND:8,CONVEXPOLYHEDRON:16,HEIGHTFIELD:32,PARTICLE:64,CYLINDER:128,TRIMESH:256}},{\"../material/Material\":25,\"../math/Quaternion\":28,\"../math/Vec3\":30,\"./Shape\":43}],44:[function(t,e,n){e.exports=o;var r=t(\"./Shape\"),i=t(\"../math/Vec3\");function o(t){if(r.call(this),this.radius=void 0!==t?Number(t):1,this.type=r.types.SPHERE,this.radius<0)throw new Error(\"The sphere radius cannot be negative.\");this.updateBoundingSphereRadius()}o.prototype=new r,o.prototype.constructor=o,o.prototype.calculateLocalInertia=function(t,e){e=e||new i;var n=2*t*this.radius*this.radius/5;return e.x=n,e.y=n,e.z=n,e},o.prototype.volume=function(){return 4*Math.PI*this.radius/3},o.prototype.updateBoundingSphereRadius=function(){this.boundingSphereRadius=this.radius},o.prototype.calculateWorldAABB=function(t,e,n,r){for(var i=this.radius,o=[\"x\",\"y\",\"z\"],a=0;a<o.length;a++){var s=o[a];n[s]=t[s]-i,r[s]=t[s]+i}}},{\"../math/Vec3\":30,\"./Shape\":43}],45:[function(t,e,n){e.exports=l;var r=t(\"./Shape\"),i=t(\"../math/Vec3\"),o=(t(\"../math/Quaternion\"),t(\"../math/Transform\")),a=t(\"../collision/AABB\"),s=t(\"../utils/Octree\");function l(t,e){r.call(this),this.type=r.types.TRIMESH,this.vertices=new Float32Array(t),this.indices=new Int16Array(e),this.normals=new Float32Array(e.length),this.aabb=new a,this.edges=null,this.scale=new i(1,1,1),this.tree=new s,this.updateEdges(),this.updateNormals(),this.updateAABB(),this.updateBoundingSphereRadius(),this.updateTree()}l.prototype=new r,l.prototype.constructor=l;var u=new i;l.prototype.updateTree=function(){var t=this.tree;t.reset(),t.aabb.copy(this.aabb);var e=this.scale;t.aabb.lowerBound.x*=1/e.x,t.aabb.lowerBound.y*=1/e.y,t.aabb.lowerBound.z*=1/e.z,t.aabb.upperBound.x*=1/e.x,t.aabb.upperBound.y*=1/e.y,t.aabb.upperBound.z*=1/e.z;for(var n=new a,r=new i,o=new i,s=new i,l=[r,o,s],u=0;u<this.indices.length/3;u++){var c=3*u;this._getUnscaledVertex(this.indices[c],r),this._getUnscaledVertex(this.indices[c+1],o),this._getUnscaledVertex(this.indices[c+2],s),n.setFromPoints(l),t.insert(n,u)}t.removeEmptyNodes()};var c=new a;l.prototype.getTrianglesInAABB=function(t,e){c.copy(t);var n=this.scale,r=n.x,i=n.y,o=n.z,a=c.lowerBound,s=c.upperBound;return a.x/=r,a.y/=i,a.z/=o,s.x/=r,s.y/=i,s.z/=o,this.tree.aabbQuery(c,e)},l.prototype.setScale=function(t){var e=this.scale.x===this.scale.y===this.scale.z,n=t.x===t.y===t.z;e&&n||this.updateNormals(),this.scale.copy(t),this.updateAABB(),this.updateBoundingSphereRadius()},l.prototype.updateNormals=function(){for(var t=u,e=this.normals,n=0;n<this.indices.length/3;n++){var r=3*n,i=this.indices[r],o=this.indices[r+1],a=this.indices[r+2];this.getVertex(i,m),this.getVertex(o,v),this.getVertex(a,g),l.computeNormal(v,m,g,t),e[r]=t.x,e[r+1]=t.y,e[r+2]=t.z}},l.prototype.updateEdges=function(){for(var t={},e=function(e,n){t[i<o?i+\"_\"+o:o+\"_\"+i]=!0},n=0;n<this.indices.length/3;n++){var r=3*n,i=this.indices[r],o=this.indices[r+1];this.indices[r+2],e(),e(),e()}var a=Object.keys(t);for(this.edges=new Int16Array(2*a.length),n=0;n<a.length;n++){var s=a[n].split(\"_\");this.edges[2*n]=parseInt(s[0],10),this.edges[2*n+1]=parseInt(s[1],10)}},l.prototype.getEdgeVertex=function(t,e,n){var r=this.edges[2*t+(e?1:0)];this.getVertex(r,n)};var h=new i,p=new i;l.prototype.getEdgeVector=function(t,e){var n=h,r=p;this.getEdgeVertex(t,0,n),this.getEdgeVertex(t,1,r),r.vsub(n,e)};var d=new i,f=new i;l.computeNormal=function(t,e,n,r){e.vsub(t,f),n.vsub(e,d),d.cross(f,r),r.isZero()||r.normalize()};var m=new i,v=new i,g=new i;l.prototype.getVertex=function(t,e){var n=this.scale;return this._getUnscaledVertex(t,e),e.x*=n.x,e.y*=n.y,e.z*=n.z,e},l.prototype._getUnscaledVertex=function(t,e){var n=3*t,r=this.vertices;return e.set(r[n],r[n+1],r[n+2])},l.prototype.getWorldVertex=function(t,e,n,r){return this.getVertex(t,r),o.pointToWorldFrame(e,n,r,r),r},l.prototype.getTriangleVertices=function(t,e,n,r){var i=3*t;this.getVertex(this.indices[i],e),this.getVertex(this.indices[i+1],n),this.getVertex(this.indices[i+2],r)},l.prototype.getNormal=function(t,e){var n=3*t;return e.set(this.normals[n],this.normals[n+1],this.normals[n+2])};var y=new a;l.prototype.calculateLocalInertia=function(t,e){this.computeLocalAABB(y);var n=y.upperBound.x-y.lowerBound.x,r=y.upperBound.y-y.lowerBound.y,i=y.upperBound.z-y.lowerBound.z;return e.set(1/12*t*(2*r*2*r+2*i*2*i),1/12*t*(2*n*2*n+2*i*2*i),1/12*t*(2*r*2*r+2*n*2*n))};var b=new i;l.prototype.computeLocalAABB=function(t){var e=t.lowerBound,n=t.upperBound,r=this.vertices.length,i=(this.vertices,b);this.getVertex(0,i),e.copy(i),n.copy(i);for(var o=0;o!==r;o++)this.getVertex(o,i),i.x<e.x?e.x=i.x:i.x>n.x&&(n.x=i.x),i.y<e.y?e.y=i.y:i.y>n.y&&(n.y=i.y),i.z<e.z?e.z=i.z:i.z>n.z&&(n.z=i.z)},l.prototype.updateAABB=function(){this.computeLocalAABB(this.aabb)},l.prototype.updateBoundingSphereRadius=function(){for(var t=0,e=this.vertices,n=new i,r=0,o=e.length/3;r!==o;r++){this.getVertex(r,n);var a=n.norm2();a>t&&(t=a)}this.boundingSphereRadius=Math.sqrt(t)},new i;var x=new o,w=new a;l.prototype.calculateWorldAABB=function(t,e,n,r){var i=x,o=w;i.position=t,i.quaternion=e,this.aabb.toWorldFrame(i,o),n.copy(o.lowerBound),r.copy(o.upperBound)},l.prototype.volume=function(){return 4*Math.PI*this.boundingSphereRadius/3},l.createTorus=function(t,e,n,r,i){t=t||1,e=e||.5,n=n||8,r=r||6,i=i||2*Math.PI;for(var o=[],a=[],s=0;s<=n;s++)for(var u=0;u<=r;u++){var c=u/r*i,h=s/n*Math.PI*2,p=(t+e*Math.cos(h))*Math.cos(c),d=(t+e*Math.cos(h))*Math.sin(c),f=e*Math.sin(h);o.push(p,d,f)}for(s=1;s<=n;s++)for(u=1;u<=r;u++){var m=(r+1)*s+u-1,v=(r+1)*(s-1)+u-1,g=(r+1)*(s-1)+u,y=(r+1)*s+u;a.push(m,v,y),a.push(v,g,y)}return new l(o,a)}},{\"../collision/AABB\":3,\"../math/Quaternion\":28,\"../math/Transform\":29,\"../math/Vec3\":30,\"../utils/Octree\":50,\"./Shape\":43}],46:[function(t,e,n){e.exports=i,t(\"../math/Vec3\"),t(\"../math/Quaternion\");var r=t(\"./Solver\");function i(){r.call(this),this.iterations=10,this.tolerance=1e-7}i.prototype=new r;var o=[],a=[],s=[];i.prototype.solve=function(t,e){var n,r,i,l,u,c=0,h=this.iterations,p=this.tolerance*this.tolerance,d=this.equations,f=d.length,m=e.bodies,v=m.length,g=t;if(0!==f)for(var y=0;y!==v;y++)m[y].updateSolveMassProperties();var b=a,x=s,w=o;for(b.length=f,x.length=f,w.length=f,y=0;y!==f;y++){var _=d[y];w[y]=0,x[y]=_.computeB(g),b[y]=1/_.computeC()}if(0!==f){for(y=0;y!==v;y++){var M=(T=m[y]).vlambda,E=T.wlambda;M.set(0,0,0),E&&E.set(0,0,0)}for(c=0;c!==h;c++){l=0;for(var S=0;S!==f;S++)_=d[S],n=x[S],r=b[S],(u=w[S])+(i=r*(n-_.computeGWlambda()-_.eps*u))<_.minForce?i=_.minForce-u:u+i>_.maxForce&&(i=_.maxForce-u),w[S]+=i,l+=i>0?i:-i,_.addToWlambda(i);if(l*l<p)break}for(y=0;y!==v;y++){var T,C=(T=m[y]).velocity,A=T.angularVelocity;C.vadd(T.vlambda,C),A&&A.vadd(T.wlambda,A)}}return c}},{\"../math/Quaternion\":28,\"../math/Vec3\":30,\"./Solver\":47}],47:[function(t,e,n){function r(){this.equations=[]}e.exports=r,r.prototype.solve=function(t,e){return 0},r.prototype.addEquation=function(t){t.enabled&&this.equations.push(t)},r.prototype.removeEquation=function(t){var e=this.equations,n=e.indexOf(t);-1!==n&&e.splice(n,1)},r.prototype.removeAllEquations=function(){this.equations.length=0}},{}],48:[function(t,e,n){e.exports=o,t(\"../math/Vec3\"),t(\"../math/Quaternion\");var r=t(\"./Solver\"),i=t(\"../objects/Body\");function o(t){for(r.call(this),this.iterations=10,this.tolerance=1e-7,this.subsolver=t,this.nodes=[],this.nodePool=[];this.nodePool.length<128;)this.nodePool.push(this.createNode())}o.prototype=new r;var a=[],s=[],l={bodies:[]},u=i.STATIC;function c(t){for(var e=t.length,n=0;n!==e;n++){var r=t[n];if(!(r.visited||r.body.type&u))return r}return!1}var h=[];function p(t,e,n,r){for(h.push(t),t.visited=!0,e(t,n,r);h.length;)for(var i,o=h.pop();i=c(o.children);)i.visited=!0,e(i,n,r),h.push(i)}function d(t,e,n){e.push(t.body);for(var r=t.eqs.length,i=0;i!==r;i++){var o=t.eqs[i];-1===n.indexOf(o)&&n.push(o)}}function f(t,e){return e.id-t.id}o.prototype.createNode=function(){return{body:null,children:[],eqs:[],visited:!1}},o.prototype.solve=function(t,e){for(var n=a,r=this.nodePool,i=e.bodies,o=this.equations,u=o.length,h=i.length,m=this.subsolver;r.length<h;)r.push(this.createNode());n.length=h;for(var v=0;v<h;v++)n[v]=r[v];for(v=0;v!==h;v++){var g=n[v];g.body=i[v],g.children.length=0,g.eqs.length=0,g.visited=!1}for(var y=0;y!==u;y++){var b=o[y],x=(v=i.indexOf(b.bi),i.indexOf(b.bj)),w=n[v],_=n[x];w.children.push(_),w.eqs.push(b),_.children.push(w),_.eqs.push(b)}var M,E=0,S=s;m.tolerance=this.tolerance,m.iterations=this.iterations;for(var T=l;M=c(n);){S.length=0,T.bodies.length=0,p(M,d,T.bodies,S);var C=S.length;for(S=S.sort(f),v=0;v!==C;v++)m.addEquation(S[v]);m.solve(t,T),m.removeAllEquations(),E++}return E}},{\"../math/Quaternion\":28,\"../math/Vec3\":30,\"../objects/Body\":31,\"./Solver\":47}],49:[function(t,e,n){var r=function(){};e.exports=r,r.prototype={constructor:r,addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;return void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e),this},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0===this._listeners)return this;var n=this._listeners;if(void 0===n[t])return this;var r=n[t].indexOf(e);return-1!==r&&n[t].splice(r,1),this},dispatchEvent:function(t){if(void 0===this._listeners)return this;var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var n=0,r=e.length;n<r;n++)e[n].call(this,t)}return this}}},{}],50:[function(t,e,n){var r=t(\"../collision/AABB\"),i=t(\"../math/Vec3\");function o(t){t=t||{},this.root=t.root||null,this.aabb=t.aabb?t.aabb.clone():new r,this.data=[],this.children=[]}function a(t,e){(e=e||{}).root=null,e.aabb=t,o.call(this,e),this.maxDepth=void 0!==e.maxDepth?e.maxDepth:8}e.exports=a,a.prototype=new o,o.prototype.reset=function(t,e){this.children.length=this.data.length=0},o.prototype.insert=function(t,e,n){var r=this.data;if(n=n||0,!this.aabb.contains(t))return!1;var i=this.children;if(n<(this.maxDepth||this.root.maxDepth)){var o=!1;i.length||(this.subdivide(),o=!0);for(var a=0;8!==a;a++)if(i[a].insert(t,e,n+1))return!0;o&&(i.length=0)}return r.push(e),!0};var s=new i;o.prototype.subdivide=function(){var t=this.aabb,e=t.lowerBound,n=t.upperBound,a=this.children;a.push(new o({aabb:new r({lowerBound:new i(0,0,0)})}),new o({aabb:new r({lowerBound:new i(1,0,0)})}),new o({aabb:new r({lowerBound:new i(1,1,0)})}),new o({aabb:new r({lowerBound:new i(1,1,1)})}),new o({aabb:new r({lowerBound:new i(0,1,1)})}),new o({aabb:new r({lowerBound:new i(0,0,1)})}),new o({aabb:new r({lowerBound:new i(1,0,1)})}),new o({aabb:new r({lowerBound:new i(0,1,0)})})),n.vsub(e,s),s.scale(.5,s);for(var l=this.root||this,u=0;8!==u;u++){var c=a[u];c.root=l;var h=c.aabb.lowerBound;h.x*=s.x,h.y*=s.y,h.z*=s.z,h.vadd(e,h),h.vadd(s,c.aabb.upperBound)}},o.prototype.aabbQuery=function(t,e){this.data,this.children;for(var n=[this];n.length;){var r=n.pop();r.aabb.overlaps(t)&&Array.prototype.push.apply(e,r.data),Array.prototype.push.apply(n,r.children)}return e};var l=new r;o.prototype.rayQuery=function(t,e,n){return t.getAABB(l),l.toLocalFrame(e,l),this.aabbQuery(l,n),n},o.prototype.removeEmptyNodes=function(){for(var t=[this];t.length;){for(var e=t.pop(),n=e.children.length-1;n>=0;n--)e.children[n].data.length||e.children.splice(n,1);Array.prototype.push.apply(t,e.children)}}},{\"../collision/AABB\":3,\"../math/Vec3\":30}],51:[function(t,e,n){function r(){this.objects=[],this.type=Object}e.exports=r,r.prototype.release=function(){for(var t=arguments.length,e=0;e!==t;e++)this.objects.push(arguments[e])},r.prototype.get=function(){return 0===this.objects.length?this.constructObject():this.objects.pop()},r.prototype.constructObject=function(){throw new Error(\"constructObject() not implemented in this Pool subclass yet!\")}},{}],52:[function(t,e,n){function r(){this.data={keys:[]}}e.exports=r,r.prototype.get=function(t,e){if(t>e){var n=e;e=t,t=n}return this.data[t+\"-\"+e]},r.prototype.set=function(t,e,n){if(t>e){var r=e;e=t,t=r}var i=t+\"-\"+e;this.get(t,e)||this.data.keys.push(i),this.data[i]=n},r.prototype.reset=function(){for(var t=this.data,e=t.keys;e.length>0;)delete t[e.pop()]}},{}],53:[function(t,e,n){function r(){}e.exports=r,r.defaults=function(t,e){for(var n in t=t||{},e)n in t||(t[n]=e[n]);return t}},{}],54:[function(t,e,n){e.exports=o;var r=t(\"../math/Vec3\"),i=t(\"./Pool\");function o(){i.call(this),this.type=r}o.prototype=new i,o.prototype.constructObject=function(){return new r}},{\"../math/Vec3\":30,\"./Pool\":51}],55:[function(t,e,n){e.exports=p;var r=t(\"../collision/AABB\"),i=t(\"../shapes/Shape\"),o=t(\"../collision/Ray\"),a=t(\"../math/Vec3\"),s=t(\"../math/Transform\"),l=(t(\"../shapes/ConvexPolyhedron\"),t(\"../math/Quaternion\")),u=(t(\"../solver/Solver\"),t(\"../utils/Vec3Pool\")),c=t(\"../equations/ContactEquation\"),h=t(\"../equations/FrictionEquation\");function p(t){this.contactPointPool=[],this.frictionEquationPool=[],this.result=[],this.frictionResult=[],this.v3pool=new u,this.world=t,this.currentContactMaterial=null,this.enableFrictionReduction=!1}p.prototype.createContactEquation=function(t,e,n,r,i,o){var a;this.contactPointPool.length?((a=this.contactPointPool.pop()).bi=t,a.bj=e):a=new c(t,e),a.enabled=t.collisionResponse&&e.collisionResponse&&n.collisionResponse&&r.collisionResponse;var s=this.currentContactMaterial;a.restitution=s.restitution,a.setSpookParams(s.contactEquationStiffness,s.contactEquationRelaxation,this.world.dt);var l=n.material||t.material,u=r.material||e.material;return l&&u&&l.restitution>=0&&u.restitution>=0&&(a.restitution=l.restitution*u.restitution),a.si=i||n,a.sj=o||r,a},p.prototype.createFrictionEquationsFromContact=function(t,e){var n=t.bi,r=t.bj,i=t.si,o=t.sj,a=this.world,s=this.currentContactMaterial,l=s.friction,u=i.material||n.material,c=o.material||r.material;if(u&&c&&u.friction>=0&&c.friction>=0&&(l=u.friction*c.friction),l>0){var p=l*a.gravity.length(),d=n.invMass+r.invMass;d>0&&(d=1/d);var f=this.frictionEquationPool,m=f.length?f.pop():new h(n,r,p*d),v=f.length?f.pop():new h(n,r,p*d);return m.bi=v.bi=n,m.bj=v.bj=r,m.minForce=v.minForce=-p*d,m.maxForce=v.maxForce=p*d,m.ri.copy(t.ri),m.rj.copy(t.rj),v.ri.copy(t.ri),v.rj.copy(t.rj),t.ni.tangents(m.t,v.t),m.setSpookParams(s.frictionEquationStiffness,s.frictionEquationRelaxation,a.dt),v.setSpookParams(s.frictionEquationStiffness,s.frictionEquationRelaxation,a.dt),m.enabled=v.enabled=t.enabled,e.push(m,v),!0}return!1};var d=new a,f=new a,m=new a;p.prototype.createFrictionFromAverage=function(t){var e=this.result[this.result.length-1];if(this.createFrictionEquationsFromContact(e,this.frictionResult)&&1!==t){var n=this.frictionResult[this.frictionResult.length-2],r=this.frictionResult[this.frictionResult.length-1];d.setZero(),f.setZero(),m.setZero();for(var i=e.bi,o=(e.bj,0);o!==t;o++)(e=this.result[this.result.length-1-o]).bodyA!==i?(d.vadd(e.ni,d),f.vadd(e.ri,f),m.vadd(e.rj,m)):(d.vsub(e.ni,d),f.vadd(e.rj,f),m.vadd(e.ri,m));var a=1/t;f.scale(a,n.ri),m.scale(a,n.rj),r.ri.copy(n.ri),r.rj.copy(n.rj),d.normalize(),d.tangents(n.t,r.t)}};var v=new a,g=new a,y=new l,b=new l;p.prototype.getContacts=function(t,e,n,r,i,o,a){this.contactPointPool=i,this.frictionEquationPool=a,this.result=r,this.frictionResult=o;for(var s=y,l=b,u=v,c=g,h=0,p=t.length;h!==p;h++){var d=t[h],f=e[h],m=null;d.material&&f.material&&(m=n.getContactMaterial(d.material,f.material)||null);for(var x=0;x<d.shapes.length;x++){d.quaternion.mult(d.shapeOrientations[x],s),d.quaternion.vmult(d.shapeOffsets[x],u),u.vadd(d.position,u);for(var w=d.shapes[x],_=0;_<f.shapes.length;_++){f.quaternion.mult(f.shapeOrientations[_],l),f.quaternion.vmult(f.shapeOffsets[_],c),c.vadd(f.position,c);var M=f.shapes[_];if(!(u.distanceTo(c)>w.boundingSphereRadius+M.boundingSphereRadius)){var E=null;w.material&&M.material&&(E=n.getContactMaterial(w.material,M.material)||null),this.currentContactMaterial=E||m||n.defaultContactMaterial;var S=this[w.type|M.type];S&&(w.type<M.type?S.call(this,w,M,u,c,s,l,d,f,w,M):S.call(this,M,w,c,u,l,s,f,d,w,M))}}}}},p.prototype[i.types.BOX|i.types.BOX]=p.prototype.boxBox=function(t,e,n,r,i,o,a,s){t.convexPolyhedronRepresentation.material=t.material,e.convexPolyhedronRepresentation.material=e.material,t.convexPolyhedronRepresentation.collisionResponse=t.collisionResponse,e.convexPolyhedronRepresentation.collisionResponse=e.collisionResponse,this.convexConvex(t.convexPolyhedronRepresentation,e.convexPolyhedronRepresentation,n,r,i,o,a,s,t,e)},p.prototype[i.types.BOX|i.types.CONVEXPOLYHEDRON]=p.prototype.boxConvex=function(t,e,n,r,i,o,a,s){t.convexPolyhedronRepresentation.material=t.material,t.convexPolyhedronRepresentation.collisionResponse=t.collisionResponse,this.convexConvex(t.convexPolyhedronRepresentation,e,n,r,i,o,a,s,t,e)},p.prototype[i.types.BOX|i.types.PARTICLE]=p.prototype.boxParticle=function(t,e,n,r,i,o,a,s){t.convexPolyhedronRepresentation.material=t.material,t.convexPolyhedronRepresentation.collisionResponse=t.collisionResponse,this.convexParticle(t.convexPolyhedronRepresentation,e,n,r,i,o,a,s,t,e)},p.prototype[i.types.SPHERE]=p.prototype.sphereSphere=function(t,e,n,r,i,o,a,s){var l=this.createContactEquation(a,s,t,e);r.vsub(n,l.ni),l.ni.normalize(),l.ri.copy(l.ni),l.rj.copy(l.ni),l.ri.mult(t.radius,l.ri),l.rj.mult(-e.radius,l.rj),l.ri.vadd(n,l.ri),l.ri.vsub(a.position,l.ri),l.rj.vadd(r,l.rj),l.rj.vsub(s.position,l.rj),this.result.push(l),this.createFrictionEquationsFromContact(l,this.frictionResult)};var x=new a,w=new a,_=new a;p.prototype[i.types.PLANE|i.types.TRIMESH]=p.prototype.planeTrimesh=function(t,e,n,r,i,o,l,u){var c=new a,h=x;h.set(0,0,1),i.vmult(h,h);for(var p=0;p<e.vertices.length/3;p++){e.getVertex(p,c);var d=new a;d.copy(c),s.pointToWorldFrame(r,o,d,c);var f=w;if(c.vsub(n,f),h.dot(f)<=0){var m=this.createContactEquation(l,u,t,e);m.ni.copy(h);var v=_;h.scale(f.dot(h),v),c.vsub(v,v),m.ri.copy(v),m.ri.vsub(l.position,m.ri),m.rj.copy(c),m.rj.vsub(u.position,m.rj),this.result.push(m),this.createFrictionEquationsFromContact(m,this.frictionResult)}}};var M=new a,E=new a,S=(new a,new a),T=new a,C=new a,A=new a,P=new a,R=new a,L=new a,O=new a,I=new a,N=new a,k=new a,D=new r,F=[];p.prototype[i.types.SPHERE|i.types.TRIMESH]=p.prototype.sphereTrimesh=function(t,e,n,r,i,a,l,u){var c=C,h=A,p=P,d=R,f=L,m=O,v=D,g=T,y=E,b=F;s.pointToLocalFrame(r,a,n,f);var x=t.radius;v.lowerBound.set(f.x-x,f.y-x,f.z-x),v.upperBound.set(f.x+x,f.y+x,f.z+x),e.getTrianglesInAABB(v,b);for(var w=S,_=t.radius*t.radius,B=0;B<b.length;B++)for(var U=0;U<3;U++)e.getVertex(e.indices[3*b[B]+U],w),w.vsub(f,y),y.norm2()<=_&&(g.copy(w),s.pointToWorldFrame(r,a,g,w),w.vsub(n,y),(V=this.createContactEquation(l,u,t,e)).ni.copy(y),V.ni.normalize(),V.ri.copy(V.ni),V.ri.scale(t.radius,V.ri),V.ri.vadd(n,V.ri),V.ri.vsub(l.position,V.ri),V.rj.copy(w),V.rj.vsub(u.position,V.rj),this.result.push(V),this.createFrictionEquationsFromContact(V,this.frictionResult));for(B=0;B<b.length;B++)for(U=0;U<3;U++){e.getVertex(e.indices[3*b[B]+U],c),e.getVertex(e.indices[3*b[B]+(U+1)%3],h),h.vsub(c,p),f.vsub(h,m);var z=m.dot(p);f.vsub(c,m);var j=m.dot(p);if(j>0&&z<0&&(f.vsub(c,m),d.copy(p),d.normalize(),j=m.dot(d),d.scale(j,m),m.vadd(c,m),(Y=m.distanceTo(f))<t.radius)){var V=this.createContactEquation(l,u,t,e);m.vsub(f,V.ni),V.ni.normalize(),V.ni.scale(t.radius,V.ri),s.pointToWorldFrame(r,a,m,m),m.vsub(u.position,V.rj),s.vectorToWorldFrame(a,V.ni,V.ni),s.vectorToWorldFrame(a,V.ri,V.ri),this.result.push(V),this.createFrictionEquationsFromContact(V,this.frictionResult)}}for(var W=I,G=N,H=k,q=M,X=(B=0,b.length);B!==X;B++){e.getTriangleVertices(b[B],W,G,H),e.getNormal(b[B],q),f.vsub(W,m);var Y=m.dot(q);q.scale(Y,m),f.vsub(m,m),Y=m.distanceTo(f),o.pointInTriangle(m,W,G,H)&&Y<t.radius&&(V=this.createContactEquation(l,u,t,e),m.vsub(f,V.ni),V.ni.normalize(),V.ni.scale(t.radius,V.ri),s.pointToWorldFrame(r,a,m,m),m.vsub(u.position,V.rj),s.vectorToWorldFrame(a,V.ni,V.ni),s.vectorToWorldFrame(a,V.ri,V.ri),this.result.push(V),this.createFrictionEquationsFromContact(V,this.frictionResult))}b.length=0};var B=new a,U=new a;p.prototype[i.types.SPHERE|i.types.PLANE]=p.prototype.spherePlane=function(t,e,n,r,i,o,a,s){var l=this.createContactEquation(a,s,t,e);if(l.ni.set(0,0,1),o.vmult(l.ni,l.ni),l.ni.negate(l.ni),l.ni.normalize(),l.ni.mult(t.radius,l.ri),n.vsub(r,B),l.ni.mult(l.ni.dot(B),U),B.vsub(U,l.rj),-B.dot(l.ni)<=t.radius){var u=l.ri,c=l.rj;u.vadd(n,u),u.vsub(a.position,u),c.vadd(r,c),c.vsub(s.position,c),this.result.push(l),this.createFrictionEquationsFromContact(l,this.frictionResult)}};var z=new a,j=new a,V=new a;function W(t,e,n){for(var r=null,i=t.length,o=0;o!==i;o++){var a=t[o],s=z;t[(o+1)%i].vsub(a,s);var l=j;s.cross(e,l);var u=V;n.vsub(a,u);var c=l.dot(u);if(!(null===r||c>0&&!0===r||c<=0&&!1===r))return!1;null===r&&(r=c>0)}return!0}var G=new a,H=new a,q=new a,X=new a,Y=[new a,new a,new a,new a,new a,new a],K=new a,Z=new a,Q=new a,J=new a;p.prototype[i.types.SPHERE|i.types.BOX]=p.prototype.sphereBox=function(t,e,n,r,i,o,a,s){var l=this.v3pool,u=Y;n.vsub(r,G),e.getSideNormals(u,o);for(var c=t.radius,h=!1,p=Z,d=Q,f=J,m=null,v=0,g=0,y=0,b=null,x=0,w=u.length;x!==w&&!1===h;x++){var _=H;_.copy(u[x]);var M=_.norm();_.normalize();var E=G.dot(_);if(E<M+c&&E>0){var S=q,T=X;S.copy(u[(x+1)%3]),T.copy(u[(x+2)%3]);var C=S.norm(),A=T.norm();S.normalize(),T.normalize();var P=G.dot(S),R=G.dot(T);if(P<C&&P>-C&&R<A&&R>-A){var L=Math.abs(E-M-c);(null===b||L<b)&&(b=L,g=P,y=R,m=M,p.copy(_),d.copy(S),f.copy(T),v++)}}}if(v){h=!0;var O=this.createContactEquation(a,s,t,e);p.mult(-c,O.ri),O.ni.copy(p),O.ni.negate(O.ni),p.mult(m,p),d.mult(g,d),p.vadd(d,p),f.mult(y,f),p.vadd(f,O.rj),O.ri.vadd(n,O.ri),O.ri.vsub(a.position,O.ri),O.rj.vadd(r,O.rj),O.rj.vsub(s.position,O.rj),this.result.push(O),this.createFrictionEquationsFromContact(O,this.frictionResult)}for(var I=l.get(),N=K,k=0;2!==k&&!h;k++)for(var D=0;2!==D&&!h;D++)for(var F=0;2!==F&&!h;F++)I.set(0,0,0),k?I.vadd(u[0],I):I.vsub(u[0],I),D?I.vadd(u[1],I):I.vsub(u[1],I),F?I.vadd(u[2],I):I.vsub(u[2],I),r.vadd(I,N),N.vsub(n,N),N.norm2()<c*c&&(h=!0,(O=this.createContactEquation(a,s,t,e)).ri.copy(N),O.ri.normalize(),O.ni.copy(O.ri),O.ri.mult(c,O.ri),O.rj.copy(I),O.ri.vadd(n,O.ri),O.ri.vsub(a.position,O.ri),O.rj.vadd(r,O.rj),O.rj.vsub(s.position,O.rj),this.result.push(O),this.createFrictionEquationsFromContact(O,this.frictionResult));l.release(I),I=null;var B=l.get(),U=l.get(),z=(O=l.get(),l.get()),j=(L=l.get(),u.length);for(k=0;k!==j&&!h;k++)for(D=0;D!==j&&!h;D++)if(k%3!=D%3){u[D].cross(u[k],B),B.normalize(),u[k].vadd(u[D],U),O.copy(n),O.vsub(U,O),O.vsub(r,O);var V=O.dot(B);for(B.mult(V,z),F=0;F===k%3||F===D%3;)F++;L.copy(n),L.vsub(z,L),L.vsub(U,L),L.vsub(r,L);var W=Math.abs(V),$=L.norm();if(W<u[F].norm()&&$<c){h=!0;var tt=this.createContactEquation(a,s,t,e);U.vadd(z,tt.rj),tt.rj.copy(tt.rj),L.negate(tt.ni),tt.ni.normalize(),tt.ri.copy(tt.rj),tt.ri.vadd(r,tt.ri),tt.ri.vsub(n,tt.ri),tt.ri.normalize(),tt.ri.mult(c,tt.ri),tt.ri.vadd(n,tt.ri),tt.ri.vsub(a.position,tt.ri),tt.rj.vadd(r,tt.rj),tt.rj.vsub(s.position,tt.rj),this.result.push(tt),this.createFrictionEquationsFromContact(tt,this.frictionResult)}}l.release(B,U,O,z,L)};var $=new a,tt=new a,et=new a,nt=new a,rt=new a,it=new a,ot=new a,at=new a,st=new a,lt=new a;p.prototype[i.types.SPHERE|i.types.CONVEXPOLYHEDRON]=p.prototype.sphereConvex=function(t,e,n,r,i,o,a,s){var l=this.v3pool;n.vsub(r,$);for(var u=e.faceNormals,c=e.faces,h=e.vertices,p=t.radius,d=0;d!==h.length;d++){var f=h[d],m=rt;o.vmult(f,m),r.vadd(m,m);var v=nt;if(m.vsub(n,v),v.norm2()<p*p)return g=!0,(L=this.createContactEquation(a,s,t,e)).ri.copy(v),L.ri.normalize(),L.ni.copy(L.ri),L.ri.mult(p,L.ri),m.vsub(r,L.rj),L.ri.vadd(n,L.ri),L.ri.vsub(a.position,L.ri),L.rj.vadd(r,L.rj),L.rj.vsub(s.position,L.rj),this.result.push(L),void this.createFrictionEquationsFromContact(L,this.frictionResult)}for(var g=!1,y=(d=0,c.length);d!==y&&!1===g;d++){var b=u[d],x=c[d],w=it;o.vmult(b,w);var _=ot;o.vmult(h[x[0]],_),_.vadd(r,_);var M=at;w.mult(-p,M),n.vadd(M,M);var E=st;M.vsub(_,E);var S=E.dot(w),T=lt;if(n.vsub(_,T),S<0&&T.dot(w)>0){for(var C=[],A=0,P=x.length;A!==P;A++){var R=l.get();o.vmult(h[x[A]],R),r.vadd(R,R),C.push(R)}if(W(C,w,n)){g=!0;var L=this.createContactEquation(a,s,t,e);w.mult(-p,L.ri),w.negate(L.ni);var O=l.get();w.mult(-S,O);var I=l.get();w.mult(-p,I),n.vsub(r,L.rj),L.rj.vadd(I,L.rj),L.rj.vadd(O,L.rj),L.rj.vadd(r,L.rj),L.rj.vsub(s.position,L.rj),L.ri.vadd(n,L.ri),L.ri.vsub(a.position,L.ri),l.release(O),l.release(I),this.result.push(L),this.createFrictionEquationsFromContact(L,this.frictionResult),A=0;for(var N=C.length;A!==N;A++)l.release(C[A]);return}for(A=0;A!==x.length;A++){var k=l.get(),D=l.get();o.vmult(h[x[(A+1)%x.length]],k),o.vmult(h[x[(A+2)%x.length]],D),r.vadd(k,k),r.vadd(D,D);var F=tt;D.vsub(k,F);var B=et;F.unit(B);var U=l.get(),z=l.get();n.vsub(k,z);var j=z.dot(B);B.mult(j,U),U.vadd(k,U);var V=l.get();if(U.vsub(n,V),j>0&&j*j<F.norm2()&&V.norm2()<p*p){for(L=this.createContactEquation(a,s,t,e),U.vsub(r,L.rj),U.vsub(n,L.ni),L.ni.normalize(),L.ni.mult(p,L.ri),L.rj.vadd(r,L.rj),L.rj.vsub(s.position,L.rj),L.ri.vadd(n,L.ri),L.ri.vsub(a.position,L.ri),this.result.push(L),this.createFrictionEquationsFromContact(L,this.frictionResult),A=0,N=C.length;A!==N;A++)l.release(C[A]);return l.release(k),l.release(D),l.release(U),l.release(V),void l.release(z)}l.release(k),l.release(D),l.release(U),l.release(V),l.release(z)}for(A=0,N=C.length;A!==N;A++)l.release(C[A])}}},new a,new a,p.prototype[i.types.PLANE|i.types.BOX]=p.prototype.planeBox=function(t,e,n,r,i,o,a,s){e.convexPolyhedronRepresentation.material=e.material,e.convexPolyhedronRepresentation.collisionResponse=e.collisionResponse,this.planeConvex(t,e.convexPolyhedronRepresentation,n,r,i,o,a,s)};var ut=new a,ct=new a,ht=new a,pt=new a;p.prototype[i.types.PLANE|i.types.CONVEXPOLYHEDRON]=p.prototype.planeConvex=function(t,e,n,r,i,o,a,s){var l=ut,u=ct;u.set(0,0,1),i.vmult(u,u);for(var c=0,h=ht,p=0;p!==e.vertices.length;p++)if(l.copy(e.vertices[p]),o.vmult(l,l),r.vadd(l,l),l.vsub(n,h),u.dot(h)<=0){var d=this.createContactEquation(a,s,t,e),f=pt;u.mult(u.dot(h),f),l.vsub(f,f),f.vsub(n,d.ri),d.ni.copy(u),l.vsub(r,d.rj),d.ri.vadd(n,d.ri),d.ri.vsub(a.position,d.ri),d.rj.vadd(r,d.rj),d.rj.vsub(s.position,d.rj),this.result.push(d),c++,this.enableFrictionReduction||this.createFrictionEquationsFromContact(d,this.frictionResult)}this.enableFrictionReduction&&c&&this.createFrictionFromAverage(c)};var dt=new a,ft=new a;p.prototype[i.types.CONVEXPOLYHEDRON]=p.prototype.convexConvex=function(t,e,n,r,i,o,a,s,l,u,c,h){var p=dt;if(!(n.distanceTo(r)>t.boundingSphereRadius+e.boundingSphereRadius)&&t.findSeparatingAxis(e,n,i,r,o,p,c,h)){var d=[],f=ft;t.clipAgainstHull(n,i,e,r,o,p,-100,100,d);for(var m=0,v=0;v!==d.length;v++){var g=this.createContactEquation(a,s,t,e,l,u),y=g.ri,b=g.rj;p.negate(g.ni),d[v].normal.negate(f),f.mult(d[v].depth,f),d[v].point.vadd(f,y),b.copy(d[v].point),y.vsub(n,y),b.vsub(r,b),y.vadd(n,y),y.vsub(a.position,y),b.vadd(r,b),b.vsub(s.position,b),this.result.push(g),m++,this.enableFrictionReduction||this.createFrictionEquationsFromContact(g,this.frictionResult)}this.enableFrictionReduction&&m&&this.createFrictionFromAverage(m)}};var mt=new a,vt=new a,gt=new a;p.prototype[i.types.PLANE|i.types.PARTICLE]=p.prototype.planeParticle=function(t,e,n,r,i,o,a,s){var l=mt;l.set(0,0,1),a.quaternion.vmult(l,l);var u=vt;if(r.vsub(a.position,u),l.dot(u)<=0){var c=this.createContactEquation(s,a,e,t);c.ni.copy(l),c.ni.negate(c.ni),c.ri.set(0,0,0);var h=gt;l.mult(l.dot(r),h),r.vsub(h,h),c.rj.copy(h),this.result.push(c),this.createFrictionEquationsFromContact(c,this.frictionResult)}};var yt=new a;p.prototype[i.types.PARTICLE|i.types.SPHERE]=p.prototype.sphereParticle=function(t,e,n,r,i,o,a,s){var l=yt;if(l.set(0,0,1),r.vsub(n,l),l.norm2()<=t.radius*t.radius){var u=this.createContactEquation(s,a,e,t);l.normalize(),u.rj.copy(l),u.rj.mult(t.radius,u.rj),u.ni.copy(l),u.ni.negate(u.ni),u.ri.set(0,0,0),this.result.push(u),this.createFrictionEquationsFromContact(u,this.frictionResult)}};var bt=new l,xt=new a,wt=(new a,new a),_t=new a,Mt=new a;p.prototype[i.types.PARTICLE|i.types.CONVEXPOLYHEDRON]=p.prototype.convexParticle=function(t,e,n,r,i,o,a,s){var l=-1,u=wt,c=Mt,h=null,p=xt;if(p.copy(r),p.vsub(n,p),i.conjugate(bt),bt.vmult(p,p),t.pointIsInside(p)){t.worldVerticesNeedsUpdate&&t.computeWorldVertices(n,i),t.worldFaceNormalsNeedsUpdate&&t.computeWorldFaceNormals(i);for(var d=0,f=t.faces.length;d!==f;d++){var m=[t.worldVertices[t.faces[d][0]]],v=t.worldFaceNormals[d];r.vsub(m[0],_t);var g=-v.dot(_t);(null===h||Math.abs(g)<Math.abs(h))&&(h=g,l=d,u.copy(v))}if(-1!==l){var y=this.createContactEquation(s,a,e,t);u.mult(h,c),c.vadd(r,c),c.vsub(n,c),y.rj.copy(c),u.negate(y.ni),y.ri.set(0,0,0);var b=y.ri,x=y.rj;b.vadd(r,b),b.vsub(s.position,b),x.vadd(n,x),x.vsub(a.position,x),this.result.push(y),this.createFrictionEquationsFromContact(y,this.frictionResult)}else console.warn(\"Point found inside convex, but did not find penetrating face!\")}},p.prototype[i.types.BOX|i.types.HEIGHTFIELD]=p.prototype.boxHeightfield=function(t,e,n,r,i,o,a,s){t.convexPolyhedronRepresentation.material=t.material,t.convexPolyhedronRepresentation.collisionResponse=t.collisionResponse,this.convexHeightfield(t.convexPolyhedronRepresentation,e,n,r,i,o,a,s)};var Et=new a,St=new a,Tt=[0];p.prototype[i.types.CONVEXPOLYHEDRON|i.types.HEIGHTFIELD]=p.prototype.convexHeightfield=function(t,e,n,r,i,o,a,l){var u=e.data,c=e.elementSize,h=t.boundingSphereRadius,p=St,d=Tt,f=Et;s.pointToLocalFrame(r,o,n,f);var m=Math.floor((f.x-h)/c)-1,v=Math.ceil((f.x+h)/c)+1,g=Math.floor((f.y-h)/c)-1,y=Math.ceil((f.y+h)/c)+1;if(!(v<0||y<0||m>u.length||g>u[0].length)){m<0&&(m=0),v<0&&(v=0),g<0&&(g=0),y<0&&(y=0),m>=u.length&&(m=u.length-1),v>=u.length&&(v=u.length-1),y>=u[0].length&&(y=u[0].length-1),g>=u[0].length&&(g=u[0].length-1);var b=[];e.getRectMinMax(m,g,v,y,b);var x=b[0],w=b[1];if(!(f.z-h>w||f.z+h<x))for(var _=m;_<v;_++)for(var M=g;M<y;M++)e.getConvexTrianglePillar(_,M,!1),s.pointToWorldFrame(r,o,e.pillarOffset,p),n.distanceTo(p)<e.pillarConvex.boundingSphereRadius+t.boundingSphereRadius&&this.convexConvex(t,e.pillarConvex,n,p,i,o,a,l,null,null,d,null),e.getConvexTrianglePillar(_,M,!0),s.pointToWorldFrame(r,o,e.pillarOffset,p),n.distanceTo(p)<e.pillarConvex.boundingSphereRadius+t.boundingSphereRadius&&this.convexConvex(t,e.pillarConvex,n,p,i,o,a,l,null,null,d,null)}};var Ct=new a,At=new a;p.prototype[i.types.SPHERE|i.types.HEIGHTFIELD]=p.prototype.sphereHeightfield=function(t,e,n,r,i,o,a,l){var u=e.data,c=t.radius,h=e.elementSize,p=At,d=Ct;s.pointToLocalFrame(r,o,n,d);var f=Math.floor((d.x-c)/h)-1,m=Math.ceil((d.x+c)/h)+1,v=Math.floor((d.y-c)/h)-1,g=Math.ceil((d.y+c)/h)+1;if(!(m<0||g<0||f>u.length||g>u[0].length)){f<0&&(f=0),m<0&&(m=0),v<0&&(v=0),g<0&&(g=0),f>=u.length&&(f=u.length-1),m>=u.length&&(m=u.length-1),g>=u[0].length&&(g=u[0].length-1),v>=u[0].length&&(v=u[0].length-1);var y=[];e.getRectMinMax(f,v,m,g,y);var b=y[0],x=y[1];if(!(d.z-c>x||d.z+c<b))for(var w=this.result,_=f;_<m;_++)for(var M=v;M<g;M++){var E=w.length;if(e.getConvexTrianglePillar(_,M,!1),s.pointToWorldFrame(r,o,e.pillarOffset,p),n.distanceTo(p)<e.pillarConvex.boundingSphereRadius+t.boundingSphereRadius&&this.sphereConvex(t,e.pillarConvex,n,p,i,o,a,l),e.getConvexTrianglePillar(_,M,!0),s.pointToWorldFrame(r,o,e.pillarOffset,p),n.distanceTo(p)<e.pillarConvex.boundingSphereRadius+t.boundingSphereRadius&&this.sphereConvex(t,e.pillarConvex,n,p,i,o,a,l),w.length-E>2)return}}}},{\"../collision/AABB\":3,\"../collision/Ray\":9,\"../equations/ContactEquation\":19,\"../equations/FrictionEquation\":21,\"../math/Quaternion\":28,\"../math/Transform\":29,\"../math/Vec3\":30,\"../shapes/ConvexPolyhedron\":38,\"../shapes/Shape\":43,\"../solver/Solver\":47,\"../utils/Vec3Pool\":54}],56:[function(t,e,n){e.exports=y;var r=t(\"../shapes/Shape\"),i=t(\"../math/Vec3\"),o=t(\"../math/Quaternion\"),a=t(\"../solver/GSSolver\"),s=(t(\"../utils/Vec3Pool\"),t(\"../equations/ContactEquation\"),t(\"../equations/FrictionEquation\"),t(\"./Narrowphase\")),l=t(\"../utils/EventTarget\"),u=t(\"../collision/ArrayCollisionMatrix\"),c=t(\"../material/Material\"),h=t(\"../material/ContactMaterial\"),p=t(\"../objects/Body\"),d=t(\"../utils/TupleDictionary\"),f=t(\"../collision/RaycastResult\"),m=t(\"../collision/AABB\"),v=t(\"../collision/Ray\"),g=t(\"../collision/NaiveBroadphase\");function y(){l.apply(this),this.dt=-1,this.allowSleep=!1,this.contacts=[],this.frictionEquations=[],this.quatNormalizeSkip=0,this.quatNormalizeFast=!1,this.time=0,this.stepnumber=0,this.default_dt=1/60,this.nextId=0,this.gravity=new i,this.broadphase=new g,this.bodies=[],this.solver=new a,this.constraints=[],this.narrowphase=new s(this),this.collisionMatrix=new u,this.collisionMatrixPrevious=new u,this.materials=[],this.contactmaterials=[],this.contactMaterialTable=new d,this.defaultMaterial=new c(\"default\"),this.defaultContactMaterial=new h(this.defaultMaterial,this.defaultMaterial,{friction:.3,restitution:0}),this.doProfiling=!1,this.profile={solve:0,makeContactConstraints:0,broadphase:0,integrate:0,narrowphase:0},this.subsystems=[],this.addBodyEvent={type:\"addBody\",body:null},this.removeBodyEvent={type:\"removeBody\",body:null}}y.prototype=new l,new m;var b=new v;if(y.prototype.getContactMaterial=function(t,e){return this.contactMaterialTable.get(t.id,e.id)},y.prototype.numObjects=function(){return this.bodies.length},y.prototype.collisionMatrixTick=function(){var t=this.collisionMatrixPrevious;this.collisionMatrixPrevious=this.collisionMatrix,this.collisionMatrix=t,this.collisionMatrix.reset()},y.prototype.add=y.prototype.addBody=function(t){-1===this.bodies.indexOf(t)&&(t.index=this.bodies.length,this.bodies.push(t),t.world=this,t.initPosition.copy(t.position),t.initVelocity.copy(t.velocity),t.timeLastSleepy=this.time,t instanceof p&&(t.initAngularVelocity.copy(t.angularVelocity),t.initQuaternion.copy(t.quaternion)),this.collisionMatrix.setNumObjects(this.bodies.length),this.addBodyEvent.body=t,this.dispatchEvent(this.addBodyEvent))},y.prototype.addConstraint=function(t){this.constraints.push(t)},y.prototype.removeConstraint=function(t){var e=this.constraints.indexOf(t);-1!==e&&this.constraints.splice(e,1)},y.prototype.rayTest=function(t,e,n){n instanceof f?this.raycastClosest(t,e,{skipBackfaces:!0},n):this.raycastAll(t,e,{skipBackfaces:!0},n)},y.prototype.raycastAll=function(t,e,n,r){return n.mode=v.ALL,n.from=t,n.to=e,n.callback=r,b.intersectWorld(this,n)},y.prototype.raycastAny=function(t,e,n,r){return n.mode=v.ANY,n.from=t,n.to=e,n.result=r,b.intersectWorld(this,n)},y.prototype.raycastClosest=function(t,e,n,r){return n.mode=v.CLOSEST,n.from=t,n.to=e,n.result=r,b.intersectWorld(this,n)},y.prototype.remove=function(t){t.world=null;var e=this.bodies.length-1,n=this.bodies,r=n.indexOf(t);if(-1!==r){n.splice(r,1);for(var i=0;i!==n.length;i++)n[i].index=i;this.collisionMatrix.setNumObjects(e),this.removeBodyEvent.body=t,this.dispatchEvent(this.removeBodyEvent)}},y.prototype.removeBody=y.prototype.remove,y.prototype.addMaterial=function(t){this.materials.push(t)},y.prototype.addContactMaterial=function(t){this.contactmaterials.push(t),this.contactMaterialTable.set(t.materials[0].id,t.materials[1].id,t)},\"undefined\"==typeof performance&&(performance={}),!performance.now){var x=Date.now();performance.timing&&performance.timing.navigationStart&&(x=performance.timing.navigationStart),performance.now=function(){return Date.now()-x}}var w=new i;y.prototype.step=function(t,e,n){if(n=n||10,0===(e=e||0))this.internalStep(t),this.time+=t;else{var r=Math.floor((this.time+e)/t)-Math.floor(this.time/t);r=Math.min(r,n);for(var i=performance.now(),o=0;o!==r&&(this.internalStep(t),!(performance.now()-i>1e3*t));o++);this.time+=e;for(var a=this.time%t/t,s=w,l=this.bodies,u=0;u!==l.length;u++){var c=l[u];c.type!==p.STATIC&&c.sleepState!==p.SLEEPING?(c.position.vsub(c.previousPosition,s),s.scale(a,s),c.position.vadd(s,c.interpolatedPosition)):(c.interpolatedPosition.copy(c.position),c.interpolatedQuaternion.copy(c.quaternion))}}};var _={type:\"postStep\"},M={type:\"preStep\"},E={type:\"collide\",body:null,contact:null},S=[],T=[],C=[],A=[],P=(new i,new i,new i,new i,new i,new i,new i,new i,new i,new o,new o),R=new o,L=new i;y.prototype.internalStep=function(t){this.dt=t;var e,n=this.contacts,i=C,o=A,a=this.numObjects(),s=this.bodies,l=this.solver,u=this.gravity,c=this.doProfiling,h=this.profile,d=p.DYNAMIC,f=this.constraints,m=T,v=(u.norm(),u.x),g=u.y,y=u.z,b=0;for(c&&(e=performance.now()),b=0;b!==a;b++)if((z=s[b]).type&d){var x=z.force,w=z.mass;x.x+=w*v,x.y+=w*g,x.z+=w*y}b=0;for(var O=this.subsystems.length;b!==O;b++)this.subsystems[b].update();c&&(e=performance.now()),i.length=0,o.length=0,this.broadphase.collisionPairs(this,i,o),c&&(h.broadphase=performance.now()-e);var I=f.length;for(b=0;b!==I;b++)if(!(V=f[b]).collideConnected)for(var N=i.length-1;N>=0;N-=1)(V.bodyA===i[N]&&V.bodyB===o[N]||V.bodyB===i[N]&&V.bodyA===o[N])&&(i.splice(N,1),o.splice(N,1));this.collisionMatrixTick(),c&&(e=performance.now());var k=S,D=n.length;for(b=0;b!==D;b++)k.push(n[b]);n.length=0;var F=this.frictionEquations.length;for(b=0;b!==F;b++)m.push(this.frictionEquations[b]);for(this.frictionEquations.length=0,this.narrowphase.getContacts(i,o,this,n,k,this.frictionEquations,m),c&&(h.narrowphase=performance.now()-e),c&&(e=performance.now()),b=0;b<this.frictionEquations.length;b++)l.addEquation(this.frictionEquations[b]);for(var B=n.length,U=0;U!==B;U++){var z=(V=n[U]).bi,j=V.bj;V.si,V.sj,(z.material&&j.material&&this.getContactMaterial(z.material,j.material)||this.defaultContactMaterial).friction,z.material&&j.material&&(z.material.friction>=0&&j.material.friction>=0&&(z.material.friction,j.material.friction),z.material.restitution>=0&&j.material.restitution>=0&&(V.restitution=z.material.restitution*j.material.restitution)),l.addEquation(V),z.allowSleep&&z.type===p.DYNAMIC&&z.sleepState===p.SLEEPING&&j.sleepState===p.AWAKE&&j.type!==p.STATIC&&j.velocity.norm2()+j.angularVelocity.norm2()>=2*Math.pow(j.sleepSpeedLimit,2)&&(z._wakeUpAfterNarrowphase=!0),j.allowSleep&&j.type===p.DYNAMIC&&j.sleepState===p.SLEEPING&&z.sleepState===p.AWAKE&&z.type!==p.STATIC&&z.velocity.norm2()+z.angularVelocity.norm2()>=2*Math.pow(z.sleepSpeedLimit,2)&&(j._wakeUpAfterNarrowphase=!0),this.collisionMatrix.set(z,j,!0),this.collisionMatrixPrevious.get(z,j)||(E.body=j,E.contact=V,z.dispatchEvent(E),E.body=z,j.dispatchEvent(E))}for(c&&(h.makeContactConstraints=performance.now()-e,e=performance.now()),b=0;b!==a;b++)(z=s[b])._wakeUpAfterNarrowphase&&(z.wakeUp(),z._wakeUpAfterNarrowphase=!1);for(I=f.length,b=0;b!==I;b++){var V;(V=f[b]).update(),N=0;for(var W=V.equations.length;N!==W;N++){var G=V.equations[N];l.addEquation(G)}}l.solve(t,this),c&&(h.solve=performance.now()-e),l.removeAllEquations();var H=Math.pow;for(b=0;b!==a;b++)if((z=s[b]).type&d){var q=H(1-z.linearDamping,t),X=z.velocity;X.mult(q,X);var Y=z.angularVelocity;if(Y){var K=H(1-z.angularDamping,t);Y.mult(K,Y)}}for(this.dispatchEvent(M),b=0;b!==a;b++)(z=s[b]).preStep&&z.preStep.call(z);c&&(e=performance.now());var Z=P,Q=R,J=this.stepnumber,$=p.DYNAMIC|p.KINEMATIC,tt=J%(this.quatNormalizeSkip+1)==0,et=this.quatNormalizeFast,nt=.5*t;for(r.types.PLANE,r.types.CONVEXPOLYHEDRON,b=0;b!==a;b++){var rt=s[b],it=rt.force,ot=rt.torque;if(rt.type&$&&rt.sleepState!==p.SLEEPING){var at=rt.velocity,st=rt.angularVelocity,lt=rt.position,ut=rt.quaternion,ct=rt.invMass,ht=rt.invInertiaWorld;at.x+=it.x*ct*t,at.y+=it.y*ct*t,at.z+=it.z*ct*t,rt.angularVelocity&&(ht.vmult(ot,L),L.mult(t,L),L.vadd(st,st)),lt.x+=at.x*t,lt.y+=at.y*t,lt.z+=at.z*t,rt.angularVelocity&&(Z.set(st.x,st.y,st.z,0),Z.mult(ut,Q),ut.x+=nt*Q.x,ut.y+=nt*Q.y,ut.z+=nt*Q.z,ut.w+=nt*Q.w,tt&&(et?ut.normalizeFast():ut.normalize())),rt.aabb&&(rt.aabbNeedsUpdate=!0),rt.updateInertiaWorld&&rt.updateInertiaWorld()}}for(this.clearForces(),this.broadphase.dirty=!0,c&&(h.integrate=performance.now()-e),this.time+=t,this.stepnumber+=1,this.dispatchEvent(_),b=0;b!==a;b++){var pt=(z=s[b]).postStep;pt&&pt.call(z)}if(this.allowSleep)for(b=0;b!==a;b++)s[b].sleepTick(this.time)},y.prototype.clearForces=function(){for(var t=this.bodies,e=t.length,n=0;n!==e;n++){var r=t[n];r.force,r.torque,r.force.set(0,0,0),r.torque.set(0,0,0)}}},{\"../collision/AABB\":3,\"../collision/ArrayCollisionMatrix\":4,\"../collision/NaiveBroadphase\":7,\"../collision/Ray\":9,\"../collision/RaycastResult\":10,\"../equations/ContactEquation\":19,\"../equations/FrictionEquation\":21,\"../material/ContactMaterial\":24,\"../material/Material\":25,\"../math/Quaternion\":28,\"../math/Vec3\":30,\"../objects/Body\":31,\"../shapes/Shape\":43,\"../solver/GSSolver\":46,\"../utils/EventTarget\":49,\"../utils/TupleDictionary\":52,\"../utils/Vec3Pool\":54,\"./Narrowphase\":55}]},{},[2])(2)},function(t,e,n){\"use strict\";var r=n(20);t.exports=r},function(t,e,n){\"use strict\";t.exports=function(t){for(var e=arguments.length-1,n=\"Minified React error #\"+t+\"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant=\"+t,r=0;r<e;r++)n+=\"&args[]=\"+encodeURIComponent(arguments[r+1]);n+=\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\";var i=new Error(n);throw i.name=\"Invariant Violation\",i.framesToPop=1,i}},function(t,e,n){\"use strict\";\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null==t)throw new TypeError(\"Object.assign cannot be called with null or undefined\");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String(\"abc\");if(t[5]=\"de\",\"5\"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e[\"_\"+String.fromCharCode(n)]=n;if(\"0123456789\"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(\"\"))return!1;var r={};return\"abcdefghijklmnopqrst\".split(\"\").forEach((function(t){r[t]=t})),\"abcdefghijklmnopqrst\"===Object.keys(Object.assign({},r)).join(\"\")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,l=a(t),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(l[c]=n[c]);if(r){s=r(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(l[s[h]]=n[s[h]])}}return l}},function(t,e,n){\"use strict\";var r=n(5),i=n(38),o=n(117),a=(n(2),i.ID_ATTRIBUTE_NAME),s=o,l=\"__reactInternalInstance$\"+Math.random().toString(36).slice(2);function u(t,e){return 1===t.nodeType&&t.getAttribute(a)===String(e)||8===t.nodeType&&t.nodeValue===\" react-text: \"+e+\" \"||8===t.nodeType&&t.nodeValue===\" react-empty: \"+e+\" \"}function c(t){for(var e;e=t._renderedComponent;)t=e;return t}function h(t,e){var n=c(t);n._hostNode=e,e[l]=n}function p(t,e){if(!(t._flags&s.hasCachedChildNodes)){var n=t._renderedChildren,i=e.firstChild;t:for(var o in n)if(n.hasOwnProperty(o)){var a=n[o],l=c(a)._domID;if(0!==l){for(;null!==i;i=i.nextSibling)if(u(i,l)){h(a,i);continue t}r(\"32\",l)}}t._flags|=s.hasCachedChildNodes}}function d(t){if(t[l])return t[l];for(var e,n,r=[];!t[l];){if(r.push(t),!t.parentNode)return null;t=t.parentNode}for(;t&&(n=t[l]);t=r.pop())e=n,r.length&&p(n,t);return e}var f={getClosestInstanceFromNode:d,getInstanceFromNode:function(t){var e=d(t);return null!=e&&e._hostNode===t?e:null},getNodeFromInstance:function(t){if(void 0===t._hostNode&&r(\"33\"),t._hostNode)return t._hostNode;for(var e=[];!t._hostNode;)e.push(t),t._hostParent||r(\"34\"),t=t._hostParent;for(;e.length;t=e.pop())p(t,t._hostNode);return t._hostNode},precacheChildNodes:p,precacheNode:h,uncacheNode:function(t){var e=t._hostNode;e&&(delete e[l],t._hostNode=null)}};t.exports=f},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}},function(t,e){t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){t.exports={default:n(272),__esModule:!0}},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(146),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),(0,o.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(66),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==(void 0===e?\"undefined\":(0,o.default)(e))&&\"function\"!=typeof e?t:e}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=a(n(299)),i=a(n(303)),o=a(n(66));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+(void 0===e?\"undefined\":(0,o.default)(e)));t.prototype=(0,i.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(r.default?(0,r.default)(t,e):t.__proto__=e)}},function(t,e,n){\"use strict\";var r=!(\"undefined\"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:\"undefined\"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=i},function(t,e,n){\"use strict\";function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var i=n(1),o=n.n(i),a=n(16),s=n.n(a),l=s.a.shape({trySubscribe:s.a.func.isRequired,tryUnsubscribe:s.a.func.isRequired,notifyNestedSubs:s.a.func.isRequired,isSubscribed:s.a.func.isRequired}),u=s.a.shape({subscribe:s.a.func.isRequired,dispatch:s.a.func.isRequired,getState:s.a.func.isRequired});o.a.forwardRef;var c=function(t){var e;void 0===t&&(t=\"store\");var n=t+\"Subscription\",o=function(e){r(a,e);var o=a.prototype;function a(n,r){var i;return(i=e.call(this,n,r)||this)[t]=n.store,i}return o.getChildContext=function(){var e;return(e={})[t]=this[t],e[n]=null,e},o.render=function(){return i.Children.only(this.props.children)},a}(i.Component);return o.propTypes={store:u.isRequired,children:s.a.element.isRequired},o.childContextTypes=((e={})[t]=u.isRequired,e[n]=l,e),o}();function h(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function p(){return(p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function d(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var f=n(165),m=n.n(f),v=n(72),g=n.n(v),y=n(69),b=null,x={notify:function(){}};var w=function(){function t(t,e,n){this.store=t,this.parentSub=e,this.onStateChange=n,this.unsubscribe=null,this.listeners=x}var e=t.prototype;return e.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},e.notifyNestedSubs=function(){this.listeners.notify()},e.isSubscribed=function(){return Boolean(this.unsubscribe)},e.trySubscribe=function(){var t,e;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(t=[],e=[],{clear:function(){e=b,t=b},notify:function(){for(var n=t=e,r=0;r<n.length;r++)n[r]()},get:function(){return e},subscribe:function(n){var r=!0;return e===t&&(e=t.slice()),e.push(n),function(){r&&t!==b&&(r=!1,e===t&&(e=t.slice()),e.splice(e.indexOf(n),1))}}}))},e.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=x)},t}(),_=void 0!==o.a.forwardRef,M=0,E={};function S(){}function T(t,e){var n,o;void 0===e&&(e={});var a=e,s=a.getDisplayName,c=void 0===s?function(t){return\"ConnectAdvanced(\"+t+\")\"}:s,f=a.methodName,v=void 0===f?\"connectAdvanced\":f,b=a.renderCountProp,x=void 0===b?void 0:b,T=a.shouldHandleStateChanges,C=void 0===T||T,A=a.storeKey,P=void 0===A?\"store\":A,R=a.withRef,L=void 0!==R&&R,O=d(a,[\"getDisplayName\",\"methodName\",\"renderCountProp\",\"shouldHandleStateChanges\",\"storeKey\",\"withRef\"]),I=P+\"Subscription\",N=M++,k=((n={})[P]=u,n[I]=l,n),D=((o={})[I]=l,o);return function(e){g()(Object(y.isValidElementType)(e),\"You must pass a component to the function returned by \"+v+\". Instead received \"+JSON.stringify(e));var n=e.displayName||e.name||\"Component\",o=c(n),a=p({},O,{getDisplayName:c,methodName:v,renderCountProp:x,shouldHandleStateChanges:C,storeKey:P,withRef:L,displayName:o,wrappedComponentName:n,WrappedComponent:e}),s=function(n){function s(t,e){var r;return(r=n.call(this,t,e)||this).version=N,r.state={},r.renderCount=0,r.store=t[P]||e[P],r.propsMode=Boolean(t[P]),r.setWrappedInstance=r.setWrappedInstance.bind(h(h(r))),g()(r.store,'Could not find \"'+P+'\" in either the context or props of \"'+o+'\". Either wrap the root component in a <Provider>, or explicitly pass \"'+P+'\" as a prop to \"'+o+'\".'),r.initSelector(),r.initSubscription(),r}r(s,n);var l=s.prototype;return l.getChildContext=function(){var t,e=this.propsMode?null:this.subscription;return(t={})[I]=e||this.context[I],t},l.componentDidMount=function(){C&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},l.componentWillReceiveProps=function(t){this.selector.run(t)},l.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},l.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=S,this.store=null,this.selector.run=S,this.selector.shouldComponentUpdate=!1},l.getWrappedInstance=function(){return g()(L,\"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the \"+v+\"() call.\"),this.wrappedInstance},l.setWrappedInstance=function(t){this.wrappedInstance=t},l.initSelector=function(){var e=t(this.store.dispatch,a);this.selector=function(t,e){var n={run:function(r){try{var i=t(e.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(t){n.shouldComponentUpdate=!0,n.error=t}}};return n}(e,this.store),this.selector.run(this.props)},l.initSubscription=function(){if(C){var t=(this.propsMode?this.props:this.context)[I];this.subscription=new w(this.store,t,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},l.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(E)):this.notifyNestedSubs()},l.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},l.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},l.addExtraProps=function(t){if(!(L||x||this.propsMode&&this.subscription))return t;var e=p({},t);return L&&(e.ref=this.setWrappedInstance),x&&(e[x]=this.renderCount++),this.propsMode&&this.subscription&&(e[I]=this.subscription),e},l.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return Object(i.createElement)(e,this.addExtraProps(t.props))},s}(i.Component);return _&&(s.prototype.UNSAFE_componentWillReceiveProps=s.prototype.componentWillReceiveProps,delete s.prototype.componentWillReceiveProps),s.WrappedComponent=e,s.displayName=o,s.childContextTypes=D,s.contextTypes=k,s.propTypes=k,m()(s,e)}}var C=Object.prototype.hasOwnProperty;function A(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function P(t,e){if(A(t,e))return!0;if(\"object\"!=typeof t||null===t||\"object\"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!C.call(e,n[i])||!A(t[n[i]],e[n[i]]))return!1;return!0}var R=n(35);function L(t){return function(e,n){var r=t(e,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function O(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function I(t,e){return function(e,n){n.displayName;var r=function(t,e){return r.dependsOnOwnProps?r.mapToProps(t,e):r.mapToProps(t)};return r.dependsOnOwnProps=!0,r.mapToProps=function(e,n){r.mapToProps=t,r.dependsOnOwnProps=O(t);var i=r(e,n);return\"function\"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=O(i),i=r(e,n)),i},r}}var N=[function(t){return\"function\"==typeof t?I(t):void 0},function(t){return t?void 0:L((function(t){return{dispatch:t}}))},function(t){return t&&\"object\"==typeof t?L((function(e){return Object(R.b)(t,e)})):void 0}];var k=[function(t){return\"function\"==typeof t?I(t):void 0},function(t){return t?void 0:L((function(){return{}}))}];function D(t,e,n){return p({},n,t,e)}var F=[function(t){return\"function\"==typeof t?function(t){return function(e,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(e,n,s){var l=t(e,n,s);return a?i&&o(l,r)||(r=l):(a=!0,r=l),r}}}(t):void 0},function(t){return t?void 0:function(){return D}}];function B(t,e,n,r){return function(i,o){return n(t(i,o),e(r,o),o)}}function U(t,e,n,r,i){var o,a,s,l,u,c=i.areStatesEqual,h=i.areOwnPropsEqual,p=i.areStatePropsEqual,d=!1;function f(i,d){var f,m,v=!h(d,a),g=!c(i,o);return o=i,a=d,v&&g?(s=t(o,a),e.dependsOnOwnProps&&(l=e(r,a)),u=n(s,l,a)):v?(t.dependsOnOwnProps&&(s=t(o,a)),e.dependsOnOwnProps&&(l=e(r,a)),u=n(s,l,a)):g?(f=t(o,a),m=!p(f,s),s=f,m&&(u=n(s,l,a)),u):u}return function(i,c){return d?f(i,c):(s=t(o=i,a=c),l=e(r,a),u=n(s,l,a),d=!0,u)}}function z(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,o=d(e,[\"initMapStateToProps\",\"initMapDispatchToProps\",\"initMergeProps\"]),a=n(t,o),s=r(t,o),l=i(t,o);return(o.pure?U:B)(a,s,l,t,o)}function j(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(e,r){throw new Error(\"Invalid value of type \"+typeof t+\" for \"+n+\" argument when connecting component \"+r.wrappedComponentName+\".\")}}function V(t,e){return t===e}var W,G,H,q,X,Y,K,Z,Q,J,$,tt,et=(H=(G=void 0===W?{}:W).connectHOC,q=void 0===H?T:H,X=G.mapStateToPropsFactories,Y=void 0===X?k:X,K=G.mapDispatchToPropsFactories,Z=void 0===K?N:K,Q=G.mergePropsFactories,J=void 0===Q?F:Q,$=G.selectorFactory,tt=void 0===$?z:$,function(t,e,n,r){void 0===r&&(r={});var i=r,o=i.pure,a=void 0===o||o,s=i.areStatesEqual,l=void 0===s?V:s,u=i.areOwnPropsEqual,c=void 0===u?P:u,h=i.areStatePropsEqual,f=void 0===h?P:h,m=i.areMergedPropsEqual,v=void 0===m?P:m,g=d(i,[\"pure\",\"areStatesEqual\",\"areOwnPropsEqual\",\"areStatePropsEqual\",\"areMergedPropsEqual\"]),y=j(t,Y,\"mapStateToProps\"),b=j(e,Z,\"mapDispatchToProps\"),x=j(n,J,\"mergeProps\");return q(tt,p({methodName:\"connect\",getDisplayName:function(t){return\"Connect(\"+t+\")\"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:y,initMapDispatchToProps:b,initMergeProps:x,pure:a,areStatesEqual:l,areOwnPropsEqual:c,areStatePropsEqual:f,areMergedPropsEqual:v},g))});n.d(e,\"a\",(function(){return c})),n.d(e,\"b\",(function(){return et}))},function(t,e,n){t.exports=n(265)()},function(t,e){var n=t.exports={version:\"2.6.10\"};\"number\"==typeof __e&&(__e=n)},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default={easeOutFunction:\"cubic-bezier(0.23, 1, 0.32, 1)\",easeInOutFunction:\"cubic-bezier(0.445, 0.05, 0.55, 0.95)\",easeOut:function(t,e,n,r){if(r=r||this.easeOutFunction,e&&\"[object Array]\"===Object.prototype.toString.call(e)){for(var i=\"\",o=0;o<e.length;o++)i&&(i+=\",\"),i+=this.create(t,e[o],n,r);return i}return this.create(t,e,n,r)},create:function(t,e,n,r){return(e=e||\"all\")+\" \"+(t=t||\"450ms\")+\" \"+(r=r||\"linear\")+\" \"+(n=n||\"0ms\")}}},function(t,e,n){\"use strict\";function r(t){return function(){return t}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,e,n){\"use strict\";t.exports={debugTool:null}},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(161),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){\"use strict\";var r=n(5),i=n(6),o=n(121),a=n(32),s=n(122),l=n(41),u=n(59),c=n(2),h=[],p=0,d=o.getPooled(),f=!1,m=null;function v(){_.ReactReconcileTransaction&&m||r(\"123\")}var g=[{initialize:function(){this.dirtyComponentsLength=h.length},close:function(){this.dirtyComponentsLength!==h.length?(h.splice(0,this.dirtyComponentsLength),w()):h.length=0}},{initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}}];function y(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=o.getPooled(),this.reconcileTransaction=_.ReactReconcileTransaction.getPooled(!0)}function b(t,e){return t._mountOrder-e._mountOrder}function x(t){var e=t.dirtyComponentsLength;e!==h.length&&r(\"124\",e,h.length),h.sort(b),p++;for(var n=0;n<e;n++){var i,o=h[n],a=o._pendingCallbacks;if(o._pendingCallbacks=null,s.logTopLevelRenders){var u=o;o._currentElement.type.isReactTopLevelWrapper&&(u=o._renderedComponent),i=\"React update: \"+u.getName(),console.time(i)}if(l.performUpdateIfNecessary(o,t.reconcileTransaction,p),i&&console.timeEnd(i),a)for(var c=0;c<a.length;c++)t.callbackQueue.enqueue(a[c],o.getPublicInstance())}}i(y.prototype,u,{getTransactionWrappers:function(){return g},destructor:function(){this.dirtyComponentsLength=null,o.release(this.callbackQueue),this.callbackQueue=null,_.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(t,e,n){return u.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,t,e,n)}}),a.addPoolingTo(y);var w=function(){for(;h.length||f;){if(h.length){var t=y.getPooled();t.perform(x,null,t),y.release(t)}if(f){f=!1;var e=d;d=o.getPooled(),e.notifyAll(),o.release(e)}}};var _={ReactReconcileTransaction:null,batchedUpdates:function(t,e,n,r,i,o){return v(),m.batchedUpdates(t,e,n,r,i,o)},enqueueUpdate:function t(e){v(),m.isBatchingUpdates?(h.push(e),null==e._updateBatchNumber&&(e._updateBatchNumber=p+1)):m.batchedUpdates(t,e)},flushBatchedUpdates:w,injection:{injectReconcileTransaction:function(t){t||r(\"126\"),_.ReactReconcileTransaction=t},injectBatchingStrategy:function(t){t||r(\"127\"),\"function\"!=typeof t.batchedUpdates&&r(\"128\"),\"boolean\"!=typeof t.isBatchingUpdates&&r(\"129\"),m=t}},asap:function(t,e){c(m.isBatchingUpdates,\"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched.\"),d.enqueue(t,e),f=!0}};t.exports=_},function(t,e,n){var r=n(92)(\"wks\"),i=n(65),o=n(28).Symbol,a=\"function\"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)(\"Symbol.\"+t))}).store=r},function(t,e,n){\"use strict\";t.exports={current:null}},function(t,e,n){\"use strict\";var r=n(6),i=n(32),o=n(20),a=(n(4),[\"dispatchConfig\",\"_targetInst\",\"nativeEvent\",\"isDefaultPrevented\",\"isPropagationStopped\",\"_dispatchListeners\",\"_dispatchInstances\"]),s={type:null,target:null,currentTarget:o.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function l(t,e,n,r){this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n;var i=this.constructor.Interface;for(var a in i)if(i.hasOwnProperty(a)){0;var s=i[a];s?this[a]=s(n):\"target\"===a?this.target=r:this[a]=n[a]}var l=null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue;return this.isDefaultPrevented=l?o.thatReturnsTrue:o.thatReturnsFalse,this.isPropagationStopped=o.thatReturnsFalse,this}r(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():\"unknown\"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=o.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():\"unknown\"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=o.thatReturnsTrue)},persist:function(){this.isPersistent=o.thatReturnsTrue},isPersistent:o.thatReturnsFalse,destructor:function(){var t=this.constructor.Interface;for(var e in t)this[e]=null;for(var n=0;n<a.length;n++)this[a[n]]=null}}),l.Interface=s,l.augmentClass=function(t,e){var n=function(){};n.prototype=this.prototype;var o=new n;r(o,t.prototype),t.prototype=o,t.prototype.constructor=t,t.Interface=r({},this.Interface,e),t.augmentClass=this.augmentClass,i.addPoolingTo(t,i.fourArgumentPooler)},i.addPoolingTo(l,i.fourArgumentPooler),t.exports=l},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e,n){return n?[t,e]:t},t.exports=e.default},function(t,e){var n=t.exports=\"undefined\"!=typeof window&&window.Math==Math?window:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")();\"number\"==typeof __g&&(__g=n)},function(t,e,n){var r=n(28),i=n(17),o=n(93),a=n(45),s=n(33),l=function(t,e,n){var u,c,h,p=t&l.F,d=t&l.G,f=t&l.S,m=t&l.P,v=t&l.B,g=t&l.W,y=d?i:i[e]||(i[e]={}),b=y.prototype,x=d?r:f?r[e]:(r[e]||{}).prototype;for(u in d&&(n=e),n)(c=!p&&x&&void 0!==x[u])&&s(y,u)||(h=c?x[u]:n[u],y[u]=d&&\"function\"!=typeof x[u]?n[u]:v&&c?o(h,r):g&&x[u]==h?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):m&&\"function\"==typeof h?o(Function.call,h):h,m&&((y.virtual||(y.virtual={}))[u]=h,t&l.R&&b&&!b[u]&&a(b,u,h)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e,n){var r=n(46),i=n(144),o=n(94),a=Object.defineProperty;e.f=n(31)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if(\"get\"in n||\"set\"in n)throw TypeError(\"Accessors not supported!\");return\"value\"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(48)((function(){return 7!=Object.defineProperty({},\"a\",{get:function(){return 7}}).a}))},function(t,e,n){\"use strict\";var r=n(5),i=(n(2),function(t){if(this.instancePool.length){var e=this.instancePool.pop();return this.call(e,t),e}return new this(t)}),o=function(t){t instanceof this||r(\"25\"),t.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(t)},a=i,s={addPoolingTo:function(t,e){var n=t;return n.instancePool=[],n.getPooled=e||a,n.poolSize||(n.poolSize=10),n.release=o,n},oneArgumentPooler:i,twoArgumentPooler:function(t,e){if(this.instancePool.length){var n=this.instancePool.pop();return this.call(n,t,e),n}return new this(t,e)},threeArgumentPooler:function(t,e,n){if(this.instancePool.length){var r=this.instancePool.pop();return this.call(r,t,e,n),r}return new this(t,e,n)},fourArgumentPooler:function(t,e,n,r){if(this.instancePool.length){var i=this.instancePool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}};t.exports=s},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){\"use strict\";t.exports=n(189)},function(t,e,n){\"use strict\";var r=n(167),i=\"object\"==typeof self&&self&&self.Object===Object&&self,o=(r.a||i||Function(\"return this\")()).Symbol,a=Object.prototype,s=a.hasOwnProperty,l=a.toString,u=o?o.toStringTag:void 0;var c=function(t){var e=s.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var i=l.call(t);return r&&(e?t[u]=n:delete t[u]),i},h=Object.prototype.toString;var p=function(t){return h.call(t)},d=\"[object Null]\",f=\"[object Undefined]\",m=o?o.toStringTag:void 0;var v=function(t){return null==t?void 0===t?f:d:m&&m in Object(t)?c(t):p(t)};var g=function(t,e){return function(n){return t(e(n))}}(Object.getPrototypeOf,Object);var y=function(t){return null!=t&&\"object\"==typeof t},b=\"[object Object]\",x=Function.prototype,w=Object.prototype,_=x.toString,M=w.hasOwnProperty,E=_.call(Object);var S=function(t){if(!y(t)||v(t)!=b)return!1;var e=g(t);if(null===e)return!0;var n=M.call(e,\"constructor\")&&e.constructor;return\"function\"==typeof n&&n instanceof n&&_.call(n)==E},T=n(110),C={INIT:\"@@redux/INIT\"};function A(t,e,n){var r;if(\"function\"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if(\"function\"!=typeof n)throw new Error(\"Expected the enhancer to be a function.\");return n(A)(t,e)}if(\"function\"!=typeof t)throw new Error(\"Expected the reducer to be a function.\");var i=t,o=e,a=[],s=a,l=!1;function u(){s===a&&(s=a.slice())}function c(){return o}function h(t){if(\"function\"!=typeof t)throw new Error(\"Expected listener to be a function.\");var e=!0;return u(),s.push(t),function(){if(e){e=!1,u();var n=s.indexOf(t);s.splice(n,1)}}}function p(t){if(!S(t))throw new Error(\"Actions must be plain objects. Use custom middleware for async actions.\");if(void 0===t.type)throw new Error('Actions may not have an undefined \"type\" property. Have you misspelled a constant?');if(l)throw new Error(\"Reducers may not dispatch actions.\");try{l=!0,o=i(o,t)}finally{l=!1}for(var e=a=s,n=0;n<e.length;n++){(0,e[n])()}return t}return p({type:C.INIT}),(r={dispatch:p,subscribe:h,getState:c,replaceReducer:function(t){if(\"function\"!=typeof t)throw new Error(\"Expected the nextReducer to be a function.\");i=t,p({type:C.INIT})}})[T.a]=function(){var t,e=h;return(t={subscribe:function(t){if(\"object\"!=typeof t)throw new TypeError(\"Expected the observer to be an object.\");function n(){t.next&&t.next(c())}return n(),{unsubscribe:e(n)}}})[T.a]=function(){return this},t},r}function P(t,e){var n=e&&e.type;return\"Given action \"+(n&&'\"'+n.toString()+'\"'||\"an action\")+', reducer \"'+t+'\" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function R(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];0,\"function\"==typeof t[i]&&(n[i]=t[i])}var o=Object.keys(n);var a=void 0;try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if(void 0===n(void 0,{type:C.INIT}))throw new Error('Reducer \"'+e+\"\\\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.\");if(void 0===n(void 0,{type:\"@@redux/PROBE_UNKNOWN_ACTION_\"+Math.random().toString(36).substring(7).split(\"\").join(\".\")}))throw new Error('Reducer \"'+e+\"\\\" returned undefined when probed with a random type. Don't try to handle \"+C.INIT+' or other actions in \"redux/*\" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(t){a=t}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var l=o[s],u=n[l],c=t[l],h=u(c,e);if(void 0===h){var p=P(l,e);throw new Error(p)}i[l]=h,r=r||h!==c}return r?i:t}}function L(t,e){return function(){return e(t.apply(void 0,arguments))}}function O(t,e){if(\"function\"==typeof t)return L(t,e);if(\"object\"!=typeof t||null===t)throw new Error(\"bindActionCreators expected an object or a function, instead received \"+(null===t?\"null\":typeof t)+'. Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?');for(var n=Object.keys(t),r={},i=0;i<n.length;i++){var o=n[i],a=t[o];\"function\"==typeof a&&(r[o]=L(a,e))}return r}function I(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}var N=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function k(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(n,r,i){var o,a=t(n,r,i),s=a.dispatch,l={getState:a.getState,dispatch:function(t){return s(t)}};return o=e.map((function(t){return t(l)})),s=I.apply(void 0,o)(a.dispatch),N({},a,{dispatch:s})}}}n.d(e,\"d\",(function(){return A})),n.d(e,\"c\",(function(){return R})),n.d(e,\"b\",(function(){return O})),n.d(e,\"a\",(function(){return k}))},function(t,e,n){\"use strict\";var r=n(6),i=n(111),o=n(175),a=n(180),s=n(37),l=n(181),u=n(185),c=n(186),h=n(188),p=s.createElement,d=s.createFactory,f=s.cloneElement,m=r,v={Children:{map:o.map,forEach:o.forEach,count:o.count,toArray:o.toArray,only:h},Component:i.Component,PureComponent:i.PureComponent,createElement:p,cloneElement:f,isValidElement:s.isValidElement,PropTypes:l,createClass:c,createFactory:d,createMixin:function(t){return t},DOM:a,version:u,__spread:m};t.exports=v},function(t,e,n){\"use strict\";var r=n(6),i=n(25),o=(n(4),n(113),Object.prototype.hasOwnProperty),a=n(114),s={key:!0,ref:!0,__self:!0,__source:!0};function l(t){return void 0!==t.ref}function u(t){return void 0!==t.key}var c=function(t,e,n,r,i,o,s){return{$$typeof:a,type:t,key:e,ref:n,props:s,_owner:o}};c.createElement=function(t,e,n){var r,a={},h=null,p=null;if(null!=e)for(r in l(e)&&(p=e.ref),u(e)&&(h=\"\"+e.key),void 0===e.__self?null:e.__self,void 0===e.__source?null:e.__source,e)o.call(e,r)&&!s.hasOwnProperty(r)&&(a[r]=e[r]);var d=arguments.length-2;if(1===d)a.children=n;else if(d>1){for(var f=Array(d),m=0;m<d;m++)f[m]=arguments[m+2];0,a.children=f}if(t&&t.defaultProps){var v=t.defaultProps;for(r in v)void 0===a[r]&&(a[r]=v[r])}return c(t,h,p,0,0,i.current,a)},c.createFactory=function(t){var e=c.createElement.bind(null,t);return e.type=t,e},c.cloneAndReplaceKey=function(t,e){return c(t.type,e,t.ref,t._self,t._source,t._owner,t.props)},c.cloneElement=function(t,e,n){var a,h,p=r({},t.props),d=t.key,f=t.ref,m=(t._self,t._source,t._owner);if(null!=e)for(a in l(e)&&(f=e.ref,m=i.current),u(e)&&(d=\"\"+e.key),t.type&&t.type.defaultProps&&(h=t.type.defaultProps),e)o.call(e,a)&&!s.hasOwnProperty(a)&&(void 0===e[a]&&void 0!==h?p[a]=h[a]:p[a]=e[a]);var v=arguments.length-2;if(1===v)p.children=n;else if(v>1){for(var g=Array(v),y=0;y<v;y++)g[y]=arguments[y+2];p.children=g}return c(t.type,d,f,0,0,m,p)},c.isValidElement=function(t){return\"object\"==typeof t&&null!==t&&t.$$typeof===a},t.exports=c},function(t,e,n){\"use strict\";var r=n(5);n(2);function i(t,e){return(t&e)===e}var o={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(t){var e=o,n=t.Properties||{},a=t.DOMAttributeNamespaces||{},l=t.DOMAttributeNames||{},u=t.DOMPropertyNames||{},c=t.DOMMutationMethods||{};for(var h in t.isCustomAttribute&&s._isCustomAttributeFunctions.push(t.isCustomAttribute),n){s.properties.hasOwnProperty(h)&&r(\"48\",h);var p=h.toLowerCase(),d=n[h],f={attributeName:p,attributeNamespace:null,propertyName:h,mutationMethod:null,mustUseProperty:i(d,e.MUST_USE_PROPERTY),hasBooleanValue:i(d,e.HAS_BOOLEAN_VALUE),hasNumericValue:i(d,e.HAS_NUMERIC_VALUE),hasPositiveNumericValue:i(d,e.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:i(d,e.HAS_OVERLOADED_BOOLEAN_VALUE)};if(f.hasBooleanValue+f.hasNumericValue+f.hasOverloadedBooleanValue<=1||r(\"50\",h),l.hasOwnProperty(h)){var m=l[h];f.attributeName=m}a.hasOwnProperty(h)&&(f.attributeNamespace=a[h]),u.hasOwnProperty(h)&&(f.propertyName=u[h]),c.hasOwnProperty(h)&&(f.mutationMethod=c[h]),s.properties[h]=f}}},a=\":A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\",s={ID_ATTRIBUTE_NAME:\"data-reactid\",ROOT_ATTRIBUTE_NAME:\"data-reactroot\",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+\"\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040\",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(t){for(var e=0;e<s._isCustomAttributeFunctions.length;e++){if((0,s._isCustomAttributeFunctions[e])(t))return!0}return!1},injection:o};t.exports=s},function(t,e,n){\"use strict\";var r=n(40),i=n(58),o=n(118),a=n(119),s=(n(4),r.getListener);function l(t,e,n){var r=function(t,e,n){var r=e.dispatchConfig.phasedRegistrationNames[n];return s(t,r)}(t,n,e);r&&(n._dispatchListeners=o(n._dispatchListeners,r),n._dispatchInstances=o(n._dispatchInstances,t))}function u(t){t&&t.dispatchConfig.phasedRegistrationNames&&i.traverseTwoPhase(t._targetInst,l,t)}function c(t){if(t&&t.dispatchConfig.phasedRegistrationNames){var e=t._targetInst,n=e?i.getParentInstance(e):null;i.traverseTwoPhase(n,l,t)}}function h(t,e,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=s(t,r);i&&(n._dispatchListeners=o(n._dispatchListeners,i),n._dispatchInstances=o(n._dispatchInstances,t))}}function p(t){t&&t.dispatchConfig.registrationName&&h(t._targetInst,0,t)}var d={accumulateTwoPhaseDispatches:function(t){a(t,u)},accumulateTwoPhaseDispatchesSkipTarget:function(t){a(t,c)},accumulateDirectDispatches:function(t){a(t,p)},accumulateEnterLeaveDispatches:function(t,e,n,r){i.traverseEnterLeave(n,r,h,t,e)}};t.exports=d},function(t,e,n){\"use strict\";var r=n(5),i=n(73),o=n(58),a=n(74),s=n(118),l=n(119),u=(n(2),{}),c=null,h=function(t,e){t&&(o.executeDispatchesInOrder(t,e),t.isPersistent()||t.constructor.release(t))},p=function(t){return h(t,!0)},d=function(t){return h(t,!1)},f=function(t){return\".\"+t._rootNodeID};var m={injection:{injectEventPluginOrder:i.injectEventPluginOrder,injectEventPluginsByName:i.injectEventPluginsByName},putListener:function(t,e,n){\"function\"!=typeof n&&r(\"94\",e,typeof n);var o=f(t);(u[e]||(u[e]={}))[o]=n;var a=i.registrationNameModules[e];a&&a.didPutListener&&a.didPutListener(t,e,n)},getListener:function(t,e){var n=u[e];if(function(t,e,n){switch(t){case\"onClick\":case\"onClickCapture\":case\"onDoubleClick\":case\"onDoubleClickCapture\":case\"onMouseDown\":case\"onMouseDownCapture\":case\"onMouseMove\":case\"onMouseMoveCapture\":case\"onMouseUp\":case\"onMouseUpCapture\":return!(!n.disabled||(r=e,\"button\"!==r&&\"input\"!==r&&\"select\"!==r&&\"textarea\"!==r));default:return!1}var r}(e,t._currentElement.type,t._currentElement.props))return null;var r=f(t);return n&&n[r]},deleteListener:function(t,e){var n=i.registrationNameModules[e];n&&n.willDeleteListener&&n.willDeleteListener(t,e);var r=u[e];r&&delete r[f(t)]},deleteAllListeners:function(t){var e=f(t);for(var n in u)if(u.hasOwnProperty(n)&&u[n][e]){var r=i.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(t,n),delete u[n][e]}},extractEvents:function(t,e,n,r){for(var o,a=i.plugins,l=0;l<a.length;l++){var u=a[l];if(u){var c=u.extractEvents(t,e,n,r);c&&(o=s(o,c))}}return o},enqueueEvents:function(t){t&&(c=s(c,t))},processEventQueue:function(t){var e=c;c=null,l(e,t?p:d),c&&r(\"95\"),a.rethrowCaughtError()},__purge:function(){u={}},__getListenerBank:function(){return u}};t.exports=m},function(t,e,n){\"use strict\";var r=n(197);n(21),n(4);function i(){r.attachRefs(this,this._currentElement)}var o={mountComponent:function(t,e,n,r,o,a){var s=t.mountComponent(e,n,r,o,a);return t._currentElement&&null!=t._currentElement.ref&&e.getReactMountReady().enqueue(i,t),s},getHostNode:function(t){return t.getHostNode()},unmountComponent:function(t,e){r.detachRefs(t,t._currentElement),t.unmountComponent(e)},receiveComponent:function(t,e,n,o){var a=t._currentElement;if(e!==a||o!==t._context){0;var s=r.shouldUpdateRefs(a,e);s&&r.detachRefs(t,a),t.receiveComponent(e,n,o),s&&t._currentElement&&null!=t._currentElement.ref&&n.getReactMountReady().enqueue(i,t)}},performUpdateIfNecessary:function(t,e,n){t._updateBatchNumber===n&&t.performUpdateIfNecessary(e)}};t.exports=o},function(t,e,n){\"use strict\";var r=n(26),i=n(75),o={view:function(t){if(t.view)return t.view;var e=i(t);if(e.window===e)return e;var n=e.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(t){return t.detail||0}};function a(t,e,n,i){return r.call(this,t,e,n,i)}r.augmentClass(a,o),t.exports=a},function(t,e,n){\"use strict\";var r=n(80),i=n(61),o=n(81),a=n(125),s=\"undefined\"!=typeof document&&\"number\"==typeof document.documentMode||\"undefined\"!=typeof navigator&&\"string\"==typeof navigator.userAgent&&/\\bEdge\\/\\d/.test(navigator.userAgent);function l(t){if(s){var e=t.node,n=t.children;if(n.length)for(var r=0;r<n.length;r++)u(e,n[r],null);else null!=t.html?i(e,t.html):null!=t.text&&a(e,t.text)}}var u=o((function(t,e,n){11===e.node.nodeType||1===e.node.nodeType&&\"object\"===e.node.nodeName.toLowerCase()&&(null==e.node.namespaceURI||e.node.namespaceURI===r.html)?(l(e),t.insertBefore(e.node,n)):(t.insertBefore(e.node,n),l(e))}));function c(){return this.node.nodeName}function h(t){return{node:t,children:[],html:null,text:null,toString:c}}h.insertTreeBefore=u,h.replaceChildWithTree=function(t,e){t.parentNode.replaceChild(e.node,t),l(e)},h.queueChild=function(t,e){s?t.children.push(e):t.node.appendChild(e.node)},h.queueHTML=function(t,e){s?t.html=e:i(t.node,e)},h.queueText=function(t,e){s?t.text=e:a(t.node,e)},t.exports=h},function(t,e,n){var r=n(90);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(30),i=n(53);t.exports=n(31)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(47);t.exports=function(t){if(!r(t))throw TypeError(t+\" is not an object!\");return t}},function(t,e){t.exports=function(t){return\"object\"==typeof t?null!==t:\"function\"==typeof t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(151),i=n(90);t.exports=function(t){return r(i(t))}},function(t,e,n){\"use strict\";t.exports=function(t){for(var e=arguments.length-1,n=\"Minified React error #\"+t+\"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant=\"+t,r=0;r<e;r++)n+=\"&args[]=\"+encodeURIComponent(arguments[r+1]);n+=\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\";var i=new Error(n);throw i.name=\"Invariant Violation\",i.framesToPop=1,i}},function(t,e,n){\"use strict\";var r={remove:function(t){t._reactInternalInstance=void 0},get:function(t){return t._reactInternalInstance},has:function(t){return void 0!==t._reactInternalInstance},set:function(t,e){t._reactInternalInstance=e}};t.exports=r},function(t,e,n){\"use strict\";var r=Object.prototype.hasOwnProperty;function i(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}t.exports=function(t,e){if(i(t,e))return!0;if(\"object\"!=typeof t||null===t||\"object\"!=typeof e||null===e)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!r.call(e,n[a])||!i(t[n[a]],e[n[a]]))return!1;return!0}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports={}},function(t,e,n){var r=n(150),i=n(98);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){\"use strict\";t.exports=function(){}},function(t,e,n){\"use strict\";t.exports={}},function(t,e,n){\"use strict\";var r,i,o=n(5),a=n(74);n(2),n(4);function s(t,e,n,r){var i=t.type||\"unknown-event\";t.currentTarget=l.getNodeFromInstance(r),e?a.invokeGuardedCallbackWithCatch(i,n,t):a.invokeGuardedCallback(i,n,t),t.currentTarget=null}var l={isEndish:function(t){return\"topMouseUp\"===t||\"topTouchEnd\"===t||\"topTouchCancel\"===t},isMoveish:function(t){return\"topMouseMove\"===t||\"topTouchMove\"===t},isStartish:function(t){return\"topMouseDown\"===t||\"topTouchStart\"===t},executeDirectDispatch:function(t){var e=t._dispatchListeners,n=t._dispatchInstances;Array.isArray(e)&&o(\"103\"),t.currentTarget=e?l.getNodeFromInstance(n):null;var r=e?e(t):null;return t.currentTarget=null,t._dispatchListeners=null,t._dispatchInstances=null,r},executeDispatchesInOrder:function(t,e){var n=t._dispatchListeners,r=t._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!t.isPropagationStopped();i++)s(t,e,n[i],r[i]);else n&&s(t,e,n,r);t._dispatchListeners=null,t._dispatchInstances=null},executeDispatchesInOrderStopAtTrue:function(t){var e=function(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e)){for(var r=0;r<e.length&&!t.isPropagationStopped();r++)if(e[r](t,n[r]))return n[r]}else if(e&&e(t,n))return n;return null}(t);return t._dispatchInstances=null,t._dispatchListeners=null,e},hasDispatches:function(t){return!!t._dispatchListeners},getInstanceFromNode:function(t){return r.getInstanceFromNode(t)},getNodeFromInstance:function(t){return r.getNodeFromInstance(t)},isAncestor:function(t,e){return i.isAncestor(t,e)},getLowestCommonAncestor:function(t,e){return i.getLowestCommonAncestor(t,e)},getParentInstance:function(t){return i.getParentInstance(t)},traverseTwoPhase:function(t,e,n){return i.traverseTwoPhase(t,e,n)},traverseEnterLeave:function(t,e,n,r,o){return i.traverseEnterLeave(t,e,n,r,o)},injection:{injectComponentTree:function(t){r=t},injectTreeTraversal:function(t){i=t}}};t.exports=l},function(t,e,n){\"use strict\";var r=n(5),i=(n(2),{}),o={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(t,e,n,i,o,a,s,l){var u,c;this.isInTransaction()&&r(\"27\");try{this._isInTransaction=!0,u=!0,this.initializeAll(0),c=t.call(e,n,i,o,a,s,l),u=!1}finally{try{if(u)try{this.closeAll(0)}catch(t){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(t){for(var e=this.transactionWrappers,n=t;n<e.length;n++){var r=e[n];try{this.wrapperInitData[n]=i,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===i)try{this.initializeAll(n+1)}catch(t){}}}},closeAll:function(t){this.isInTransaction()||r(\"28\");for(var e=this.transactionWrappers,n=t;n<e.length;n++){var o,a=e[n],s=this.wrapperInitData[n];try{o=!0,s!==i&&a.close&&a.close.call(this,s),o=!1}finally{if(o)try{this.closeAll(n+1)}catch(t){}}}this.wrapperInitData.length=0}};t.exports=o},function(t,e,n){\"use strict\";var r=n(42),i=n(77),o={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:n(78),button:function(t){var e=t.button;return\"which\"in t?e:2===e?2:4===e?1:0},buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},pageX:function(t){return\"pageX\"in t?t.pageX:t.clientX+i.currentScrollLeft},pageY:function(t){return\"pageY\"in t?t.pageY:t.clientY+i.currentScrollTop}};function a(t,e,n,i){return r.call(this,t,e,n,i)}r.augmentClass(a,o),t.exports=a},function(t,e,n){\"use strict\";var r,i=n(14),o=n(80),a=/^[ \\r\\n\\t\\f]/,s=/<(!--|link|noscript|meta|script|style)[ \\r\\n\\t\\f\\/>]/,l=n(81)((function(t,e){if(t.namespaceURI!==o.svg||\"innerHTML\"in t)t.innerHTML=e;else{(r=r||document.createElement(\"div\")).innerHTML=\"<svg>\"+e+\"</svg>\";for(var n=r.firstChild;n.firstChild;)t.appendChild(n.firstChild)}}));if(i.canUseDOM){var u=document.createElement(\"div\");u.innerHTML=\" \",\"\"===u.innerHTML&&(l=function(t,e){if(t.parentNode&&t.parentNode.replaceChild(t,t),a.test(e)||\"<\"===e[0]&&s.test(e)){t.innerHTML=String.fromCharCode(65279)+e;var n=t.firstChild;1===n.data.length?t.removeChild(n):n.deleteData(0,1)}else t.innerHTML=e}),u=null}t.exports=l},function(t,e,n){\"use strict\";var r=/[\"'&<>]/;t.exports=function(t){return\"boolean\"==typeof t||\"number\"==typeof t?\"\"+t:function(t){var e,n=\"\"+t,i=r.exec(n);if(!i)return n;var o=\"\",a=0,s=0;for(a=i.index;a<n.length;a++){switch(n.charCodeAt(a)){case 34:e=\"&quot;\";break;case 38:e=\"&amp;\";break;case 39:e=\"&#x27;\";break;case 60:e=\"&lt;\";break;case 62:e=\"&gt;\";break;default:continue}s!==a&&(o+=n.substring(s,a)),s=a+1,o+=e}return s!==a?o+n.substring(s,a):o}(t)}},function(t,e,n){\"use strict\";var r,i=n(6),o=n(73),a=n(218),s=n(77),l=n(219),u=n(76),c={},h=!1,p=0,d={topAbort:\"abort\",topAnimationEnd:l(\"animationend\")||\"animationend\",topAnimationIteration:l(\"animationiteration\")||\"animationiteration\",topAnimationStart:l(\"animationstart\")||\"animationstart\",topBlur:\"blur\",topCanPlay:\"canplay\",topCanPlayThrough:\"canplaythrough\",topChange:\"change\",topClick:\"click\",topCompositionEnd:\"compositionend\",topCompositionStart:\"compositionstart\",topCompositionUpdate:\"compositionupdate\",topContextMenu:\"contextmenu\",topCopy:\"copy\",topCut:\"cut\",topDoubleClick:\"dblclick\",topDrag:\"drag\",topDragEnd:\"dragend\",topDragEnter:\"dragenter\",topDragExit:\"dragexit\",topDragLeave:\"dragleave\",topDragOver:\"dragover\",topDragStart:\"dragstart\",topDrop:\"drop\",topDurationChange:\"durationchange\",topEmptied:\"emptied\",topEncrypted:\"encrypted\",topEnded:\"ended\",topError:\"error\",topFocus:\"focus\",topInput:\"input\",topKeyDown:\"keydown\",topKeyPress:\"keypress\",topKeyUp:\"keyup\",topLoadedData:\"loadeddata\",topLoadedMetadata:\"loadedmetadata\",topLoadStart:\"loadstart\",topMouseDown:\"mousedown\",topMouseMove:\"mousemove\",topMouseOut:\"mouseout\",topMouseOver:\"mouseover\",topMouseUp:\"mouseup\",topPaste:\"paste\",topPause:\"pause\",topPlay:\"play\",topPlaying:\"playing\",topProgress:\"progress\",topRateChange:\"ratechange\",topScroll:\"scroll\",topSeeked:\"seeked\",topSeeking:\"seeking\",topSelectionChange:\"selectionchange\",topStalled:\"stalled\",topSuspend:\"suspend\",topTextInput:\"textInput\",topTimeUpdate:\"timeupdate\",topTouchCancel:\"touchcancel\",topTouchEnd:\"touchend\",topTouchMove:\"touchmove\",topTouchStart:\"touchstart\",topTransitionEnd:l(\"transitionend\")||\"transitionend\",topVolumeChange:\"volumechange\",topWaiting:\"waiting\",topWheel:\"wheel\"},f=\"_reactListenersID\"+String(Math.random()).slice(2);var m=i({},a,{ReactEventListener:null,injection:{injectReactEventListener:function(t){t.setHandleTopLevel(m.handleTopLevel),m.ReactEventListener=t}},setEnabled:function(t){m.ReactEventListener&&m.ReactEventListener.setEnabled(t)},isEnabled:function(){return!(!m.ReactEventListener||!m.ReactEventListener.isEnabled())},listenTo:function(t,e){for(var n=e,r=function(t){return Object.prototype.hasOwnProperty.call(t,f)||(t[f]=p++,c[t[f]]={}),c[t[f]]}(n),i=o.registrationNameDependencies[t],a=0;a<i.length;a++){var s=i[a];r.hasOwnProperty(s)&&r[s]||(\"topWheel\"===s?u(\"wheel\")?m.ReactEventListener.trapBubbledEvent(\"topWheel\",\"wheel\",n):u(\"mousewheel\")?m.ReactEventListener.trapBubbledEvent(\"topWheel\",\"mousewheel\",n):m.ReactEventListener.trapBubbledEvent(\"topWheel\",\"DOMMouseScroll\",n):\"topScroll\"===s?u(\"scroll\",!0)?m.ReactEventListener.trapCapturedEvent(\"topScroll\",\"scroll\",n):m.ReactEventListener.trapBubbledEvent(\"topScroll\",\"scroll\",m.ReactEventListener.WINDOW_HANDLE):\"topFocus\"===s||\"topBlur\"===s?(u(\"focus\",!0)?(m.ReactEventListener.trapCapturedEvent(\"topFocus\",\"focus\",n),m.ReactEventListener.trapCapturedEvent(\"topBlur\",\"blur\",n)):u(\"focusin\")&&(m.ReactEventListener.trapBubbledEvent(\"topFocus\",\"focusin\",n),m.ReactEventListener.trapBubbledEvent(\"topBlur\",\"focusout\",n)),r.topBlur=!0,r.topFocus=!0):d.hasOwnProperty(s)&&m.ReactEventListener.trapBubbledEvent(s,d[s],n),r[s]=!0)}},trapBubbledEvent:function(t,e,n){return m.ReactEventListener.trapBubbledEvent(t,e,n)},trapCapturedEvent:function(t,e,n){return m.ReactEventListener.trapCapturedEvent(t,e,n)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var t=document.createEvent(\"MouseEvent\");return null!=t&&\"pageX\"in t},ensureScrollValueMonitoring:function(){if(void 0===r&&(r=m.supportsEventPageXY()),!r&&!h){var t=s.refreshScrollValues;m.ReactEventListener.monitorScrollValue(t),h=!0}}});t.exports=m},function(t,e){t.exports=!0},function(t,e){var n=0,r=Math.random();t.exports=function(t){return\"Symbol(\".concat(void 0===t?\"\":t,\")_\",(++n+r).toString(36))}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=a(n(277)),i=a(n(289)),o=\"function\"==typeof i.default&&\"symbol\"==typeof r.default?function(t){return typeof t}:function(t){return t&&\"function\"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?\"symbol\":typeof t};function a(t){return t&&t.__esModule?t:{default:t}}e.default=\"function\"==typeof i.default&&\"symbol\"===o(r.default)?function(t){return void 0===t?\"undefined\":o(t)}:function(t){return t&&\"function\"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?\"symbol\":void 0===t?\"undefined\":o(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){\"use strict\";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e){var n=arguments.length<=2||void 0===arguments[2]?function(t,e){return t+e}:arguments[2];return r({},t,[\"-webkit-\",\"-moz-\",\"\"].map((function(t){return n(t,e)})))},t.exports=e.default},function(t,e,n){\"use strict\";t.exports=n(183)},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var r,i=n(355),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var r,i=n(378),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default},function(t,e,n){\"use strict\";t.exports=function(t,e,n,r,i,o,a,s){if(!t){var l;if(void 0===e)l=new Error(\"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.\");else{var u=[n,r,i,o,a,s],c=0;(l=new Error(e.replace(/%s/g,(function(){return u[c++]})))).name=\"Invariant Violation\"}throw l.framesToPop=1,l}}},function(t,e,n){\"use strict\";var r=n(5),i=(n(2),null),o={};function a(){if(i)for(var t in o){var e=o[t],n=i.indexOf(t);if(n>-1||r(\"96\",t),!u.plugins[n]){e.extractEvents||r(\"97\",t),u.plugins[n]=e;var a=e.eventTypes;for(var l in a)s(a[l],e,l)||r(\"98\",l,t)}}}function s(t,e,n){u.eventNameDispatchConfigs.hasOwnProperty(n)&&r(\"99\",n),u.eventNameDispatchConfigs[n]=t;var i=t.phasedRegistrationNames;if(i){for(var o in i){if(i.hasOwnProperty(o))l(i[o],e,n)}return!0}return!!t.registrationName&&(l(t.registrationName,e,n),!0)}function l(t,e,n){u.registrationNameModules[t]&&r(\"100\",t),u.registrationNameModules[t]=e,u.registrationNameDependencies[t]=e.eventTypes[n].dependencies}var u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(t){i&&r(\"101\"),i=Array.prototype.slice.call(t),a()},injectEventPluginsByName:function(t){var e=!1;for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];o.hasOwnProperty(n)&&o[n]===i||(o[n]&&r(\"102\",n),o[n]=i,e=!0)}e&&a()},getPluginModuleForEvent:function(t){var e=t.dispatchConfig;if(e.registrationName)return u.registrationNameModules[e.registrationName]||null;if(void 0!==e.phasedRegistrationNames){var n=e.phasedRegistrationNames;for(var r in n)if(n.hasOwnProperty(r)){var i=u.registrationNameModules[n[r]];if(i)return i}}return null},_resetEventPlugins:function(){for(var t in i=null,o)o.hasOwnProperty(t)&&delete o[t];u.plugins.length=0;var e=u.eventNameDispatchConfigs;for(var n in e)e.hasOwnProperty(n)&&delete e[n];var r=u.registrationNameModules;for(var a in r)r.hasOwnProperty(a)&&delete r[a]}};t.exports=u},function(t,e,n){\"use strict\";var r=null;function i(t,e,n){try{e(n)}catch(t){null===r&&(r=t)}}var o={invokeGuardedCallback:i,invokeGuardedCallbackWithCatch:i,rethrowCaughtError:function(){if(r){var t=r;throw r=null,t}}};t.exports=o},function(t,e,n){\"use strict\";t.exports=function(t){var e=t.target||t.srcElement||window;return e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}},function(t,e,n){\"use strict\";var r,i=n(14);i.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature(\"\",\"\"))\n/**\n * Checks if an event is supported in the current execution environment.\n *\n * NOTE: This will not work correctly for non-generic events such as `change`,\n * `reset`, `load`, `error`, and `select`.\n *\n * Borrows from Modernizr.\n *\n * @param {string} eventNameSuffix Event name, e.g. \"click\".\n * @param {?boolean} capture Check if the capture phase is supported.\n * @return {boolean} True if the event is supported.\n * @internal\n * @license Modernizr 3.0.0pre (Custom Build) | MIT\n */,t.exports=function(t,e){if(!i.canUseDOM||e&&!(\"addEventListener\"in document))return!1;var n=\"on\"+t,o=n in document;if(!o){var a=document.createElement(\"div\");a.setAttribute(n,\"return;\"),o=\"function\"==typeof a[n]}return!o&&r&&\"wheel\"===t&&(o=document.implementation.hasFeature(\"Events.wheel\",\"3.0\")),o}},function(t,e,n){\"use strict\";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(t){r.currentScrollLeft=t.x,r.currentScrollTop=t.y}};t.exports=r},function(t,e,n){\"use strict\";var r={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function i(t){var e=this.nativeEvent;if(e.getModifierState)return e.getModifierState(t);var n=r[t];return!!n&&!!e[n]}t.exports=function(t){return i}},function(t,e,n){\"use strict\";var r=n(43),i=n(203),o=(n(7),n(21),n(81)),a=n(61),s=n(125);function l(t,e){return Array.isArray(e)&&(e=e[1]),e?e.nextSibling:t.firstChild}var u=o((function(t,e,n){t.insertBefore(e,n)}));function c(t,e,n){r.insertTreeBefore(t,e,n)}function h(t,e,n){Array.isArray(e)?function(t,e,n,r){var i=e;for(;;){var o=i.nextSibling;if(u(t,i,r),i===n)break;i=o}}(t,e[0],e[1],n):u(t,e,n)}function p(t,e){if(Array.isArray(e)){var n=e[1];d(t,e=e[0],n),t.removeChild(n)}t.removeChild(e)}function d(t,e,n){for(;;){var r=e.nextSibling;if(r===n)break;t.removeChild(r)}}var f={dangerouslyReplaceNodeWithMarkup:i.dangerouslyReplaceNodeWithMarkup,replaceDelimitedText:function(t,e,n){var r=t.parentNode,i=t.nextSibling;i===e?n&&u(r,document.createTextNode(n),i):n?(s(i,n),d(r,i,e)):d(r,t,e)},processUpdates:function(t,e){for(var n=0;n<e.length;n++){var r=e[n];switch(r.type){case\"INSERT_MARKUP\":c(t,r.content,l(t,r.afterNode));break;case\"MOVE_EXISTING\":h(t,r.fromNode,l(t,r.afterNode));break;case\"SET_MARKUP\":a(t,r.content);break;case\"TEXT_CONTENT\":s(t,r.content);break;case\"REMOVE_NODE\":p(t,r.fromNode)}}}};t.exports=f},function(t,e,n){\"use strict\";t.exports={html:\"http://www.w3.org/1999/xhtml\",mathml:\"http://www.w3.org/1998/Math/MathML\",svg:\"http://www.w3.org/2000/svg\"}},function(t,e,n){\"use strict\";t.exports=function(t){return\"undefined\"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction((function(){return t(e,n,r,i)}))}:t}},function(t,e,n){\"use strict\";var r=n(5),i=n(221),o=n(115)(n(36).isValidElement),a=(n(2),n(4),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0});function s(t){null!=t.checkedLink&&null!=t.valueLink&&r(\"87\")}function l(t){s(t),(null!=t.value||null!=t.onChange)&&r(\"88\")}function u(t){s(t),(null!=t.checked||null!=t.onChange)&&r(\"89\")}var c={value:function(t,e,n){return!t[e]||a[t.type]||t.onChange||t.readOnly||t.disabled?null:new Error(\"You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.\")},checked:function(t,e,n){return!t[e]||t.onChange||t.readOnly||t.disabled?null:new Error(\"You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.\")},onChange:o.func},h={};function p(t){if(t){var e=t.getName();if(e)return\" Check the render method of `\"+e+\"`.\"}return\"\"}var d={checkPropTypes:function(t,e,n){for(var r in c){if(c.hasOwnProperty(r))var o=c[r](e,r,t,\"prop\",null,i);if(o instanceof Error&&!(o.message in h)){h[o.message]=!0;p(n)}}},getValue:function(t){return t.valueLink?(l(t),t.valueLink.value):t.value},getChecked:function(t){return t.checkedLink?(u(t),t.checkedLink.value):t.checked},executeOnChange:function(t,e){return t.valueLink?(l(t),t.valueLink.requestChange(e.target.value)):t.checkedLink?(u(t),t.checkedLink.requestChange(e.target.checked)):t.onChange?t.onChange.call(void 0,e):void 0}};t.exports=d},function(t,e,n){\"use strict\";var r=n(5),i=(n(2),!1),o={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(t){i&&r(\"104\"),o.replaceNodeWithMarkup=t.replaceNodeWithMarkup,o.processChildrenUpdates=t.processChildrenUpdates,i=!0}}};t.exports=o},function(t,e,n){\"use strict\";t.exports=function(t,e){var n=null===t||!1===t,r=null===e||!1===e;if(n||r)return n===r;var i=typeof t,o=typeof e;return\"string\"===i||\"number\"===i?\"string\"===o||\"number\"===o:\"object\"===o&&t.type===e.type&&t.key===e.key}},function(t,e,n){\"use strict\";var r={escape:function(t){var e={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+(\"\"+t).replace(/[=:]/g,(function(t){return e[t]}))},unescape:function(t){var e={\"=0\":\"=\",\"=2\":\":\"};return(\"\"+(\".\"===t[0]&&\"$\"===t[1]?t.substring(2):t.substring(1))).replace(/(=0|=2)/g,(function(t){return e[t]}))}};t.exports=r},function(t,e,n){\"use strict\";var r=n(5),i=(n(25),n(51)),o=(n(21),n(23));n(2),n(4);function a(t){o.enqueueUpdate(t)}function s(t,e){var n=i.get(t);return n||null}var l={isMounted:function(t){var e=i.get(t);return!!e&&!!e._renderedComponent},enqueueCallback:function(t,e,n){l.validateCallback(e,n);var r=s(t);if(!r)return null;r._pendingCallbacks?r._pendingCallbacks.push(e):r._pendingCallbacks=[e],a(r)},enqueueCallbackInternal:function(t,e){t._pendingCallbacks?t._pendingCallbacks.push(e):t._pendingCallbacks=[e],a(t)},enqueueForceUpdate:function(t){var e=s(t);e&&(e._pendingForceUpdate=!0,a(e))},enqueueReplaceState:function(t,e,n){var r=s(t);r&&(r._pendingStateQueue=[e],r._pendingReplaceState=!0,null!=n&&(l.validateCallback(n,\"replaceState\"),r._pendingCallbacks?r._pendingCallbacks.push(n):r._pendingCallbacks=[n]),a(r))},enqueueSetState:function(t,e){var n=s(t);n&&((n._pendingStateQueue||(n._pendingStateQueue=[])).push(e),a(n))},enqueueElementInternal:function(t,e,n){t._pendingElement=e,t._context=n,a(t)},validateCallback:function(t,e){t&&\"function\"!=typeof t&&r(\"122\",e,function(t){var e=typeof t;if(\"object\"!==e)return e;var n=t.constructor&&t.constructor.name||e,r=Object.keys(t);return r.length>0&&r.length<20?n+\" (keys: \"+r.join(\", \")+\")\":n}(t))}};t.exports=l},function(t,e,n){\"use strict\";n(6);var r=n(20),i=(n(4),r);t.exports=i},function(t,e,n){\"use strict\";t.exports=function(t){var e,n=t.keyCode;return\"charCode\"in t?0===(e=t.charCode)&&13===n&&(e=13):e=n,e>=32||13===e?e:0}},function(t,e){var n;n=function(){return this}();try{n=n||new Function(\"return this\")()}catch(t){\"object\"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){if(null==t)throw TypeError(\"Can't call method on  \"+t);return t}},function(t,e,n){var r=n(92)(\"keys\"),i=n(65);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(17),i=n(28),o=i[\"__core-js_shared__\"]||(i[\"__core-js_shared__\"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})(\"versions\",[]).push({version:r.version,mode:n(64)?\"pure\":\"global\",copyright:\" 2019 Denis Pushkarev (zloirock.ru)\"})},function(t,e,n){var r=n(274);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(47);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&\"function\"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if(\"function\"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&\"function\"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError(\"Can't convert object to primitive value\")}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(46),i=n(281),o=n(98),a=n(91)(\"IE_PROTO\"),s=function(){},l=function(){var t,e=n(145)(\"iframe\"),r=o.length;for(e.style.display=\"none\",n(284).appendChild(e),e.src=\"javascript:\",(t=e.contentWindow.document).open(),t.write(\"<script>document.F=Object<\\/script>\"),t.close(),l=t.F;r--;)delete l.prototype[o[r]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=l(),void 0===e?n:i(n,e)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=\"constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf\".split(\",\")},function(t,e,n){var r=n(30).f,i=n(33),o=n(24)(\"toStringTag\");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){e.f=n(24)},function(t,e,n){var r=n(28),i=n(17),o=n(64),a=n(100),s=n(30).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});\"_\"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){\"use strict\";function r(t,e,n){return t<e?e:t>n?n:t}function i(t){var e=t.type,n=t.values;if(e.indexOf(\"rgb\")>-1)for(var r=0;r<3;r++)n[r]=parseInt(n[r]);var i=void 0;return i=e.indexOf(\"hsl\")>-1?t.type+\"(\"+n[0]+\", \"+n[1]+\"%, \"+n[2]+\"%\":t.type+\"(\"+n[0]+\", \"+n[1]+\", \"+n[2],4===n.length?i+=\", \"+t.values[3]+\")\":i+=\")\",i}function o(t){if(4===t.length){for(var e=\"#\",n=1;n<t.length;n++)e+=t.charAt(n)+t.charAt(n);t=e}return\"rgb(\"+parseInt(t.substr(1,2),16)+\", \"+parseInt(t.substr(3,2),16)+\", \"+parseInt(t.substr(5,2),16)+\")\"}function a(t){if(\"#\"===t.charAt(0))return a(o(t));var e=t.indexOf(\"(\"),n=t.substring(0,e),r=t.substring(e+1,t.length-1).split(\",\");return{type:n,values:r=r.map((function(t){return parseFloat(t)}))}}function s(t){if((t=a(t)).type.indexOf(\"rgb\")>-1){var e=t.values.map((function(t){return(t/=255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}));return Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}if(t.type.indexOf(\"hsl\")>-1)return t.values[2]/100}function l(t,e){if(t=a(t),e=r(e,0,1),t.type.indexOf(\"hsl\")>-1)t.values[2]*=1-e;else if(t.type.indexOf(\"rgb\")>-1)for(var n=0;n<3;n++)t.values[n]*=1-e;return i(t)}function u(t,e){if(t=a(t),e=r(e,0,1),t.type.indexOf(\"hsl\")>-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf(\"rgb\")>-1)for(var n=0;n<3;n++)t.values[n]+=(255-t.values[n])*e;return i(t)}Object.defineProperty(e,\"__esModule\",{value:!0}),e.convertColorToString=i,e.convertHexToRGB=o,e.decomposeColor=a,e.getContrastRatio=function(t,e){var n=s(t),r=s(e),i=(Math.max(n,r)+.05)/(Math.min(n,r)+.05);return Number(i.toFixed(2))},e.getLuminance=s,e.emphasize=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return s(t)>.5?l(t,e):u(t,e)},e.fade=function(t,e){t=a(t),e=r(e,0,1),(\"rgb\"===t.type||\"hsl\"===t.type)&&(t.type+=\"a\");return t.values[3]=e,i(t)},e.darken=l,e.lighten=u},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.red50=\"#ffebee\",e.red100=\"#ffcdd2\",e.red200=\"#ef9a9a\",e.red300=\"#e57373\",e.red400=\"#ef5350\",e.red500=\"#f44336\",e.red600=\"#e53935\",e.red700=\"#d32f2f\",e.red800=\"#c62828\",e.red900=\"#b71c1c\",e.redA100=\"#ff8a80\",e.redA200=\"#ff5252\",e.redA400=\"#ff1744\",e.redA700=\"#d50000\",e.pink50=\"#fce4ec\",e.pink100=\"#f8bbd0\",e.pink200=\"#f48fb1\",e.pink300=\"#f06292\",e.pink400=\"#ec407a\",e.pink500=\"#e91e63\",e.pink600=\"#d81b60\",e.pink700=\"#c2185b\",e.pink800=\"#ad1457\",e.pink900=\"#880e4f\",e.pinkA100=\"#ff80ab\",e.pinkA200=\"#ff4081\",e.pinkA400=\"#f50057\",e.pinkA700=\"#c51162\",e.purple50=\"#f3e5f5\",e.purple100=\"#e1bee7\",e.purple200=\"#ce93d8\",e.purple300=\"#ba68c8\",e.purple400=\"#ab47bc\",e.purple500=\"#9c27b0\",e.purple600=\"#8e24aa\",e.purple700=\"#7b1fa2\",e.purple800=\"#6a1b9a\",e.purple900=\"#4a148c\",e.purpleA100=\"#ea80fc\",e.purpleA200=\"#e040fb\",e.purpleA400=\"#d500f9\",e.purpleA700=\"#aa00ff\",e.deepPurple50=\"#ede7f6\",e.deepPurple100=\"#d1c4e9\",e.deepPurple200=\"#b39ddb\",e.deepPurple300=\"#9575cd\",e.deepPurple400=\"#7e57c2\",e.deepPurple500=\"#673ab7\",e.deepPurple600=\"#5e35b1\",e.deepPurple700=\"#512da8\",e.deepPurple800=\"#4527a0\",e.deepPurple900=\"#311b92\",e.deepPurpleA100=\"#b388ff\",e.deepPurpleA200=\"#7c4dff\",e.deepPurpleA400=\"#651fff\",e.deepPurpleA700=\"#6200ea\",e.indigo50=\"#e8eaf6\",e.indigo100=\"#c5cae9\",e.indigo200=\"#9fa8da\",e.indigo300=\"#7986cb\",e.indigo400=\"#5c6bc0\",e.indigo500=\"#3f51b5\",e.indigo600=\"#3949ab\",e.indigo700=\"#303f9f\",e.indigo800=\"#283593\",e.indigo900=\"#1a237e\",e.indigoA100=\"#8c9eff\",e.indigoA200=\"#536dfe\",e.indigoA400=\"#3d5afe\",e.indigoA700=\"#304ffe\",e.blue50=\"#e3f2fd\",e.blue100=\"#bbdefb\",e.blue200=\"#90caf9\",e.blue300=\"#64b5f6\",e.blue400=\"#42a5f5\",e.blue500=\"#2196f3\",e.blue600=\"#1e88e5\",e.blue700=\"#1976d2\",e.blue800=\"#1565c0\",e.blue900=\"#0d47a1\",e.blueA100=\"#82b1ff\",e.blueA200=\"#448aff\",e.blueA400=\"#2979ff\",e.blueA700=\"#2962ff\",e.lightBlue50=\"#e1f5fe\",e.lightBlue100=\"#b3e5fc\",e.lightBlue200=\"#81d4fa\",e.lightBlue300=\"#4fc3f7\",e.lightBlue400=\"#29b6f6\",e.lightBlue500=\"#03a9f4\",e.lightBlue600=\"#039be5\",e.lightBlue700=\"#0288d1\",e.lightBlue800=\"#0277bd\",e.lightBlue900=\"#01579b\",e.lightBlueA100=\"#80d8ff\",e.lightBlueA200=\"#40c4ff\",e.lightBlueA400=\"#00b0ff\",e.lightBlueA700=\"#0091ea\",e.cyan50=\"#e0f7fa\",e.cyan100=\"#b2ebf2\",e.cyan200=\"#80deea\",e.cyan300=\"#4dd0e1\",e.cyan400=\"#26c6da\",e.cyan500=\"#00bcd4\",e.cyan600=\"#00acc1\",e.cyan700=\"#0097a7\",e.cyan800=\"#00838f\",e.cyan900=\"#006064\",e.cyanA100=\"#84ffff\",e.cyanA200=\"#18ffff\",e.cyanA400=\"#00e5ff\",e.cyanA700=\"#00b8d4\",e.teal50=\"#e0f2f1\",e.teal100=\"#b2dfdb\",e.teal200=\"#80cbc4\",e.teal300=\"#4db6ac\",e.teal400=\"#26a69a\",e.teal500=\"#009688\",e.teal600=\"#00897b\",e.teal700=\"#00796b\",e.teal800=\"#00695c\",e.teal900=\"#004d40\",e.tealA100=\"#a7ffeb\",e.tealA200=\"#64ffda\",e.tealA400=\"#1de9b6\",e.tealA700=\"#00bfa5\",e.green50=\"#e8f5e9\",e.green100=\"#c8e6c9\",e.green200=\"#a5d6a7\",e.green300=\"#81c784\",e.green400=\"#66bb6a\",e.green500=\"#4caf50\",e.green600=\"#43a047\",e.green700=\"#388e3c\",e.green800=\"#2e7d32\",e.green900=\"#1b5e20\",e.greenA100=\"#b9f6ca\",e.greenA200=\"#69f0ae\",e.greenA400=\"#00e676\",e.greenA700=\"#00c853\",e.lightGreen50=\"#f1f8e9\",e.lightGreen100=\"#dcedc8\",e.lightGreen200=\"#c5e1a5\",e.lightGreen300=\"#aed581\",e.lightGreen400=\"#9ccc65\",e.lightGreen500=\"#8bc34a\",e.lightGreen600=\"#7cb342\",e.lightGreen700=\"#689f38\",e.lightGreen800=\"#558b2f\",e.lightGreen900=\"#33691e\",e.lightGreenA100=\"#ccff90\",e.lightGreenA200=\"#b2ff59\",e.lightGreenA400=\"#76ff03\",e.lightGreenA700=\"#64dd17\",e.lime50=\"#f9fbe7\",e.lime100=\"#f0f4c3\",e.lime200=\"#e6ee9c\",e.lime300=\"#dce775\",e.lime400=\"#d4e157\",e.lime500=\"#cddc39\",e.lime600=\"#c0ca33\",e.lime700=\"#afb42b\",e.lime800=\"#9e9d24\",e.lime900=\"#827717\",e.limeA100=\"#f4ff81\",e.limeA200=\"#eeff41\",e.limeA400=\"#c6ff00\",e.limeA700=\"#aeea00\",e.yellow50=\"#fffde7\",e.yellow100=\"#fff9c4\",e.yellow200=\"#fff59d\",e.yellow300=\"#fff176\",e.yellow400=\"#ffee58\",e.yellow500=\"#ffeb3b\",e.yellow600=\"#fdd835\",e.yellow700=\"#fbc02d\",e.yellow800=\"#f9a825\",e.yellow900=\"#f57f17\",e.yellowA100=\"#ffff8d\",e.yellowA200=\"#ffff00\",e.yellowA400=\"#ffea00\",e.yellowA700=\"#ffd600\",e.amber50=\"#fff8e1\",e.amber100=\"#ffecb3\",e.amber200=\"#ffe082\",e.amber300=\"#ffd54f\",e.amber400=\"#ffca28\",e.amber500=\"#ffc107\",e.amber600=\"#ffb300\",e.amber700=\"#ffa000\",e.amber800=\"#ff8f00\",e.amber900=\"#ff6f00\",e.amberA100=\"#ffe57f\",e.amberA200=\"#ffd740\",e.amberA400=\"#ffc400\",e.amberA700=\"#ffab00\",e.orange50=\"#fff3e0\",e.orange100=\"#ffe0b2\",e.orange200=\"#ffcc80\",e.orange300=\"#ffb74d\",e.orange400=\"#ffa726\",e.orange500=\"#ff9800\",e.orange600=\"#fb8c00\",e.orange700=\"#f57c00\",e.orange800=\"#ef6c00\",e.orange900=\"#e65100\",e.orangeA100=\"#ffd180\",e.orangeA200=\"#ffab40\",e.orangeA400=\"#ff9100\",e.orangeA700=\"#ff6d00\",e.deepOrange50=\"#fbe9e7\",e.deepOrange100=\"#ffccbc\",e.deepOrange200=\"#ffab91\",e.deepOrange300=\"#ff8a65\",e.deepOrange400=\"#ff7043\",e.deepOrange500=\"#ff5722\",e.deepOrange600=\"#f4511e\",e.deepOrange700=\"#e64a19\",e.deepOrange800=\"#d84315\",e.deepOrange900=\"#bf360c\",e.deepOrangeA100=\"#ff9e80\",e.deepOrangeA200=\"#ff6e40\",e.deepOrangeA400=\"#ff3d00\",e.deepOrangeA700=\"#dd2c00\",e.brown50=\"#efebe9\",e.brown100=\"#d7ccc8\",e.brown200=\"#bcaaa4\",e.brown300=\"#a1887f\",e.brown400=\"#8d6e63\",e.brown500=\"#795548\",e.brown600=\"#6d4c41\",e.brown700=\"#5d4037\",e.brown800=\"#4e342e\",e.brown900=\"#3e2723\",e.blueGrey50=\"#eceff1\",e.blueGrey100=\"#cfd8dc\",e.blueGrey200=\"#b0bec5\",e.blueGrey300=\"#90a4ae\",e.blueGrey400=\"#78909c\",e.blueGrey500=\"#607d8b\",e.blueGrey600=\"#546e7a\",e.blueGrey700=\"#455a64\",e.blueGrey800=\"#37474f\",e.blueGrey900=\"#263238\",e.grey50=\"#fafafa\",e.grey100=\"#f5f5f5\",e.grey200=\"#eeeeee\",e.grey300=\"#e0e0e0\",e.grey400=\"#bdbdbd\",e.grey500=\"#9e9e9e\",e.grey600=\"#757575\",e.grey700=\"#616161\",e.grey800=\"#424242\",e.grey900=\"#212121\",e.black=\"#000000\",e.white=\"#ffffff\",e.transparent=\"rgba(0, 0, 0, 0)\",e.fullBlack=\"rgba(0, 0, 0, 1)\",e.darkBlack=\"rgba(0, 0, 0, 0.87)\",e.lightBlack=\"rgba(0, 0, 0, 0.54)\",e.minBlack=\"rgba(0, 0, 0, 0.26)\",e.faintBlack=\"rgba(0, 0, 0, 0.12)\",e.fullWhite=\"rgba(255, 255, 255, 1)\",e.darkWhite=\"rgba(255, 255, 255, 0.87)\",e.lightWhite=\"rgba(255, 255, 255, 0.54)\"},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){return Array.isArray(t)&&(t=t.join(\",\")),null!==t.match(/-webkit-|-moz-|-ms-/)},t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.createChildFragment=function(t){var e={},n=0,r=void 0;for(var o in t){var a=t[o];a&&(0===n&&(r=o),e[o]=a,n++)}return 0===n?void 0:1===n?e[r]:(0,i.default)(e)},e.extendChildren=function(t,e,n){return r.default.Children.map(t,(function(t){if(!r.default.isValidElement(t))return t;var i=\"function\"==typeof e?e(t):e,o=\"function\"==typeof n?n(t):n||t.props.children;return r.default.cloneElement(t,i,o)}))};var r=o(n(1)),i=o(n(359));function o(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(52),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default={set:function(t,e,n){t[e]=n}}},function(t,e,n){\"use strict\";(function(t,r){var i,o=n(166);i=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:void 0!==t?t:r;var a=Object(o.a)(i);e.a=a}).call(this,n(89),n(266)(t))},function(t,e,n){\"use strict\";var r=n(50),i=n(6),o=n(112),a=(n(113),n(57));n(2),n(174);function s(t,e,n){this.props=t,this.context=e,this.refs=a,this.updater=n||o}function l(t,e,n){this.props=t,this.context=e,this.refs=a,this.updater=n||o}function u(){}s.prototype.isReactComponent={},s.prototype.setState=function(t,e){\"object\"!=typeof t&&\"function\"!=typeof t&&null!=t&&r(\"85\"),this.updater.enqueueSetState(this,t),e&&this.updater.enqueueCallback(this,e,\"setState\")},s.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this),t&&this.updater.enqueueCallback(this,t,\"forceUpdate\")},u.prototype=s.prototype,l.prototype=new u,l.prototype.constructor=l,i(l.prototype,s.prototype),l.prototype.isPureReactComponent=!0,t.exports={Component:s,PureComponent:l}},function(t,e,n){\"use strict\";n(4);var r={isMounted:function(t){return!1},enqueueCallback:function(t,e){},enqueueForceUpdate:function(t){},enqueueReplaceState:function(t,e){},enqueueSetState:function(t,e){}};t.exports=r},function(t,e,n){\"use strict\";t.exports=!1},function(t,e,n){\"use strict\";var r=\"function\"==typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103;t.exports=r},function(t,e,n){\"use strict\";var r=n(182);t.exports=function(t){return r(t,!1)}},function(t,e,n){\"use strict\";t.exports=\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\"},function(t,e,n){\"use strict\";t.exports={hasCachedChildNodes:1}},function(t,e,n){\"use strict\";var r=n(5);n(2);t.exports=function(t,e){return null==e&&r(\"30\"),null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}},function(t,e,n){\"use strict\";t.exports=function(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}},function(t,e,n){\"use strict\";var r=n(14),i=null;t.exports=function(){return!i&&r.canUseDOM&&(i=\"textContent\"in document.documentElement?\"textContent\":\"innerText\"),i}},function(t,e,n){\"use strict\";var r=n(5);var i=n(32),o=(n(2),function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._callbacks=null,this._contexts=null,this._arg=e}return t.prototype.enqueue=function(t,e){this._callbacks=this._callbacks||[],this._callbacks.push(t),this._contexts=this._contexts||[],this._contexts.push(e)},t.prototype.notifyAll=function(){var t=this._callbacks,e=this._contexts,n=this._arg;if(t&&e){t.length!==e.length&&r(\"24\"),this._callbacks=null,this._contexts=null;for(var i=0;i<t.length;i++)t[i].call(e[i],n);t.length=0,e.length=0}},t.prototype.checkpoint=function(){return this._callbacks?this._callbacks.length:0},t.prototype.rollback=function(t){this._callbacks&&this._contexts&&(this._callbacks.length=t,this._contexts.length=t)},t.prototype.reset=function(){this._callbacks=null,this._contexts=null},t.prototype.destructor=function(){this.reset()},t}());t.exports=i.addPoolingTo(o)},function(t,e,n){\"use strict\";t.exports={logTopLevelRenders:!1}},function(t,e,n){\"use strict\";var r=n(7);function i(t){var e=t.type,n=t.nodeName;return n&&\"input\"===n.toLowerCase()&&(\"checkbox\"===e||\"radio\"===e)}function o(t){return t._wrapperState.valueTracker}var a={_getTrackerFromNode:function(t){return o(r.getInstanceFromNode(t))},track:function(t){if(!o(t)){var e=r.getNodeFromInstance(t),n=i(e)?\"checked\":\"value\",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),s=\"\"+e[n];e.hasOwnProperty(n)||\"function\"!=typeof a.get||\"function\"!=typeof a.set||(Object.defineProperty(e,n,{enumerable:a.enumerable,configurable:!0,get:function(){return a.get.call(this)},set:function(t){s=\"\"+t,a.set.call(this,t)}}),function(t,e){t._wrapperState.valueTracker=e}(t,{getValue:function(){return s},setValue:function(t){s=\"\"+t},stopTracking:function(){!function(t){t._wrapperState.valueTracker=null}(t),delete e[n]}}))}},updateValueIfChanged:function(t){if(!t)return!1;var e=o(t);if(!e)return a.track(t),!0;var n,s,l=e.getValue(),u=((n=r.getNodeFromInstance(t))&&(s=i(n)?\"\"+n.checked:n.value),s);return u!==l&&(e.setValue(u),!0)},stopTracking:function(t){var e=o(t);e&&e.stopTracking()}};t.exports=a},function(t,e,n){\"use strict\";var r={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=function(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return\"input\"===e?!!r[t.type]:\"textarea\"===e}},function(t,e,n){\"use strict\";var r=n(14),i=n(62),o=n(61),a=function(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e};r.canUseDOM&&(\"textContent\"in document.documentElement||(a=function(t,e){3!==t.nodeType?o(t,i(e)):t.nodeValue=e})),t.exports=a},function(t,e,n){\"use strict\";t.exports=function(t){try{t.focus()}catch(t){}}},function(t,e,n){\"use strict\";var r={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};var i=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(r).forEach((function(t){i.forEach((function(e){r[function(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}(e,t)]=r[t]}))}));var o={isUnitlessNumber:r,shorthandPropertyExpansions:{background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}};t.exports=o},function(t,e,n){\"use strict\";var r=n(38),i=(n(7),n(21),n(217)),o=(n(4),new RegExp(\"^[\"+r.ATTRIBUTE_NAME_START_CHAR+\"][\"+r.ATTRIBUTE_NAME_CHAR+\"]*$\")),a={},s={};function l(t){return!!s.hasOwnProperty(t)||!a.hasOwnProperty(t)&&(o.test(t)?(s[t]=!0,!0):(a[t]=!0,!1))}function u(t,e){return null==e||t.hasBooleanValue&&!e||t.hasNumericValue&&isNaN(e)||t.hasPositiveNumericValue&&e<1||t.hasOverloadedBooleanValue&&!1===e}var c={createMarkupForID:function(t){return r.ID_ATTRIBUTE_NAME+\"=\"+i(t)},setAttributeForID:function(t,e){t.setAttribute(r.ID_ATTRIBUTE_NAME,e)},createMarkupForRoot:function(){return r.ROOT_ATTRIBUTE_NAME+'=\"\"'},setAttributeForRoot:function(t){t.setAttribute(r.ROOT_ATTRIBUTE_NAME,\"\")},createMarkupForProperty:function(t,e){var n=r.properties.hasOwnProperty(t)?r.properties[t]:null;if(n){if(u(n,e))return\"\";var o=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&!0===e?o+'=\"\"':o+\"=\"+i(e)}return r.isCustomAttribute(t)?null==e?\"\":t+\"=\"+i(e):null},createMarkupForCustomAttribute:function(t,e){return l(t)&&null!=e?t+\"=\"+i(e):\"\"},setValueForProperty:function(t,e,n){var i=r.properties.hasOwnProperty(e)?r.properties[e]:null;if(i){var o=i.mutationMethod;if(o)o(t,n);else{if(u(i,n))return void this.deleteValueForProperty(t,e);if(i.mustUseProperty)t[i.propertyName]=n;else{var a=i.attributeName,s=i.attributeNamespace;s?t.setAttributeNS(s,a,\"\"+n):i.hasBooleanValue||i.hasOverloadedBooleanValue&&!0===n?t.setAttribute(a,\"\"):t.setAttribute(a,\"\"+n)}}}else if(r.isCustomAttribute(e))return void c.setValueForAttribute(t,e,n)},setValueForAttribute:function(t,e,n){l(e)&&(null==n?t.removeAttribute(e):t.setAttribute(e,\"\"+n))},deleteValueForAttribute:function(t,e){t.removeAttribute(e)},deleteValueForProperty:function(t,e){var n=r.properties.hasOwnProperty(e)?r.properties[e]:null;if(n){var i=n.mutationMethod;if(i)i(t,void 0);else if(n.mustUseProperty){var o=n.propertyName;n.hasBooleanValue?t[o]=!1:t[o]=\"\"}else t.removeAttribute(n.attributeName)}else r.isCustomAttribute(e)&&t.removeAttribute(e)}};t.exports=c},function(t,e,n){\"use strict\";var r=n(6),i=n(82),o=n(7),a=n(23),s=(n(4),!1);function l(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var t=this._currentElement.props,e=i.getValue(t);null!=e&&u(this,Boolean(t.multiple),e)}}function u(t,e,n){var r,i,a=o.getNodeFromInstance(t).options;if(e){for(r={},i=0;i<n.length;i++)r[\"\"+n[i]]=!0;for(i=0;i<a.length;i++){var s=r.hasOwnProperty(a[i].value);a[i].selected!==s&&(a[i].selected=s)}}else{for(r=\"\"+n,i=0;i<a.length;i++)if(a[i].value===r)return void(a[i].selected=!0);a.length&&(a[0].selected=!0)}}var c={getHostProps:function(t,e){return r({},e,{onChange:t._wrapperState.onChange,value:void 0})},mountWrapper:function(t,e){var n=i.getValue(e);t._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:e.defaultValue,listeners:null,onChange:h.bind(t),wasMultiple:Boolean(e.multiple)},void 0===e.value||void 0===e.defaultValue||s||(s=!0)},getSelectValueContext:function(t){return t._wrapperState.initialValue},postUpdateWrapper:function(t){var e=t._currentElement.props;t._wrapperState.initialValue=void 0;var n=t._wrapperState.wasMultiple;t._wrapperState.wasMultiple=Boolean(e.multiple);var r=i.getValue(e);null!=r?(t._wrapperState.pendingUpdate=!1,u(t,Boolean(e.multiple),r)):n!==Boolean(e.multiple)&&(null!=e.defaultValue?u(t,Boolean(e.multiple),e.defaultValue):u(t,Boolean(e.multiple),e.multiple?[]:\"\"))}};function h(t){var e=this._currentElement.props,n=i.executeOnChange(e,t);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),a.asap(l,this),n}t.exports=c},function(t,e){var n,r,i=t.exports={};function o(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n=\"function\"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r=\"function\"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var l,u=[],c=!1,h=-1;function p(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&d())}function d(){if(!c){var t=s(p);c=!0;for(var e=u.length;e;){for(l=u,u=[];++h<e;)l&&l[h].run();h=-1,e=u.length}l=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new f(t,e)),1!==u.length||c||s(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title=\"browser\",i.browser=!0,i.env={},i.argv=[],i.version=\"\",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error(\"process.binding is not supported\")},i.cwd=function(){return\"/\"},i.chdir=function(t){throw new Error(\"process.chdir is not supported\")},i.umask=function(){return 0}},function(t,e,n){\"use strict\";var r=n(5),i=n(6),o=n(226),a=n(133),s=n(134),l=(n(227),n(2),n(4),function(t){this.construct(t)});function u(t,e){var n;if(null===t||!1===t)n=a.create(u);else if(\"object\"==typeof t){var i=t,o=i.type;if(\"function\"!=typeof o&&\"string\"!=typeof o){var c=\"\";0,c+=function(t){if(t){var e=t.getName();if(e)return\" Check the render method of `\"+e+\"`.\"}return\"\"}(i._owner),r(\"130\",null==o?o:typeof o,c)}\"string\"==typeof i.type?n=s.createInternalComponent(i):!function(t){return\"function\"==typeof t&&void 0!==t.prototype&&\"function\"==typeof t.prototype.mountComponent&&\"function\"==typeof t.prototype.receiveComponent}(i.type)?n=new l(i):(n=new i.type(i)).getHostNode||(n.getHostNode=n.getNativeNode)}else\"string\"==typeof t||\"number\"==typeof t?n=s.createInstanceForText(t):r(\"131\",typeof t);return n._mountIndex=0,n._mountImage=null,n}i(l.prototype,o,{_instantiateReactComponent:u}),t.exports=u},function(t,e,n){\"use strict\";var r=n(5),i=n(36),o=(n(2),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(t){return null===t||!1===t?o.EMPTY:i.isValidElement(t)?\"function\"==typeof t.type?o.COMPOSITE:o.HOST:void r(\"26\",t)}});t.exports=o},function(t,e,n){\"use strict\";var r,i={injectEmptyComponentFactory:function(t){r=t}},o={create:function(t){return r(t)}};o.injection=i,t.exports=o},function(t,e,n){\"use strict\";var r=n(5),i=(n(2),null),o=null;var a={createInternalComponent:function(t){return i||r(\"111\",t.type),new i(t)},createInstanceForText:function(t){return new o(t)},isTextComponent:function(t){return t instanceof o},injection:{injectGenericComponentClass:function(t){i=t},injectTextComponentClass:function(t){o=t}}};t.exports=a},function(t,e,n){\"use strict\";var r=n(5),i=(n(25),n(228)),o=n(229),a=(n(2),n(85)),s=(n(4),\".\"),l=\":\";function u(t,e){return t&&\"object\"==typeof t&&null!=t.key?a.escape(t.key):e.toString(36)}t.exports=function(t,e,n){return null==t?0:function t(e,n,c,h){var p,d=typeof e;if(\"undefined\"!==d&&\"boolean\"!==d||(e=null),null===e||\"string\"===d||\"number\"===d||\"object\"===d&&e.$$typeof===i)return c(h,e,\"\"===n?s+u(e,0):n),1;var f=0,m=\"\"===n?s:n+l;if(Array.isArray(e))for(var v=0;v<e.length;v++)f+=t(p=e[v],m+u(p,v),c,h);else{var g=o(e);if(g){var y,b=g.call(e);if(g!==e.entries)for(var x=0;!(y=b.next()).done;)f+=t(p=y.value,m+u(p,x++),c,h);else for(;!(y=b.next()).done;){var w=y.value;w&&(f+=t(p=w[1],m+a.escape(w[0])+l+u(p,0),c,h))}}else if(\"object\"===d){var _=String(e);r(\"31\",\"[object Object]\"===_?\"object with keys {\"+Object.keys(e).join(\", \")+\"}\":_,\"\")}}return f}(t,\"\",e,n)}},function(t,e,n){\"use strict\";var r,i,o,a,s,l,u,c=n(50),h=n(25);n(2),n(4);function p(t){var e=Function.prototype.toString,n=Object.prototype.hasOwnProperty,r=RegExp(\"^\"+e.call(n).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");try{var i=e.call(t);return r.test(i)}catch(t){return!1}}if(\"function\"==typeof Array.from&&\"function\"==typeof Map&&p(Map)&&null!=Map.prototype&&\"function\"==typeof Map.prototype.keys&&p(Map.prototype.keys)&&\"function\"==typeof Set&&p(Set)&&null!=Set.prototype&&\"function\"==typeof Set.prototype.keys&&p(Set.prototype.keys)){var d=new Map,f=new Set;r=function(t,e){d.set(t,e)},i=function(t){return d.get(t)},o=function(t){d.delete(t)},a=function(){return Array.from(d.keys())},s=function(t){f.add(t)},l=function(t){f.delete(t)},u=function(){return Array.from(f.keys())}}else{var m={},v={},g=function(t){return\".\"+t},y=function(t){return parseInt(t.substr(1),10)};r=function(t,e){var n=g(t);m[n]=e},i=function(t){var e=g(t);return m[e]},o=function(t){var e=g(t);delete m[e]},a=function(){return Object.keys(m).map(y)},s=function(t){var e=g(t);v[e]=!0},l=function(t){var e=g(t);delete v[e]},u=function(){return Object.keys(v).map(y)}}var b=[];function x(t){var e=i(t);if(e){var n=e.childIDs;o(t),n.forEach(x)}}function w(t,e,n){return\"\\n    in \"+(t||\"Unknown\")+(e?\" (at \"+e.fileName.replace(/^.*[\\\\\\/]/,\"\")+\":\"+e.lineNumber+\")\":n?\" (created by \"+n+\")\":\"\")}function _(t){return null==t?\"#empty\":\"string\"==typeof t||\"number\"==typeof t?\"#text\":\"string\"==typeof t.type?t.type:t.type.displayName||t.type.name||\"Unknown\"}function M(t){var e,n=E.getDisplayName(t),r=E.getElement(t),i=E.getOwnerID(t);return i&&(e=E.getDisplayName(i)),w(n,r&&r._source,e)}var E={onSetChildren:function(t,e){var n=i(t);n||c(\"144\"),n.childIDs=e;for(var r=0;r<e.length;r++){var o=e[r],a=i(o);a||c(\"140\"),null==a.childIDs&&\"object\"==typeof a.element&&null!=a.element&&c(\"141\"),a.isMounted||c(\"71\"),null==a.parentID&&(a.parentID=t),a.parentID!==t&&c(\"142\",o,a.parentID,t)}},onBeforeMountComponent:function(t,e,n){r(t,{element:e,parentID:n,text:null,childIDs:[],isMounted:!1,updateCount:0})},onBeforeUpdateComponent:function(t,e){var n=i(t);n&&n.isMounted&&(n.element=e)},onMountComponent:function(t){var e=i(t);e||c(\"144\"),e.isMounted=!0,0===e.parentID&&s(t)},onUpdateComponent:function(t){var e=i(t);e&&e.isMounted&&e.updateCount++},onUnmountComponent:function(t){var e=i(t);e&&(e.isMounted=!1,0===e.parentID&&l(t));b.push(t)},purgeUnmountedComponents:function(){if(!E._preventPurging){for(var t=0;t<b.length;t++){x(b[t])}b.length=0}},isMounted:function(t){var e=i(t);return!!e&&e.isMounted},getCurrentStackAddendum:function(t){var e=\"\";if(t){var n=_(t),r=t._owner;e+=w(n,t._source,r&&r.getName())}var i=h.current,o=i&&i._debugID;return e+=E.getStackAddendumByID(o)},getStackAddendumByID:function(t){for(var e=\"\";t;)e+=M(t),t=E.getParentID(t);return e},getChildIDs:function(t){var e=i(t);return e?e.childIDs:[]},getDisplayName:function(t){var e=E.getElement(t);return e?_(e):null},getElement:function(t){var e=i(t);return e?e.element:null},getOwnerID:function(t){var e=E.getElement(t);return e&&e._owner?e._owner._debugID:null},getParentID:function(t){var e=i(t);return e?e.parentID:null},getSource:function(t){var e=i(t),n=e?e.element:null;return null!=n?n._source:null},getText:function(t){var e=E.getElement(t);return\"string\"==typeof e?e:\"number\"==typeof e?\"\"+e:null},getUpdateCount:function(t){var e=i(t);return e?e.updateCount:0},getRootIDs:u,getRegisteredIDs:a,pushNonStandardWarningStack:function(t,e){if(\"function\"==typeof console.reactStack){var n=[],r=h.current,i=r&&r._debugID;try{for(t&&n.push({name:i?E.getDisplayName(i):null,fileName:e?e.fileName:null,lineNumber:e?e.lineNumber:null});i;){var o=E.getElement(i),a=E.getParentID(i),s=E.getOwnerID(i),l=s?E.getDisplayName(s):null,u=o&&o._source;n.push({name:l,fileName:u?u.fileName:null,lineNumber:u?u.lineNumber:null}),i=a}}catch(t){}console.reactStack(n)}},popNonStandardWarningStack:function(){\"function\"==typeof console.reactStackEnd&&console.reactStackEnd()}};t.exports=E},function(t,e,n){\"use strict\";var r=n(20),i={listen:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent(\"on\"+e,n),{remove:function(){t.detachEvent(\"on\"+e,n)}}):void 0},capture:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!0),{remove:function(){t.removeEventListener(e,n,!0)}}):{remove:r}},registerDefault:function(){}};t.exports=i},function(t,e,n){\"use strict\";var r=n(241),i=n(243),o=n(126),a=n(139);var s={hasSelectionCapabilities:function(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(\"input\"===e&&\"text\"===t.type||\"textarea\"===e||\"true\"===t.contentEditable)},getSelectionInformation:function(){var t=a();return{focusedElem:t,selectionRange:s.hasSelectionCapabilities(t)?s.getSelection(t):null}},restoreSelection:function(t){var e,n=a(),r=t.focusedElem,l=t.selectionRange;n!==r&&(e=r,i(document.documentElement,e))&&(s.hasSelectionCapabilities(r)&&s.setSelection(r,l),o(r))},getSelection:function(t){var e;if(\"selectionStart\"in t)e={start:t.selectionStart,end:t.selectionEnd};else if(document.selection&&t.nodeName&&\"input\"===t.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===t&&(e={start:-n.moveStart(\"character\",-t.value.length),end:-n.moveEnd(\"character\",-t.value.length)})}else e=r.getOffsets(t);return e||{start:0,end:0}},setSelection:function(t,e){var n=e.start,i=e.end;if(void 0===i&&(i=n),\"selectionStart\"in t)t.selectionStart=n,t.selectionEnd=Math.min(i,t.value.length);else if(document.selection&&t.nodeName&&\"input\"===t.nodeName.toLowerCase()){var o=t.createTextRange();o.collapse(!0),o.moveStart(\"character\",n),o.moveEnd(\"character\",i-n),o.select()}else r.setOffsets(t,e)}};t.exports=s},function(t,e,n){\"use strict\";t.exports=function(t){if(void 0===(t=t||(\"undefined\"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}},function(t,e,n){\"use strict\";var r=n(5),i=n(43),o=n(38),a=n(36),s=n(63),l=(n(25),n(7)),u=n(258),c=n(259),h=n(122),p=n(51),d=(n(21),n(260)),f=n(41),m=n(86),v=n(23),g=n(57),y=n(131),b=(n(2),n(61)),x=n(84),w=(n(4),o.ID_ATTRIBUTE_NAME),_=o.ROOT_ATTRIBUTE_NAME,M=1,E=9,S=11,T={};function C(t){return t?t.nodeType===E?t.documentElement:t.firstChild:null}function A(t,e,n,r,i){var o;if(h.logTopLevelRenders){var a=t._currentElement.props.child.type;o=\"React mount: \"+(\"string\"==typeof a?a:a.displayName||a.name),console.time(o)}var s=f.mountComponent(t,n,null,u(t,e),i,0);o&&console.timeEnd(o),t._renderedComponent._topLevelWrapper=t,D._mountImageIntoNode(s,e,t,r,n)}function P(t,e,n,r){var i=v.ReactReconcileTransaction.getPooled(!n&&c.useCreateElement);i.perform(A,null,t,e,i,n,r),v.ReactReconcileTransaction.release(i)}function R(t,e,n){for(0,f.unmountComponent(t,n),e.nodeType===E&&(e=e.documentElement);e.lastChild;)e.removeChild(e.lastChild)}function L(t){var e=C(t);if(e){var n=l.getInstanceFromNode(e);return!(!n||!n._hostParent)}}function O(t){return!(!t||t.nodeType!==M&&t.nodeType!==E&&t.nodeType!==S)}function I(t){var e=function(t){var e=C(t),n=e&&l.getInstanceFromNode(e);return n&&!n._hostParent?n:null}(t);return e?e._hostContainerInfo._topLevelWrapper:null}var N=1,k=function(){this.rootID=N++};k.prototype.isReactComponent={},k.prototype.render=function(){return this.props.child},k.isReactTopLevelWrapper=!0;var D={TopLevelWrapper:k,_instancesByReactRootID:T,scrollMonitor:function(t,e){e()},_updateRootComponent:function(t,e,n,r,i){return D.scrollMonitor(r,(function(){m.enqueueElementInternal(t,e,n),i&&m.enqueueCallbackInternal(t,i)})),t},_renderNewRootComponent:function(t,e,n,i){O(e)||r(\"37\"),s.ensureScrollValueMonitoring();var o=y(t,!1);v.batchedUpdates(P,o,e,n,i);var a=o._instance.rootID;return T[a]=o,o},renderSubtreeIntoContainer:function(t,e,n,i){return null!=t&&p.has(t)||r(\"38\"),D._renderSubtreeIntoContainer(t,e,n,i)},_renderSubtreeIntoContainer:function(t,e,n,i){m.validateCallback(i,\"ReactDOM.render\"),a.isValidElement(e)||r(\"39\",\"string\"==typeof e?\" Instead of passing a string like 'div', pass React.createElement('div') or <div />.\":\"function\"==typeof e?\" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.\":null!=e&&void 0!==e.props?\" This may be caused by unintentionally loading two independent copies of React.\":\"\");var o,s=a.createElement(k,{child:e});if(t){var l=p.get(t);o=l._processChildContext(l._context)}else o=g;var u=I(n);if(u){var c=u._currentElement.props.child;if(x(c,e)){var h=u._renderedComponent.getPublicInstance(),d=i&&function(){i.call(h)};return D._updateRootComponent(u,s,o,n,d),h}D.unmountComponentAtNode(n)}var f,v=C(n),y=v&&!(!(f=v).getAttribute||!f.getAttribute(w)),b=L(n),_=y&&!u&&!b,M=D._renderNewRootComponent(s,n,_,o)._renderedComponent.getPublicInstance();return i&&i.call(M),M},render:function(t,e,n){return D._renderSubtreeIntoContainer(null,t,e,n)},unmountComponentAtNode:function(t){O(t)||r(\"40\");var e=I(t);if(!e){L(t),1===t.nodeType&&t.hasAttribute(_);return!1}return delete T[e._instance.rootID],v.batchedUpdates(R,e,t,!1),!0},_mountImageIntoNode:function(t,e,n,o,a){if(O(e)||r(\"41\"),o){var s=C(e);if(d.canReuseMarkup(t,s))return void l.precacheNode(n,s);var u=s.getAttribute(d.CHECKSUM_ATTR_NAME);s.removeAttribute(d.CHECKSUM_ATTR_NAME);var c=s.outerHTML;s.setAttribute(d.CHECKSUM_ATTR_NAME,u);var h=t,p=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++)if(t.charAt(r)!==e.charAt(r))return r;return t.length===e.length?-1:n}(h,c),f=\" (client) \"+h.substring(p-20,p+20)+\"\\n (server) \"+c.substring(p-20,p+20);e.nodeType===E&&r(\"42\",f)}if(e.nodeType===E&&r(\"43\"),a.useCreateElement){for(;e.lastChild;)e.removeChild(e.lastChild);i.insertTreeBefore(e,t,null)}else b(e,t),l.precacheNode(n,e.firstChild)}};t.exports=D},function(t,e,n){\"use strict\";var r=n(132);t.exports=function(t){for(var e;(e=t._renderedNodeType)===r.COMPOSITE;)t=t._renderedComponent;return e===r.HOST?t._renderedComponent:e===r.EMPTY?null:void 0}},function(t,e,n){var r=n(33),i=n(44),o=n(91)(\"IE_PROTO\"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:\"function\"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(29),i=n(17),o=n(48);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o((function(){n(1)})),\"Object\",a)}},function(t,e,n){t.exports=!n(31)&&!n(48)((function(){return 7!=Object.defineProperty(n(145)(\"div\"),\"a\",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(47),i=n(28).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){t.exports={default:n(275),__esModule:!0}},function(t,e,n){\"use strict\";var r=n(279)(!0);n(148)(String,\"String\",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},function(t,e,n){\"use strict\";var r=n(64),i=n(29),o=n(149),a=n(45),s=n(54),l=n(280),u=n(99),c=n(142),h=n(24)(\"iterator\"),p=!([].keys&&\"next\"in[].keys()),d=function(){return this};t.exports=function(t,e,n,f,m,v,g){l(n,e,f);var y,b,x,w=function(t){if(!p&&t in S)return S[t];switch(t){case\"keys\":case\"values\":return function(){return new n(this,t)}}return function(){return new n(this,t)}},_=e+\" Iterator\",M=\"values\"==m,E=!1,S=t.prototype,T=S[h]||S[\"@@iterator\"]||m&&S[m],C=T||w(m),A=m?M?w(\"entries\"):C:void 0,P=\"Array\"==e&&S.entries||T;if(P&&(x=c(P.call(new t)))!==Object.prototype&&x.next&&(u(x,_,!0),r||\"function\"==typeof x[h]||a(x,h,d)),M&&T&&\"values\"!==T.name&&(E=!0,C=function(){return T.call(this)}),r&&!g||!p&&!E&&S[h]||a(S,h,C),s[e]=C,s[_]=d,m)if(y={values:M?C:w(\"values\"),keys:v?C:w(\"keys\"),entries:A},g)for(b in y)b in S||o(S,b,y[b]);else i(i.P+i.F*(p||E),e,y);return y}},function(t,e,n){t.exports=n(45)},function(t,e,n){var r=n(33),i=n(49),o=n(282)(!1),a=n(91)(\"IE_PROTO\");t.exports=function(t,e){var n,s=i(t),l=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;e.length>l;)r(s,n=e[l++])&&(~o(u,n)||u.push(n));return u}},function(t,e,n){var r=n(97);t.exports=Object(\"z\").propertyIsEnumerable(0)?Object:function(t){return\"String\"==r(t)?t.split(\"\"):Object(t)}},function(t,e,n){var r=n(95),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(150),i=n(98).concat(\"length\",\"prototype\");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(67),i=n(53),o=n(49),a=n(94),s=n(33),l=n(144),u=Object.getOwnPropertyDescriptor;e.f=n(31)?u:function(t,e){if(t=o(t),e=a(e,!0),l)try{return u(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(156),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,o.default)(t)}},function(t,e,n){t.exports={default:n(307),__esModule:!0}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default={Webkit:{transform:!0,transformOrigin:!0,transformOriginX:!0,transformOriginY:!0,backfaceVisibility:!0,perspective:!0,perspectiveOrigin:!0,transformStyle:!0,transformOriginZ:!0,animation:!0,animationDelay:!0,animationDirection:!0,animationFillMode:!0,animationDuration:!0,animationIterationCount:!0,animationName:!0,animationPlayState:!0,animationTimingFunction:!0,appearance:!0,userSelect:!0,fontKerning:!0,textEmphasisPosition:!0,textEmphasis:!0,textEmphasisStyle:!0,textEmphasisColor:!0,boxDecorationBreak:!0,clipPath:!0,maskImage:!0,maskMode:!0,maskRepeat:!0,maskPosition:!0,maskClip:!0,maskOrigin:!0,maskSize:!0,maskComposite:!0,mask:!0,maskBorderSource:!0,maskBorderMode:!0,maskBorderSlice:!0,maskBorderWidth:!0,maskBorderOutset:!0,maskBorderRepeat:!0,maskBorder:!0,maskType:!0,textDecorationStyle:!0,textDecorationSkip:!0,textDecorationLine:!0,textDecorationColor:!0,filter:!0,fontFeatureSettings:!0,breakAfter:!0,breakBefore:!0,breakInside:!0,columnCount:!0,columnFill:!0,columnGap:!0,columnRule:!0,columnRuleColor:!0,columnRuleStyle:!0,columnRuleWidth:!0,columns:!0,columnSpan:!0,columnWidth:!0,flex:!0,flexBasis:!0,flexDirection:!0,flexGrow:!0,flexFlow:!0,flexShrink:!0,flexWrap:!0,alignContent:!0,alignItems:!0,alignSelf:!0,justifyContent:!0,order:!0,transition:!0,transitionDelay:!0,transitionDuration:!0,transitionProperty:!0,transitionTimingFunction:!0,backdropFilter:!0,scrollSnapType:!0,scrollSnapPointsX:!0,scrollSnapPointsY:!0,scrollSnapDestination:!0,scrollSnapCoordinate:!0,shapeImageThreshold:!0,shapeImageMargin:!0,shapeImageOutside:!0,hyphens:!0,flowInto:!0,flowFrom:!0,regionFragment:!0,textSizeAdjust:!0},Moz:{appearance:!0,userSelect:!0,boxSizing:!0,textAlignLast:!0,textDecorationStyle:!0,textDecorationSkip:!0,textDecorationLine:!0,textDecorationColor:!0,tabSize:!0,hyphens:!0,fontFeatureSettings:!0,breakAfter:!0,breakBefore:!0,breakInside:!0,columnCount:!0,columnFill:!0,columnGap:!0,columnRule:!0,columnRuleColor:!0,columnRuleStyle:!0,columnRuleWidth:!0,columns:!0,columnSpan:!0,columnWidth:!0},ms:{flex:!0,flexBasis:!1,flexDirection:!0,flexGrow:!1,flexFlow:!0,flexShrink:!1,flexWrap:!0,alignContent:!1,alignItems:!1,alignSelf:!1,justifyContent:!1,order:!1,transform:!0,transformOrigin:!0,transformOriginX:!0,transformOriginY:!0,userSelect:!0,wrapFlow:!0,wrapThrough:!0,wrapMargin:!0,scrollSnapType:!0,scrollSnapPointsX:!0,scrollSnapPointsY:!0,scrollSnapDestination:!0,scrollSnapCoordinate:!0,touchAction:!0,hyphens:!0,flowInto:!0,flowFrom:!0,breakBefore:!0,breakAfter:!0,breakInside:!0,regionFragment:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridTemplate:!0,gridAutoColumns:!0,gridAutoRows:!0,gridAutoFlow:!0,grid:!0,gridRowStart:!0,gridColumnStart:!0,gridRowEnd:!0,gridRow:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridRowGap:!0,gridArea:!0,gridGap:!0,textSizeAdjust:!0}},t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){return Object.keys(t).sort((function(t,e){return(0,o.default)(t)&&!(0,o.default)(e)?-1:!(0,o.default)(t)&&(0,o.default)(e)?1:0})).reduce((function(e,n){return e[n]=t[n],e}),{})};var r,i=n(323),o=(r=i)&&r.__esModule?r:{default:r};t.exports=e.default},function(t,e,n){\"use strict\";n.r(e);var r=/[A-Z]/g,i=/^ms-/,o={};function a(t){return\"-\"+t.toLowerCase()}e.default=function(t){if(o.hasOwnProperty(t))return o[t];var e=t.replace(r,a);return o[t]=i.test(e)?\"-\"+e:e}},function(t,e,n){t.exports={default:n(351),__esModule:!0}},function(t,e,n){t.exports={default:n(356),__esModule:!0}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(1),i=r.PropTypes.oneOf([\"left\",\"middle\",\"right\"]),o=r.PropTypes.oneOf([\"top\",\"center\",\"bottom\"]);e.default={corners:r.PropTypes.oneOf([\"bottom-left\",\"bottom-right\",\"top-left\",\"top-right\"]),horizontal:i,vertical:o,origin:r.PropTypes.shape({horizontal:i,vertical:o}),cornersAndCenter:r.PropTypes.oneOf([\"bottom-center\",\"bottom-left\",\"bottom-right\",\"top-center\",\"top-left\",\"top-right\"]),stringOrNumber:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.number]),zDepth:r.PropTypes.oneOf([0,1,2,3,4,5])}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=y(n(22)),i=y(n(18)),o=y(n(10)),a=y(n(8)),s=y(n(11)),l=y(n(12)),u=y(n(13)),c=y(n(9)),h=n(1),p=y(h),d=n(107),f=y(n(360)),m=y(n(361)),v=y(n(362)),g=y(n(368));function y(t){return t&&t.__esModule?t:{default:t}}var b=!1,x=!1,w=!1;var _=function(t){function e(){var t,n,r,i;(0,a.default)(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=(0,l.default)(this,(t=e.__proto__||(0,o.default)(e)).call.apply(t,[this].concat(u))),r.state={isKeyboardFocused:!1},r.handleKeyDown=function(t){r.props.disabled||r.props.disableKeyboardFocus||(\"enter\"===(0,m.default)(t)&&r.state.isKeyboardFocused&&r.handleTouchTap(t),\"esc\"===(0,m.default)(t)&&r.state.isKeyboardFocused&&r.removeKeyboardFocus(t)),r.props.onKeyDown(t)},r.handleKeyUp=function(t){r.props.disabled||r.props.disableKeyboardFocus||\"space\"===(0,m.default)(t)&&r.state.isKeyboardFocused&&r.handleTouchTap(t),r.props.onKeyUp(t)},r.handleBlur=function(t){r.cancelFocusTimeout(),r.removeKeyboardFocus(t),r.props.onBlur(t)},r.handleFocus=function(t){t&&t.persist(),r.props.disabled||r.props.disableKeyboardFocus||(r.focusTimeout=setTimeout((function(){w&&(r.setKeyboardFocus(t),w=!1)}),150),r.props.onFocus(t))},r.handleClick=function(t){r.props.disabled||(w=!1,r.props.onClick(t))},r.handleTouchTap=function(t){r.cancelFocusTimeout(),r.props.disabled||(w=!1,r.removeKeyboardFocus(t),r.props.onTouchTap(t))},i=n,(0,l.default)(r,i)}return(0,u.default)(e,t),(0,s.default)(e,[{key:\"componentWillMount\",value:function(){var t=this.props,e=t.disabled,n=t.disableKeyboardFocus,r=t.keyboardFocused;e||!r||n||this.setState({isKeyboardFocused:!0})}},{key:\"componentDidMount\",value:function(){!function(){if(!b){var t=document.createElement(\"style\");t.innerHTML=\"\\n      button::-moz-focus-inner,\\n      input::-moz-focus-inner {\\n        border: 0;\\n        padding: 0;\\n      }\\n    \",document.body.appendChild(t),b=!0}}(),x||(f.default.on(window,\"keydown\",(function(t){w=\"tab\"===(0,m.default)(t)})),x=!0),this.state.isKeyboardFocused&&(this.refs.enhancedButton.focus(),this.props.onKeyboardFocus(null,!0))}},{key:\"componentWillReceiveProps\",value:function(t){(t.disabled||t.disableKeyboardFocus)&&this.state.isKeyboardFocused&&(this.setState({isKeyboardFocused:!1}),t.onKeyboardFocus&&t.onKeyboardFocus(null,!1))}},{key:\"componentWillUnmount\",value:function(){clearTimeout(this.focusTimeout)}},{key:\"isKeyboardFocused\",value:function(){return this.state.isKeyboardFocused}},{key:\"removeKeyboardFocus\",value:function(t){this.state.isKeyboardFocused&&(this.setState({isKeyboardFocused:!1}),this.props.onKeyboardFocus(t,!1))}},{key:\"setKeyboardFocus\",value:function(t){this.state.isKeyboardFocused||(this.setState({isKeyboardFocused:!0}),this.props.onKeyboardFocus(t,!0))}},{key:\"cancelFocusTimeout\",value:function(){this.focusTimeout&&(clearTimeout(this.focusTimeout),this.focusTimeout=null)}},{key:\"createButtonChildren\",value:function(){var t=this.props,e=t.centerRipple,n=t.children,r=t.disabled,i=t.disableFocusRipple,o=t.disableKeyboardFocus,a=t.disableTouchRipple,s=t.focusRippleColor,l=t.focusRippleOpacity,u=t.touchRippleColor,c=t.touchRippleOpacity,h=this.state.isKeyboardFocused,f=!h||r||i||o?void 0:p.default.createElement(v.default,{color:s,opacity:l,show:h}),m=r||a?void 0:p.default.createElement(g.default,{centerRipple:e,color:u,opacity:c},n);return(0,d.createChildFragment)({focusRipple:f,touchRipple:m,children:m?void 0:n})}},{key:\"render\",value:function(){var t=this.props,e=(t.centerRipple,t.children),n=t.containerElement,o=t.disabled,a=(t.disableFocusRipple,t.disableKeyboardFocus),s=(t.disableTouchRipple,t.focusRippleColor,t.focusRippleOpacity,t.href),l=(t.keyboardFocused,t.touchRippleColor,t.touchRippleOpacity,t.onBlur,t.onClick,t.onFocus,t.onKeyUp,t.onKeyDown,t.onKeyboardFocus,t.onTouchTap,t.style),u=t.tabIndex,h=t.type,d=(0,i.default)(t,[\"centerRipple\",\"children\",\"containerElement\",\"disabled\",\"disableFocusRipple\",\"disableKeyboardFocus\",\"disableTouchRipple\",\"focusRippleColor\",\"focusRippleOpacity\",\"href\",\"keyboardFocused\",\"touchRippleColor\",\"touchRippleOpacity\",\"onBlur\",\"onClick\",\"onFocus\",\"onKeyUp\",\"onKeyDown\",\"onKeyboardFocus\",\"onTouchTap\",\"style\",\"tabIndex\",\"type\"]),f=this.context.muiTheme,m=f.prepareStyles,v=f.enhancedButton,g=(0,c.default)({border:10,boxSizing:\"border-box\",display:\"inline-block\",fontFamily:this.context.muiTheme.baseTheme.fontFamily,WebkitTapHighlightColor:v.tapHighlightColor,cursor:o?\"default\":\"pointer\",textDecoration:\"none\",margin:0,padding:0,outline:\"none\",fontSize:\"inherit\",fontWeight:\"inherit\",position:\"relative\",verticalAlign:s?\"middle\":null},l);if(g.backgroundColor||g.background||(g.background=\"none\"),o&&s)return p.default.createElement(\"span\",(0,r.default)({},d,{style:g}),e);var y=(0,r.default)({},d,{style:m(g),ref:\"enhancedButton\",disabled:o,href:s,onBlur:this.handleBlur,onClick:this.handleClick,onFocus:this.handleFocus,onKeyUp:this.handleKeyUp,onKeyDown:this.handleKeyDown,onTouchTap:this.handleTouchTap,tabIndex:o||a?-1:u}),b=this.createButtonChildren();return p.default.isValidElement(n)?p.default.cloneElement(n,y,b):(s||\"button\"!==n||(y.type=h),p.default.createElement(s?\"a\":n,y,b))}}]),e}(h.Component);_.defaultProps={containerElement:\"button\",onBlur:function(){},onClick:function(){},onFocus:function(){},onKeyDown:function(){},onKeyUp:function(){},onKeyboardFocus:function(){},onTouchTap:function(){},tabIndex:0,type:\"button\"},_.contextTypes={muiTheme:h.PropTypes.object.isRequired},e.default=_},function(t,e,n){\"use strict\";t.exports=n(364)},function(t,e,n){\"use strict\";var r=n(69),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,f=Object.prototype;t.exports=function t(e,n,r){if(\"string\"!=typeof n){if(f){var i=d(n);i&&i!==f&&t(e,i,r)}var a=c(n);h&&(a=a.concat(h(n)));for(var s=l(e),m=l(n),v=0;v<a.length;++v){var g=a[v];if(!(o[g]||r&&r[g]||m&&m[g]||s&&s[g])){var y=p(n,g);try{u(e,g,y)}catch(t){}}}}return e}},function(t,e,n){\"use strict\";function r(t){var e,n=t.Symbol;return\"function\"==typeof n?n.observable?e=n.observable:(e=n(\"observable\"),n.observable=e):e=\"@@observable\",e}n.d(e,\"a\",(function(){return r}))},function(t,e,n){\"use strict\";(function(t){var n=\"object\"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(89))},function(t,e,n){n(2);var r=n(267);t.exports=function(t){var e=(t=t||{}).shouldRejectClick||r;!0,n(40).injection.injectEventPluginsByName({TapEventPlugin:n(268)(e)})}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=c(n(10)),i=c(n(8)),o=c(n(11)),a=c(n(12)),s=c(n(13)),l=n(1),u=c(n(306));function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(){return(0,i.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,o.default)(e,[{key:\"getChildContext\",value:function(){return{muiTheme:this.props.muiTheme||(0,u.default)()}}},{key:\"render\",value:function(){return this.props.children}}]),e}(l.Component);h.childContextTypes={muiTheme:l.PropTypes.object.isRequired},e.default=h},function(t,e,n){\"use strict\";function r(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(i){return\"function\"==typeof i?i(n,r,t):e(i)}}}}var i=r();i.withExtraArgument=r,e.a=i},function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return i}));var r=n(0),i=function(t){r.k.call(this,t)};i.prototype=Object.assign(Object.create(r.k.prototype),{constructor:i,parse:function(t,e){var n={mipmaps:[],width:0,height:0,format:null,mipmapCount:1};function i(t){return t.charCodeAt(0)+(t.charCodeAt(1)<<8)+(t.charCodeAt(2)<<16)+(t.charCodeAt(3)<<24)}function o(t,e,n,r){for(var i=n*r*4,o=new Uint8Array(t,e,i),a=new Uint8Array(i),s=0,l=0,u=0;u<r;u++)for(var c=0;c<n;c++){var h=o[l],p=o[++l],d=o[++l],f=o[++l];l++,a[s]=d,a[++s]=p,a[++s]=h,a[++s]=f,s++}return a}var a,s=i(\"DXT1\"),l=i(\"DXT3\"),u=i(\"DXT5\"),c=i(\"ETC1\"),h=new Int32Array(t,0,31);if(542327876!==h[0])return console.error(\"THREE.DDSLoader.parse: Invalid magic number in DDS header.\"),n;if(4&!h[20])return console.error(\"THREE.DDSLoader.parse: Unsupported format, must contain a FourCC code.\"),n;var p,d=h[21],f=!1;switch(d){case s:a=8,n.format=r.R;break;case l:a=16,n.format=r.O;break;case u:a=16,n.format=r.P;break;case c:a=8,n.format=r.Q;break;default:if(!(32===h[22]&&16711680&h[23]&&65280&h[24]&&255&h[25]&&4278190080&h[26]))return console.error(\"THREE.DDSLoader.parse: Unsupported FourCC code \",(p=d,String.fromCharCode(255&p,p>>8&255,p>>16&255,p>>24&255))),n;f=!0,a=64,n.format=r.N}n.mipmapCount=1,131072&h[2]&&!1!==e&&(n.mipmapCount=Math.max(1,h[7]));var m=h[28];if(n.isCubemap=!!(512&m),n.isCubemap&&(!(1024&m)||!(2048&m)||!(4096&m)||!(8192&m)||!(16384&m)||!(32768&m)))return console.error(\"THREE.DDSLoader.parse: Incomplete cubemap faces\"),n;n.width=h[4],n.height=h[3];for(var v=h[1]+4,g=n.isCubemap?6:1,y=0;y<g;y++)for(var b=n.width,x=n.height,w=0;w<n.mipmapCount;w++){if(f)var _=(M=o(t,v,b,x)).length;else{_=Math.max(4,b)/4*Math.max(4,x)/4*a;var M=new Uint8Array(t,v,_)}var E={data:M,width:b,height:x};n.mipmaps.push(E),v+=_,b=Math.max(b>>1,1),x=Math.max(x>>1,1)}return n}})},function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return i}));var r=n(0),i=function(){var t=/^[og]\\s*(.+)?/,e=/^mtllib /,n=/^usemtl /;function i(){var t={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materialLibraries:[],startObject:function(t,e){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=t,void(this.object.fromDeclaration=!1!==e);var n=this.object&&\"function\"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&\"function\"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:t||\"\",fromDeclaration:!1!==e,geometry:{vertices:[],normals:[],colors:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(t,e){var n=this._finalize(!1);n&&(n.inherited||n.groupCount<=0)&&this.materials.splice(n.index,1);var r={index:this.materials.length,name:t||\"\",mtllib:Array.isArray(e)&&e.length>0?e[e.length-1]:\"\",smooth:void 0!==n?n.smooth:this.smooth,groupStart:void 0!==n?n.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(t){var e={index:\"number\"==typeof t?t:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return e.clone=this.clone.bind(e),e}};return this.materials.push(r),r},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(t){var e=this.currentMaterial();if(e&&-1===e.groupEnd&&(e.groupEnd=this.geometry.vertices.length/3,e.groupCount=e.groupEnd-e.groupStart,e.inherited=!1),t&&this.materials.length>1)for(var n=this.materials.length-1;n>=0;n--)this.materials[n].groupCount<=0&&this.materials.splice(n,1);return t&&0===this.materials.length&&this.materials.push({name:\"\",smooth:this.smooth}),e}},n&&n.name&&\"function\"==typeof n.clone){var r=n.clone(0);r.inherited=!0,this.object.materials.push(r)}this.objects.push(this.object)},finalize:function(){this.object&&\"function\"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(t,e){var n=parseInt(t,10);return 3*(n>=0?n-1:n+e/3)},parseNormalIndex:function(t,e){var n=parseInt(t,10);return 3*(n>=0?n-1:n+e/3)},parseUVIndex:function(t,e){var n=parseInt(t,10);return 2*(n>=0?n-1:n+e/2)},addVertex:function(t,e,n){var r=this.vertices,i=this.object.geometry.vertices;i.push(r[t+0],r[t+1],r[t+2]),i.push(r[e+0],r[e+1],r[e+2]),i.push(r[n+0],r[n+1],r[n+2])},addVertexPoint:function(t){var e=this.vertices;this.object.geometry.vertices.push(e[t+0],e[t+1],e[t+2])},addVertexLine:function(t){var e=this.vertices;this.object.geometry.vertices.push(e[t+0],e[t+1],e[t+2])},addNormal:function(t,e,n){var r=this.normals,i=this.object.geometry.normals;i.push(r[t+0],r[t+1],r[t+2]),i.push(r[e+0],r[e+1],r[e+2]),i.push(r[n+0],r[n+1],r[n+2])},addColor:function(t,e,n){var r=this.colors,i=this.object.geometry.colors;i.push(r[t+0],r[t+1],r[t+2]),i.push(r[e+0],r[e+1],r[e+2]),i.push(r[n+0],r[n+1],r[n+2])},addUV:function(t,e,n){var r=this.uvs,i=this.object.geometry.uvs;i.push(r[t+0],r[t+1]),i.push(r[e+0],r[e+1]),i.push(r[n+0],r[n+1])},addUVLine:function(t){var e=this.uvs;this.object.geometry.uvs.push(e[t+0],e[t+1])},addFace:function(t,e,n,r,i,o,a,s,l){var u=this.vertices.length,c=this.parseVertexIndex(t,u),h=this.parseVertexIndex(e,u),p=this.parseVertexIndex(n,u);if(this.addVertex(c,h,p),this.colors.length>0&&this.addColor(c,h,p),void 0!==r&&\"\"!==r){var d=this.uvs.length;c=this.parseUVIndex(r,d),h=this.parseUVIndex(i,d),p=this.parseUVIndex(o,d),this.addUV(c,h,p)}if(void 0!==a&&\"\"!==a){var f=this.normals.length;c=this.parseNormalIndex(a,f),h=a===s?c:this.parseNormalIndex(s,f),p=a===l?c:this.parseNormalIndex(l,f),this.addNormal(c,h,p)}},addPointGeometry:function(t){this.object.geometry.type=\"Points\";for(var e=this.vertices.length,n=0,r=t.length;n<r;n++)this.addVertexPoint(this.parseVertexIndex(t[n],e))},addLineGeometry:function(t,e){this.object.geometry.type=\"Line\";for(var n=this.vertices.length,r=this.uvs.length,i=0,o=t.length;i<o;i++)this.addVertexLine(this.parseVertexIndex(t[i],n));var a=0;for(o=e.length;a<o;a++)this.addUVLine(this.parseUVIndex(e[a],r))}};return t.startObject(\"\",!1),t}function o(t){r.v.call(this,t),this.materials=null}return o.prototype=Object.assign(Object.create(r.v.prototype),{constructor:o,load:function(t,e,n,i){var o=this,a=new r.o(o.manager);a.setPath(this.path),a.load(t,(function(t){e(o.parse(t))}),n,i)},setMaterials:function(t){return this.materials=t,this},parse:function(o){console.time(\"OBJLoader\");var a=new i;-1!==o.indexOf(\"\\r\\n\")&&(o=o.replace(/\\r\\n/g,\"\\n\")),-1!==o.indexOf(\"\\\\\\n\")&&(o=o.replace(/\\\\\\n/g,\"\"));for(var s=o.split(\"\\n\"),l=\"\",u=\"\",c=[],h=\"function\"==typeof\"\".trimLeft,p=0,d=s.length;p<d;p++)if(l=s[p],0!==(l=h?l.trimLeft():l.trim()).length&&\"#\"!==(u=l.charAt(0)))if(\"v\"===u){var f=l.split(/\\s+/);switch(f[0]){case\"v\":a.vertices.push(parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3])),f.length>=7&&a.colors.push(parseFloat(f[4]),parseFloat(f[5]),parseFloat(f[6]));break;case\"vn\":a.normals.push(parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3]));break;case\"vt\":a.uvs.push(parseFloat(f[1]),parseFloat(f[2]))}}else if(\"f\"===u){for(var m=l.substr(1).trim().split(/\\s+/),v=[],g=0,y=m.length;g<y;g++){var b=m[g];if(b.length>0){var x=b.split(\"/\");v.push(x)}}var w=v[0];for(g=1,y=v.length-1;g<y;g++){var _=v[g],M=v[g+1];a.addFace(w[0],_[0],M[0],w[1],_[1],M[1],w[2],_[2],M[2])}}else if(\"l\"===u){var E=l.substring(1).trim().split(\" \"),S=[],T=[];if(-1===l.indexOf(\"/\"))S=E;else for(var C=0,A=E.length;C<A;C++){var P=E[C].split(\"/\");\"\"!==P[0]&&S.push(P[0]),\"\"!==P[1]&&T.push(P[1])}a.addLineGeometry(S,T)}else if(\"p\"===u){var R=l.substr(1).trim().split(\" \");a.addPointGeometry(R)}else if(null!==(c=t.exec(l))){var L=(\" \"+c[0].substr(1).trim()).substr(1);a.startObject(L)}else if(n.test(l))a.object.startMaterial(l.substring(7).trim(),a.materialLibraries);else if(e.test(l))a.materialLibraries.push(l.substring(7).trim());else{if(\"s\"!==u){if(\"\\0\"===l)continue;throw new Error('THREE.OBJLoader: Unexpected line: \"'+l+'\"')}if((c=l.split(\" \")).length>1){var O=c[1].trim().toLowerCase();a.object.smooth=\"0\"!==O&&\"off\"!==O}else a.object.smooth=!0;(q=a.object.currentMaterial())&&(q.smooth=a.object.smooth)}a.finalize();var I=new r.r;I.materialLibraries=[].concat(a.materialLibraries);for(p=0,d=a.objects.length;p<d;p++){var N=a.objects[p],k=N.geometry,D=N.materials,F=\"Line\"===k.type,B=\"Points\"===k.type,U=!1;if(0!==k.vertices.length){var z=new r.h;z.setAttribute(\"position\",new r.p(k.vertices,3)),k.normals.length>0?z.setAttribute(\"normal\",new r.p(k.normals,3)):z.computeVertexNormals(),k.colors.length>0&&(U=!0,z.setAttribute(\"color\",new r.p(k.colors,3))),k.uvs.length>0&&z.setAttribute(\"uv\",new r.p(k.uvs,2));for(var j,V=[],W=0,G=D.length;W<G;W++){var H=D[W],q=void 0;if(null!==this.materials)if(q=this.materials.create(H.name),!F||!q||q instanceof r.s){if(B&&q&&!(q instanceof r.J)){var X=new r.J({size:10,sizeAttenuation:!1});r.x.prototype.copy.call(X,q),X.color.copy(q.color),X.map=q.map,q=X}}else{var Y=new r.s;r.x.prototype.copy.call(Y,q),Y.color.copy(q.color),q=Y}q||((q=F?new r.s:B?new r.J({size:1,sizeAttenuation:!1}):new r.C).name=H.name),q.flatShading=!H.smooth,q.vertexColors=U?r.ab:r.E,V.push(q)}if(V.length>1){for(W=0,G=D.length;W<G;W++){H=D[W];z.addGroup(H.groupStart,H.groupCount,W)}j=F?new r.t(z,V):B?new r.I(z,V):new r.z(z,V)}else j=F?new r.t(z,V[0]):B?new r.I(z,V[0]):new r.z(z,V[0]);j.name=N.name,I.add(j)}}return console.timeEnd(\"OBJLoader\"),I}}),o}()},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var r,i=n(375),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default},function(t,e,n){\"use strict\";t.exports=function(){}},function(t,e,n){\"use strict\";var r=n(176),i=n(37),o=n(20),a=n(177),s=r.twoArgumentPooler,l=r.fourArgumentPooler,u=/\\/+/g;function c(t){return(\"\"+t).replace(u,\"$&/\")}function h(t,e){this.func=t,this.context=e,this.count=0}function p(t,e,n){var r=t.func,i=t.context;r.call(i,e,t.count++)}function d(t,e,n,r){this.result=t,this.keyPrefix=e,this.func=n,this.context=r,this.count=0}function f(t,e,n){var r=t.result,a=t.keyPrefix,s=t.func,l=t.context,u=s.call(l,e,t.count++);Array.isArray(u)?m(u,r,n,o.thatReturnsArgument):null!=u&&(i.isValidElement(u)&&(u=i.cloneAndReplaceKey(u,a+(!u.key||e&&e.key===u.key?\"\":c(u.key)+\"/\")+n)),r.push(u))}function m(t,e,n,r,i){var o=\"\";null!=n&&(o=c(n)+\"/\");var s=d.getPooled(e,o,r,i);a(t,f,s),d.release(s)}function v(t,e,n){return null}h.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},r.addPoolingTo(h,s),d.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},r.addPoolingTo(d,l);var g={forEach:function(t,e,n){if(null==t)return t;var r=h.getPooled(e,n);a(t,p,r),h.release(r)},map:function(t,e,n){if(null==t)return t;var r=[];return m(t,r,null,e,n),r},mapIntoWithKeyPrefixInternal:m,count:function(t,e){return a(t,v,null)},toArray:function(t){var e=[];return m(t,e,null,o.thatReturnsArgument),e}};t.exports=g},function(t,e,n){\"use strict\";var r=n(50),i=(n(2),function(t){if(this.instancePool.length){var e=this.instancePool.pop();return this.call(e,t),e}return new this(t)}),o=function(t){t instanceof this||r(\"25\"),t.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(t)},a=i,s={addPoolingTo:function(t,e){var n=t;return n.instancePool=[],n.getPooled=e||a,n.poolSize||(n.poolSize=10),n.release=o,n},oneArgumentPooler:i,twoArgumentPooler:function(t,e){if(this.instancePool.length){var n=this.instancePool.pop();return this.call(n,t,e),n}return new this(t,e)},threeArgumentPooler:function(t,e,n){if(this.instancePool.length){var r=this.instancePool.pop();return this.call(r,t,e,n),r}return new this(t,e,n)},fourArgumentPooler:function(t,e,n,r){if(this.instancePool.length){var i=this.instancePool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}};t.exports=s},function(t,e,n){\"use strict\";var r=n(50),i=(n(25),n(114)),o=n(178),a=(n(2),n(179)),s=(n(4),\".\"),l=\":\";function u(t,e){return t&&\"object\"==typeof t&&null!=t.key?a.escape(t.key):e.toString(36)}t.exports=function(t,e,n){return null==t?0:function t(e,n,c,h){var p,d=typeof e;if(\"undefined\"!==d&&\"boolean\"!==d||(e=null),null===e||\"string\"===d||\"number\"===d||\"object\"===d&&e.$$typeof===i)return c(h,e,\"\"===n?s+u(e,0):n),1;var f=0,m=\"\"===n?s:n+l;if(Array.isArray(e))for(var v=0;v<e.length;v++)f+=t(p=e[v],m+u(p,v),c,h);else{var g=o(e);if(g){var y,b=g.call(e);if(g!==e.entries)for(var x=0;!(y=b.next()).done;)f+=t(p=y.value,m+u(p,x++),c,h);else for(;!(y=b.next()).done;){var w=y.value;w&&(f+=t(p=w[1],m+a.escape(w[0])+l+u(p,0),c,h))}}else if(\"object\"===d){var _=String(e);r(\"31\",\"[object Object]\"===_?\"object with keys {\"+Object.keys(e).join(\", \")+\"}\":_,\"\")}}return f}(t,\"\",e,n)}},function(t,e,n){\"use strict\";var r=\"function\"==typeof Symbol&&Symbol.iterator,i=\"@@iterator\";t.exports=function(t){var e=t&&(r&&t[r]||t[i]);if(\"function\"==typeof e)return e}},function(t,e,n){\"use strict\";var r={escape:function(t){var e={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+(\"\"+t).replace(/[=:]/g,(function(t){return e[t]}))},unescape:function(t){var e={\"=0\":\"=\",\"=2\":\":\"};return(\"\"+(\".\"===t[0]&&\"$\"===t[1]?t.substring(2):t.substring(1))).replace(/(=0|=2)/g,(function(t){return e[t]}))}};t.exports=r},function(t,e,n){\"use strict\";var r=n(37).createFactory,i={a:r(\"a\"),abbr:r(\"abbr\"),address:r(\"address\"),area:r(\"area\"),article:r(\"article\"),aside:r(\"aside\"),audio:r(\"audio\"),b:r(\"b\"),base:r(\"base\"),bdi:r(\"bdi\"),bdo:r(\"bdo\"),big:r(\"big\"),blockquote:r(\"blockquote\"),body:r(\"body\"),br:r(\"br\"),button:r(\"button\"),canvas:r(\"canvas\"),caption:r(\"caption\"),cite:r(\"cite\"),code:r(\"code\"),col:r(\"col\"),colgroup:r(\"colgroup\"),data:r(\"data\"),datalist:r(\"datalist\"),dd:r(\"dd\"),del:r(\"del\"),details:r(\"details\"),dfn:r(\"dfn\"),dialog:r(\"dialog\"),div:r(\"div\"),dl:r(\"dl\"),dt:r(\"dt\"),em:r(\"em\"),embed:r(\"embed\"),fieldset:r(\"fieldset\"),figcaption:r(\"figcaption\"),figure:r(\"figure\"),footer:r(\"footer\"),form:r(\"form\"),h1:r(\"h1\"),h2:r(\"h2\"),h3:r(\"h3\"),h4:r(\"h4\"),h5:r(\"h5\"),h6:r(\"h6\"),head:r(\"head\"),header:r(\"header\"),hgroup:r(\"hgroup\"),hr:r(\"hr\"),html:r(\"html\"),i:r(\"i\"),iframe:r(\"iframe\"),img:r(\"img\"),input:r(\"input\"),ins:r(\"ins\"),kbd:r(\"kbd\"),keygen:r(\"keygen\"),label:r(\"label\"),legend:r(\"legend\"),li:r(\"li\"),link:r(\"link\"),main:r(\"main\"),map:r(\"map\"),mark:r(\"mark\"),menu:r(\"menu\"),menuitem:r(\"menuitem\"),meta:r(\"meta\"),meter:r(\"meter\"),nav:r(\"nav\"),noscript:r(\"noscript\"),object:r(\"object\"),ol:r(\"ol\"),optgroup:r(\"optgroup\"),option:r(\"option\"),output:r(\"output\"),p:r(\"p\"),param:r(\"param\"),picture:r(\"picture\"),pre:r(\"pre\"),progress:r(\"progress\"),q:r(\"q\"),rp:r(\"rp\"),rt:r(\"rt\"),ruby:r(\"ruby\"),s:r(\"s\"),samp:r(\"samp\"),script:r(\"script\"),section:r(\"section\"),select:r(\"select\"),small:r(\"small\"),source:r(\"source\"),span:r(\"span\"),strong:r(\"strong\"),style:r(\"style\"),sub:r(\"sub\"),summary:r(\"summary\"),sup:r(\"sup\"),table:r(\"table\"),tbody:r(\"tbody\"),td:r(\"td\"),textarea:r(\"textarea\"),tfoot:r(\"tfoot\"),th:r(\"th\"),thead:r(\"thead\"),time:r(\"time\"),title:r(\"title\"),tr:r(\"tr\"),track:r(\"track\"),u:r(\"u\"),ul:r(\"ul\"),var:r(\"var\"),video:r(\"video\"),wbr:r(\"wbr\"),circle:r(\"circle\"),clipPath:r(\"clipPath\"),defs:r(\"defs\"),ellipse:r(\"ellipse\"),g:r(\"g\"),image:r(\"image\"),line:r(\"line\"),linearGradient:r(\"linearGradient\"),mask:r(\"mask\"),path:r(\"path\"),pattern:r(\"pattern\"),polygon:r(\"polygon\"),polyline:r(\"polyline\"),radialGradient:r(\"radialGradient\"),rect:r(\"rect\"),stop:r(\"stop\"),svg:r(\"svg\"),text:r(\"text\"),tspan:r(\"tspan\")};t.exports=i},function(t,e,n){\"use strict\";var r=n(37).isValidElement,i=n(115);t.exports=i(r)},function(t,e,n){\"use strict\";var r=n(69),i=n(6),o=n(116),a=n(184),s=Function.call.bind(Object.prototype.hasOwnProperty),l=function(){};function u(){return null}t.exports=function(t,e){var n=\"function\"==typeof Symbol&&Symbol.iterator,c=\"@@iterator\";var h=\"<<anonymous>>\",p={array:v(\"array\"),bool:v(\"boolean\"),func:v(\"function\"),number:v(\"number\"),object:v(\"object\"),string:v(\"string\"),symbol:v(\"symbol\"),any:m(u),arrayOf:function(t){return m((function(e,n,r,i,a){if(\"function\"!=typeof t)return new f(\"Property `\"+a+\"` of component `\"+r+\"` has invalid PropType notation inside arrayOf.\");var s=e[n];if(!Array.isArray(s))return new f(\"Invalid \"+i+\" `\"+a+\"` of type `\"+y(s)+\"` supplied to `\"+r+\"`, expected an array.\");for(var l=0;l<s.length;l++){var u=t(s,l,r,i,a+\"[\"+l+\"]\",o);if(u instanceof Error)return u}return null}))},element:m((function(e,n,r,i,o){var a=e[n];return t(a)?null:new f(\"Invalid \"+i+\" `\"+o+\"` of type `\"+y(a)+\"` supplied to `\"+r+\"`, expected a single ReactElement.\")})),elementType:m((function(t,e,n,i,o){var a=t[e];return r.isValidElementType(a)?null:new f(\"Invalid \"+i+\" `\"+o+\"` of type `\"+y(a)+\"` supplied to `\"+n+\"`, expected a single ReactElement type.\")})),instanceOf:function(t){return m((function(e,n,r,i,o){if(!(e[n]instanceof t)){var a=t.name||h;return new f(\"Invalid \"+i+\" `\"+o+\"` of type `\"+function(t){if(!t.constructor||!t.constructor.name)return h;return t.constructor.name}(e[n])+\"` supplied to `\"+r+\"`, expected instance of `\"+a+\"`.\")}return null}))},node:m((function(t,e,n,r,i){return g(t[e])?null:new f(\"Invalid \"+r+\" `\"+i+\"` supplied to `\"+n+\"`, expected a ReactNode.\")})),objectOf:function(t){return m((function(e,n,r,i,a){if(\"function\"!=typeof t)return new f(\"Property `\"+a+\"` of component `\"+r+\"` has invalid PropType notation inside objectOf.\");var l=e[n],u=y(l);if(\"object\"!==u)return new f(\"Invalid \"+i+\" `\"+a+\"` of type `\"+u+\"` supplied to `\"+r+\"`, expected an object.\");for(var c in l)if(s(l,c)){var h=t(l,c,r,i,a+\".\"+c,o);if(h instanceof Error)return h}return null}))},oneOf:function(t){if(!Array.isArray(t))return u;return m((function(e,n,r,i,o){for(var a=e[n],s=0;s<t.length;s++)if(d(a,t[s]))return null;var l=JSON.stringify(t,(function(t,e){return\"symbol\"===b(e)?String(e):e}));return new f(\"Invalid \"+i+\" `\"+o+\"` of value `\"+String(a)+\"` supplied to `\"+r+\"`, expected one of \"+l+\".\")}))},oneOfType:function(t){if(!Array.isArray(t))return u;for(var e=0;e<t.length;e++){var n=t[e];if(\"function\"!=typeof n)return l(\"Invalid argument supplied to oneOfType. Expected an array of check functions, but received \"+x(n)+\" at index \"+e+\".\"),u}return m((function(e,n,r,i,a){for(var s=0;s<t.length;s++){if(null==(0,t[s])(e,n,r,i,a,o))return null}return new f(\"Invalid \"+i+\" `\"+a+\"` supplied to `\"+r+\"`.\")}))},shape:function(t){return m((function(e,n,r,i,a){var s=e[n],l=y(s);if(\"object\"!==l)return new f(\"Invalid \"+i+\" `\"+a+\"` of type `\"+l+\"` supplied to `\"+r+\"`, expected `object`.\");for(var u in t){var c=t[u];if(c){var h=c(s,u,r,i,a+\".\"+u,o);if(h)return h}}return null}))},exact:function(t){return m((function(e,n,r,a,s){var l=e[n],u=y(l);if(\"object\"!==u)return new f(\"Invalid \"+a+\" `\"+s+\"` of type `\"+u+\"` supplied to `\"+r+\"`, expected `object`.\");var c=i({},e[n],t);for(var h in c){var p=t[h];if(!p)return new f(\"Invalid \"+a+\" `\"+s+\"` key `\"+h+\"` supplied to `\"+r+\"`.\\nBad object: \"+JSON.stringify(e[n],null,\"  \")+\"\\nValid keys: \"+JSON.stringify(Object.keys(t),null,\"  \"));var d=p(l,h,r,a,s+\".\"+h,o);if(d)return d}return null}))}};function d(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function f(t){this.message=t,this.stack=\"\"}function m(t){function n(n,r,i,a,s,l,u){if((a=a||h,l=l||i,u!==o)&&e){var c=new Error(\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types\");throw c.name=\"Invariant Violation\",c}return null==r[i]?n?null===r[i]?new f(\"The \"+s+\" `\"+l+\"` is marked as required in `\"+a+\"`, but its value is `null`.\"):new f(\"The \"+s+\" `\"+l+\"` is marked as required in `\"+a+\"`, but its value is `undefined`.\"):null:t(r,i,a,s,l)}var r=n.bind(null,!1);return r.isRequired=n.bind(null,!0),r}function v(t){return m((function(e,n,r,i,o,a){var s=e[n];return y(s)!==t?new f(\"Invalid \"+i+\" `\"+o+\"` of type `\"+b(s)+\"` supplied to `\"+r+\"`, expected `\"+t+\"`.\"):null}))}function g(e){switch(typeof e){case\"number\":case\"string\":case\"undefined\":return!0;case\"boolean\":return!e;case\"object\":if(Array.isArray(e))return e.every(g);if(null===e||t(e))return!0;var r=function(t){var e=t&&(n&&t[n]||t[c]);if(\"function\"==typeof e)return e}(e);if(!r)return!1;var i,o=r.call(e);if(r!==e.entries){for(;!(i=o.next()).done;)if(!g(i.value))return!1}else for(;!(i=o.next()).done;){var a=i.value;if(a&&!g(a[1]))return!1}return!0;default:return!1}}function y(t){var e=typeof t;return Array.isArray(t)?\"array\":t instanceof RegExp?\"object\":function(t,e){return\"symbol\"===t||!!e&&(\"Symbol\"===e[\"@@toStringTag\"]||\"function\"==typeof Symbol&&e instanceof Symbol)}(e,t)?\"symbol\":e}function b(t){if(null==t)return\"\"+t;var e=y(t);if(\"object\"===e){if(t instanceof Date)return\"date\";if(t instanceof RegExp)return\"regexp\"}return e}function x(t){var e=b(t);switch(e){case\"array\":case\"object\":return\"an \"+e;case\"boolean\":case\"date\":case\"regexp\":return\"a \"+e;default:return e}}return f.prototype=Error.prototype,p.checkPropTypes=a,p.resetWarningCache=a.resetWarningCache,p.PropTypes=p,p}},function(t,e,n){\"use strict\";\n/** @license React v16.12.0\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */Object.defineProperty(e,\"__esModule\",{value:!0});var r=\"function\"==typeof Symbol&&Symbol.for,i=r?Symbol.for(\"react.element\"):60103,o=r?Symbol.for(\"react.portal\"):60106,a=r?Symbol.for(\"react.fragment\"):60107,s=r?Symbol.for(\"react.strict_mode\"):60108,l=r?Symbol.for(\"react.profiler\"):60114,u=r?Symbol.for(\"react.provider\"):60109,c=r?Symbol.for(\"react.context\"):60110,h=r?Symbol.for(\"react.async_mode\"):60111,p=r?Symbol.for(\"react.concurrent_mode\"):60111,d=r?Symbol.for(\"react.forward_ref\"):60112,f=r?Symbol.for(\"react.suspense\"):60113,m=r?Symbol.for(\"react.suspense_list\"):60120,v=r?Symbol.for(\"react.memo\"):60115,g=r?Symbol.for(\"react.lazy\"):60116,y=r?Symbol.for(\"react.fundamental\"):60117,b=r?Symbol.for(\"react.responder\"):60118,x=r?Symbol.for(\"react.scope\"):60119;function w(t){if(\"object\"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case h:case p:case a:case l:case s:case f:return t;default:switch(t=t&&t.$$typeof){case c:case d:case g:case v:case u:return t;default:return e}}case o:return e}}}function _(t){return w(t)===p}e.typeOf=w,e.AsyncMode=h,e.ConcurrentMode=p,e.ContextConsumer=c,e.ContextProvider=u,e.Element=i,e.ForwardRef=d,e.Fragment=a,e.Lazy=g,e.Memo=v,e.Portal=o,e.Profiler=l,e.StrictMode=s,e.Suspense=f,e.isValidElementType=function(t){return\"string\"==typeof t||\"function\"==typeof t||t===a||t===p||t===l||t===s||t===f||t===m||\"object\"==typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===v||t.$$typeof===u||t.$$typeof===c||t.$$typeof===d||t.$$typeof===y||t.$$typeof===b||t.$$typeof===x)},e.isAsyncMode=function(t){return _(t)||w(t)===h},e.isConcurrentMode=_,e.isContextConsumer=function(t){return w(t)===c},e.isContextProvider=function(t){return w(t)===u},e.isElement=function(t){return\"object\"==typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return w(t)===d},e.isFragment=function(t){return w(t)===a},e.isLazy=function(t){return w(t)===g},e.isMemo=function(t){return w(t)===v},e.isPortal=function(t){return w(t)===o},e.isProfiler=function(t){return w(t)===l},e.isStrictMode=function(t){return w(t)===s},e.isSuspense=function(t){return w(t)===f}},function(t,e,n){\"use strict\";function r(t,e,n,r,i){}r.resetWarningCache=function(){0},t.exports=r},function(t,e,n){\"use strict\";t.exports=\"15.6.2\"},function(t,e,n){\"use strict\";var r=n(111).Component,i=n(37).isValidElement,o=n(112),a=n(187);t.exports=a(r,i,o)},function(t,e,n){\"use strict\";var r=n(6),i=n(57),o=n(2),a=\"mixins\";t.exports=function(t,e,n){var s=[],l={mixins:\"DEFINE_MANY\",statics:\"DEFINE_MANY\",propTypes:\"DEFINE_MANY\",contextTypes:\"DEFINE_MANY\",childContextTypes:\"DEFINE_MANY\",getDefaultProps:\"DEFINE_MANY_MERGED\",getInitialState:\"DEFINE_MANY_MERGED\",getChildContext:\"DEFINE_MANY_MERGED\",render:\"DEFINE_ONCE\",componentWillMount:\"DEFINE_MANY\",componentDidMount:\"DEFINE_MANY\",componentWillReceiveProps:\"DEFINE_MANY\",shouldComponentUpdate:\"DEFINE_ONCE\",componentWillUpdate:\"DEFINE_MANY\",componentDidUpdate:\"DEFINE_MANY\",componentWillUnmount:\"DEFINE_MANY\",UNSAFE_componentWillMount:\"DEFINE_MANY\",UNSAFE_componentWillReceiveProps:\"DEFINE_MANY\",UNSAFE_componentWillUpdate:\"DEFINE_MANY\",updateComponent:\"OVERRIDE_BASE\"},u={getDerivedStateFromProps:\"DEFINE_MANY_MERGED\"},c={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)p(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=r({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=r({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=f(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=r({},t.propTypes,e)},statics:function(t,e){!function(t,e){if(!e)return;for(var n in e){var r=e[n];if(e.hasOwnProperty(n)){if(o(!(n in c),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\\'t be on the \"statics\" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),n in t){var i=u.hasOwnProperty(n)?u[n]:null;return o(\"DEFINE_MANY_MERGED\"===i,\"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.\",n),void(t[n]=f(t[n],r))}t[n]=r}}}(t,e)},autobind:function(){}};function h(t,e){var n=l.hasOwnProperty(e)?l[e]:null;b.hasOwnProperty(e)&&o(\"OVERRIDE_BASE\"===n,\"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.\",e),t&&o(\"DEFINE_MANY\"===n||\"DEFINE_MANY_MERGED\"===n,\"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.\",e)}function p(t,n){if(n){o(\"function\"!=typeof n,\"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object.\"),o(!e(n),\"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.\");var r=t.prototype,i=r.__reactAutoBindPairs;for(var s in n.hasOwnProperty(a)&&c.mixins(t,n.mixins),n)if(n.hasOwnProperty(s)&&s!==a){var u=n[s],p=r.hasOwnProperty(s);if(h(p,s),c.hasOwnProperty(s))c[s](t,u);else{var d=l.hasOwnProperty(s);if(\"function\"==typeof u&&!d&&!p&&!1!==n.autobind)i.push(s,u),r[s]=u;else if(p){var v=l[s];o(d&&(\"DEFINE_MANY_MERGED\"===v||\"DEFINE_MANY\"===v),\"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.\",v,s),\"DEFINE_MANY_MERGED\"===v?r[s]=f(r[s],u):\"DEFINE_MANY\"===v&&(r[s]=m(r[s],u))}else r[s]=u}}}else;}function d(t,e){for(var n in o(t&&e&&\"object\"==typeof t&&\"object\"==typeof e,\"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.\"),e)e.hasOwnProperty(n)&&(o(void 0===t[n],\"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.\",n),t[n]=e[n]);return t}function f(t,e){return function(){var n=t.apply(this,arguments),r=e.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return d(i,n),d(i,r),i}}function m(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function v(t,e){return e.bind(t)}var g={componentDidMount:function(){this.__isMounted=!0}},y={componentWillUnmount:function(){this.__isMounted=!1}},b={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t,e)},isMounted:function(){return!!this.__isMounted}},x=function(){};return r(x.prototype,t.prototype,b),function(t){var e=function(t,r,a){this.__reactAutoBindPairs.length&&function(t){for(var e=t.__reactAutoBindPairs,n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];t[r]=v(t,i)}}(this),this.props=t,this.context=r,this.refs=i,this.updater=a||n,this.state=null;var s=this.getInitialState?this.getInitialState():null;o(\"object\"==typeof s&&!Array.isArray(s),\"%s.getInitialState(): must return an object or null\",e.displayName||\"ReactCompositeComponent\"),this.state=s};for(var r in e.prototype=new x,e.prototype.constructor=e,e.prototype.__reactAutoBindPairs=[],s.forEach(p.bind(null,e)),p(e,g),p(e,t),p(e,y),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),o(e.prototype.render,\"createClass(...): Class specification must implement a `render` method.\"),l)e.prototype[r]||(e.prototype[r]=null);return e}}},function(t,e,n){\"use strict\";var r=n(50),i=n(37);n(2);t.exports=function(t){return i.isValidElement(t)||r(\"143\"),t}},function(t,e,n){\"use strict\";var r=n(7),i=n(190),o=n(140),a=n(41),s=n(23),l=n(262),u=n(263),c=n(141),h=n(264);n(4);i.inject();var p={findDOMNode:u,render:o.render,unmountComponentAtNode:o.unmountComponentAtNode,version:l,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:h};\"undefined\"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&\"function\"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(t){return t._renderedComponent&&(t=c(t)),t?r.getNodeFromInstance(t):null}},Mount:o,Reconciler:a}),t.exports=p},function(t,e,n){\"use strict\";var r=n(191),i=n(192),o=n(196),a=n(199),s=n(200),l=n(201),u=n(202),c=n(208),h=n(7),p=n(233),d=n(234),f=n(235),m=n(236),v=n(237),g=n(239),y=n(240),b=n(246),x=n(247),w=n(248),_=!1;t.exports={inject:function(){_||(_=!0,g.EventEmitter.injectReactEventListener(v),g.EventPluginHub.injectEventPluginOrder(a),g.EventPluginUtils.injectComponentTree(h),g.EventPluginUtils.injectTreeTraversal(d),g.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:w,EnterLeaveEventPlugin:s,ChangeEventPlugin:o,SelectEventPlugin:x,BeforeInputEventPlugin:i}),g.HostComponent.injectGenericComponentClass(c),g.HostComponent.injectTextComponentClass(f),g.DOMProperty.injectDOMPropertyConfig(r),g.DOMProperty.injectDOMPropertyConfig(l),g.DOMProperty.injectDOMPropertyConfig(b),g.EmptyComponent.injectEmptyComponentFactory((function(t){return new p(t)})),g.Updates.injectReconcileTransaction(y),g.Updates.injectBatchingStrategy(m),g.Component.injectEnvironment(u))}}},function(t,e,n){\"use strict\";t.exports={Properties:{\"aria-current\":0,\"aria-details\":0,\"aria-disabled\":0,\"aria-hidden\":0,\"aria-invalid\":0,\"aria-keyshortcuts\":0,\"aria-label\":0,\"aria-roledescription\":0,\"aria-autocomplete\":0,\"aria-checked\":0,\"aria-expanded\":0,\"aria-haspopup\":0,\"aria-level\":0,\"aria-modal\":0,\"aria-multiline\":0,\"aria-multiselectable\":0,\"aria-orientation\":0,\"aria-placeholder\":0,\"aria-pressed\":0,\"aria-readonly\":0,\"aria-required\":0,\"aria-selected\":0,\"aria-sort\":0,\"aria-valuemax\":0,\"aria-valuemin\":0,\"aria-valuenow\":0,\"aria-valuetext\":0,\"aria-atomic\":0,\"aria-busy\":0,\"aria-live\":0,\"aria-relevant\":0,\"aria-dropeffect\":0,\"aria-grabbed\":0,\"aria-activedescendant\":0,\"aria-colcount\":0,\"aria-colindex\":0,\"aria-colspan\":0,\"aria-controls\":0,\"aria-describedby\":0,\"aria-errormessage\":0,\"aria-flowto\":0,\"aria-labelledby\":0,\"aria-owns\":0,\"aria-posinset\":0,\"aria-rowcount\":0,\"aria-rowindex\":0,\"aria-rowspan\":0,\"aria-setsize\":0},DOMAttributeNames:{},DOMPropertyNames:{}}},function(t,e,n){\"use strict\";var r=n(39),i=n(14),o=n(193),a=n(194),s=n(195),l=[9,13,27,32],u=229,c=i.canUseDOM&&\"CompositionEvent\"in window,h=null;i.canUseDOM&&\"documentMode\"in document&&(h=document.documentMode);var p,d=i.canUseDOM&&\"TextEvent\"in window&&!h&&!(\"object\"==typeof(p=window.opera)&&\"function\"==typeof p.version&&parseInt(p.version(),10)<=12),f=i.canUseDOM&&(!c||h&&h>8&&h<=11);var m=32,v=String.fromCharCode(m),g={beforeInput:{phasedRegistrationNames:{bubbled:\"onBeforeInput\",captured:\"onBeforeInputCapture\"},dependencies:[\"topCompositionEnd\",\"topKeyPress\",\"topTextInput\",\"topPaste\"]},compositionEnd:{phasedRegistrationNames:{bubbled:\"onCompositionEnd\",captured:\"onCompositionEndCapture\"},dependencies:[\"topBlur\",\"topCompositionEnd\",\"topKeyDown\",\"topKeyPress\",\"topKeyUp\",\"topMouseDown\"]},compositionStart:{phasedRegistrationNames:{bubbled:\"onCompositionStart\",captured:\"onCompositionStartCapture\"},dependencies:[\"topBlur\",\"topCompositionStart\",\"topKeyDown\",\"topKeyPress\",\"topKeyUp\",\"topMouseDown\"]},compositionUpdate:{phasedRegistrationNames:{bubbled:\"onCompositionUpdate\",captured:\"onCompositionUpdateCapture\"},dependencies:[\"topBlur\",\"topCompositionUpdate\",\"topKeyDown\",\"topKeyPress\",\"topKeyUp\",\"topMouseDown\"]}},y=!1;function b(t,e){switch(t){case\"topKeyUp\":return-1!==l.indexOf(e.keyCode);case\"topKeyDown\":return e.keyCode!==u;case\"topKeyPress\":case\"topMouseDown\":case\"topBlur\":return!0;default:return!1}}function x(t){var e=t.detail;return\"object\"==typeof e&&\"data\"in e?e.data:null}var w=null;function _(t,e,n,i){var s,l;if(c?s=function(t){switch(t){case\"topCompositionStart\":return g.compositionStart;case\"topCompositionEnd\":return g.compositionEnd;case\"topCompositionUpdate\":return g.compositionUpdate}}(t):w?b(t,n)&&(s=g.compositionEnd):function(t,e){return\"topKeyDown\"===t&&e.keyCode===u}(t,n)&&(s=g.compositionStart),!s)return null;f&&(w||s!==g.compositionStart?s===g.compositionEnd&&w&&(l=w.getData()):w=o.getPooled(i));var h=a.getPooled(s,e,n,i);if(l)h.data=l;else{var p=x(n);null!==p&&(h.data=p)}return r.accumulateTwoPhaseDispatches(h),h}function M(t,e,n,i){var a;if(!(a=d?function(t,e){switch(t){case\"topCompositionEnd\":return x(e);case\"topKeyPress\":return e.which!==m?null:(y=!0,v);case\"topTextInput\":var n=e.data;return n===v&&y?null:n;default:return null}}(t,n):function(t,e){if(w){if(\"topCompositionEnd\"===t||!c&&b(t,e)){var n=w.getData();return o.release(w),w=null,n}return null}switch(t){case\"topPaste\":return null;case\"topKeyPress\":return e.which&&!function(t){return(t.ctrlKey||t.altKey||t.metaKey)&&!(t.ctrlKey&&t.altKey)}(e)?String.fromCharCode(e.which):null;case\"topCompositionEnd\":return f?null:e.data;default:return null}}(t,n)))return null;var l=s.getPooled(g.beforeInput,e,n,i);return l.data=a,r.accumulateTwoPhaseDispatches(l),l}var E={eventTypes:g,extractEvents:function(t,e,n,r){return[_(t,e,n,r),M(t,e,n,r)]}};t.exports=E},function(t,e,n){\"use strict\";var r=n(6),i=n(32),o=n(120);function a(t){this._root=t,this._startText=this.getText(),this._fallbackText=null}r(a.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return\"value\"in this._root?this._root.value:this._root[o()]},getData:function(){if(this._fallbackText)return this._fallbackText;var t,e,n=this._startText,r=n.length,i=this.getText(),o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);var s=e>1?1-e:void 0;return this._fallbackText=i.slice(t,s),this._fallbackText}}),i.addPoolingTo(a),t.exports=a},function(t,e,n){\"use strict\";var r=n(26);function i(t,e,n,i){return r.call(this,t,e,n,i)}r.augmentClass(i,{data:null}),t.exports=i},function(t,e,n){\"use strict\";var r=n(26);function i(t,e,n,i){return r.call(this,t,e,n,i)}r.augmentClass(i,{data:null}),t.exports=i},function(t,e,n){\"use strict\";var r=n(40),i=n(39),o=n(14),a=n(7),s=n(23),l=n(26),u=n(123),c=n(75),h=n(76),p=n(124),d={change:{phasedRegistrationNames:{bubbled:\"onChange\",captured:\"onChangeCapture\"},dependencies:[\"topBlur\",\"topChange\",\"topClick\",\"topFocus\",\"topInput\",\"topKeyDown\",\"topKeyUp\",\"topSelectionChange\"]}};function f(t,e,n){var r=l.getPooled(d.change,t,e,n);return r.type=\"change\",i.accumulateTwoPhaseDispatches(r),r}var m=null,v=null;var g=!1;function y(t){var e=f(v,t,c(t));s.batchedUpdates(b,e)}function b(t){r.enqueueEvents(t),r.processEventQueue(!1)}function x(){m&&(m.detachEvent(\"onchange\",y),m=null,v=null)}function w(t,e){var n=u.updateValueIfChanged(t),r=!0===e.simulated&&L._allowSimulatedPassThrough;if(n||r)return t}function _(t,e){if(\"topChange\"===t)return e}function M(t,e,n){\"topFocus\"===t?(x(),function(t,e){v=e,(m=t).attachEvent(\"onchange\",y)}(e,n)):\"topBlur\"===t&&x()}o.canUseDOM&&(g=h(\"change\")&&(!document.documentMode||document.documentMode>8));var E=!1;function S(){m&&(m.detachEvent(\"onpropertychange\",T),m=null,v=null)}function T(t){\"value\"===t.propertyName&&w(v,t)&&y(t)}function C(t,e,n){\"topFocus\"===t?(S(),function(t,e){v=e,(m=t).attachEvent(\"onpropertychange\",T)}(e,n)):\"topBlur\"===t&&S()}function A(t,e,n){if(\"topSelectionChange\"===t||\"topKeyUp\"===t||\"topKeyDown\"===t)return w(v,n)}function P(t,e,n){if(\"topClick\"===t)return w(e,n)}function R(t,e,n){if(\"topInput\"===t||\"topChange\"===t)return w(e,n)}o.canUseDOM&&(E=h(\"input\")&&(!document.documentMode||document.documentMode>9));var L={eventTypes:d,_allowSimulatedPassThrough:!0,_isInputEventSupported:E,extractEvents:function(t,e,n,r){var i,o,s,l,u=e?a.getNodeFromInstance(e):window;if(\"select\"===(l=(s=u).nodeName&&s.nodeName.toLowerCase())||\"input\"===l&&\"file\"===s.type?g?i=_:o=M:p(u)?E?i=R:(i=A,o=C):function(t){var e=t.nodeName;return e&&\"input\"===e.toLowerCase()&&(\"checkbox\"===t.type||\"radio\"===t.type)}(u)&&(i=P),i){var c=i(t,e,n);if(c)return f(c,n,r)}o&&o(t,u,e),\"topBlur\"===t&&function(t,e){if(null!=t){var n=t._wrapperState||e._wrapperState;if(n&&n.controlled&&\"number\"===e.type){var r=\"\"+e.value;e.getAttribute(\"value\")!==r&&e.setAttribute(\"value\",r)}}}(e,u)}};t.exports=L},function(t,e,n){\"use strict\";var r=n(198),i={};i.attachRefs=function(t,e){if(null!==e&&\"object\"==typeof e){var n=e.ref;null!=n&&function(t,e,n){\"function\"==typeof t?t(e.getPublicInstance()):r.addComponentAsRefTo(e,t,n)}(n,t,e._owner)}},i.shouldUpdateRefs=function(t,e){var n=null,r=null;null!==t&&\"object\"==typeof t&&(n=t.ref,r=t._owner);var i=null,o=null;return null!==e&&\"object\"==typeof e&&(i=e.ref,o=e._owner),n!==i||\"string\"==typeof i&&o!==r},i.detachRefs=function(t,e){if(null!==e&&\"object\"==typeof e){var n=e.ref;null!=n&&function(t,e,n){\"function\"==typeof t?t(null):r.removeComponentAsRefFrom(e,t,n)}(n,t,e._owner)}},t.exports=i},function(t,e,n){\"use strict\";var r=n(5);n(2);function i(t){return!(!t||\"function\"!=typeof t.attachRef||\"function\"!=typeof t.detachRef)}var o={addComponentAsRefTo:function(t,e,n){i(n)||r(\"119\"),n.attachRef(e,t)},removeComponentAsRefFrom:function(t,e,n){i(n)||r(\"120\");var o=n.getPublicInstance();o&&o.refs[e]===t.getPublicInstance()&&n.detachRef(e)}};t.exports=o},function(t,e,n){\"use strict\";t.exports=[\"ResponderEventPlugin\",\"SimpleEventPlugin\",\"TapEventPlugin\",\"EnterLeaveEventPlugin\",\"ChangeEventPlugin\",\"SelectEventPlugin\",\"BeforeInputEventPlugin\"]},function(t,e,n){\"use strict\";var r=n(39),i=n(7),o=n(60),a={mouseEnter:{registrationName:\"onMouseEnter\",dependencies:[\"topMouseOut\",\"topMouseOver\"]},mouseLeave:{registrationName:\"onMouseLeave\",dependencies:[\"topMouseOut\",\"topMouseOver\"]}},s={eventTypes:a,extractEvents:function(t,e,n,s){if(\"topMouseOver\"===t&&(n.relatedTarget||n.fromElement))return null;if(\"topMouseOut\"!==t&&\"topMouseOver\"!==t)return null;var l,u,c;if(s.window===s)l=s;else{var h=s.ownerDocument;l=h?h.defaultView||h.parentWindow:window}if(\"topMouseOut\"===t){u=e;var p=n.relatedTarget||n.toElement;c=p?i.getClosestInstanceFromNode(p):null}else u=null,c=e;if(u===c)return null;var d=null==u?l:i.getNodeFromInstance(u),f=null==c?l:i.getNodeFromInstance(c),m=o.getPooled(a.mouseLeave,u,n,s);m.type=\"mouseleave\",m.target=d,m.relatedTarget=f;var v=o.getPooled(a.mouseEnter,c,n,s);return v.type=\"mouseenter\",v.target=f,v.relatedTarget=d,r.accumulateEnterLeaveDispatches(m,v,u,c),[m,v]}};t.exports=s},function(t,e,n){\"use strict\";var r=n(38),i=r.injection.MUST_USE_PROPERTY,o=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,l=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,u={isCustomAttribute:RegExp.prototype.test.bind(new RegExp(\"^(data|aria)-[\"+r.ATTRIBUTE_NAME_CHAR+\"]*$\")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:o,allowTransparency:0,alt:0,as:0,async:o,autoComplete:0,autoPlay:o,capture:o,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:i|o,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:o,controlsList:0,coords:0,crossOrigin:0,data:0,dateTime:0,default:o,defer:o,dir:0,disabled:o,download:l,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:o,formTarget:0,frameBorder:0,headers:0,height:0,hidden:o,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:o,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:i|o,muted:i|o,name:0,nonce:0,noValidate:o,open:o,optimum:0,pattern:0,placeholder:0,playsInline:o,poster:0,preload:0,profile:0,radioGroup:0,readOnly:o,referrerPolicy:0,rel:0,required:o,reversed:o,role:0,rows:s,rowSpan:a,sandbox:0,scope:0,scoped:o,scrolling:0,seamless:o,selected:i|o,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:a,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:o,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:\"accept-charset\",className:\"class\",htmlFor:\"for\",httpEquiv:\"http-equiv\"},DOMPropertyNames:{},DOMMutationMethods:{value:function(t,e){if(null==e)return t.removeAttribute(\"value\");\"number\"!==t.type||!1===t.hasAttribute(\"value\")?t.setAttribute(\"value\",\"\"+e):t.validity&&!t.validity.badInput&&t.ownerDocument.activeElement!==t&&t.setAttribute(\"value\",\"\"+e)}}};t.exports=u},function(t,e,n){\"use strict\";var r=n(79),i={processChildrenUpdates:n(207).dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup};t.exports=i},function(t,e,n){\"use strict\";var r=n(5),i=n(43),o=n(14),a=n(204),s=n(20),l=(n(2),{dangerouslyReplaceNodeWithMarkup:function(t,e){if(o.canUseDOM||r(\"56\"),e||r(\"57\"),\"HTML\"===t.nodeName&&r(\"58\"),\"string\"==typeof e){var n=a(e,s)[0];t.parentNode.replaceChild(n,t)}else i.replaceChildWithTree(t,e)}});t.exports=l},function(t,e,n){\"use strict\";var r=n(14),i=n(205),o=n(206),a=n(2),s=r.canUseDOM?document.createElement(\"div\"):null,l=/^\\s*<(\\w+)/;t.exports=function(t,e){var n=s;s||a(!1);var r=function(t){var e=t.match(l);return e&&e[1].toLowerCase()}(t),u=r&&o(r);if(u){n.innerHTML=u[1]+t+u[2];for(var c=u[0];c--;)n=n.lastChild}else n.innerHTML=t;var h=n.getElementsByTagName(\"script\");h.length&&(e||a(!1),i(h).forEach(e));for(var p=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return p}},function(t,e,n){\"use strict\";var r=n(2);t.exports=function(t){return function(t){return!!t&&(\"object\"==typeof t||\"function\"==typeof t)&&\"length\"in t&&!(\"setInterval\"in t)&&\"number\"!=typeof t.nodeType&&(Array.isArray(t)||\"callee\"in t||\"item\"in t)}(t)?Array.isArray(t)?t.slice():function(t){var e=t.length;if((Array.isArray(t)||\"object\"!=typeof t&&\"function\"!=typeof t)&&r(!1),\"number\"!=typeof e&&r(!1),0===e||e-1 in t||r(!1),\"function\"==typeof t.callee&&r(!1),t.hasOwnProperty)try{return Array.prototype.slice.call(t)}catch(t){}for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}(t):[t]}},function(t,e,n){\"use strict\";var r=n(14),i=n(2),o=r.canUseDOM?document.createElement(\"div\"):null,a={},s=[1,'<select multiple=\"true\">',\"</select>\"],l=[1,\"<table>\",\"</table>\"],u=[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],c=[1,'<svg xmlns=\"http://www.w3.org/2000/svg\">',\"</svg>\"],h={\"*\":[1,\"?<div>\",\"</div>\"],area:[1,\"<map>\",\"</map>\"],col:[2,\"<table><tbody></tbody><colgroup>\",\"</colgroup></table>\"],legend:[1,\"<fieldset>\",\"</fieldset>\"],param:[1,\"<object>\",\"</object>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],optgroup:s,option:s,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:u,th:u};[\"circle\",\"clipPath\",\"defs\",\"ellipse\",\"g\",\"image\",\"line\",\"linearGradient\",\"mask\",\"path\",\"pattern\",\"polygon\",\"polyline\",\"radialGradient\",\"rect\",\"stop\",\"text\",\"tspan\"].forEach((function(t){h[t]=c,a[t]=!0})),t.exports=function(t){return o||i(!1),h.hasOwnProperty(t)||(t=\"*\"),a.hasOwnProperty(t)||(o.innerHTML=\"*\"===t?\"<link />\":\"<\"+t+\"></\"+t+\">\",a[t]=!o.firstChild),a[t]?h[t]:null}},function(t,e,n){\"use strict\";var r=n(79),i=n(7),o={dangerouslyProcessChildrenUpdates:function(t,e){var n=i.getNodeFromInstance(t);r.processUpdates(n,e)}};t.exports=o},function(t,e,n){\"use strict\";var r=n(5),i=n(6),o=n(209),a=n(210),s=n(43),l=n(80),u=n(38),c=n(128),h=n(40),p=n(73),d=n(63),f=n(117),m=n(7),v=n(220),g=n(222),y=n(129),b=n(223),x=(n(21),n(224)),w=n(231),_=(n(20),n(62)),M=(n(2),n(76),n(52),n(123)),E=(n(87),n(4),f),S=h.deleteListener,T=m.getNodeFromInstance,C=d.listenTo,A=p.registrationNameModules,P={string:!0,number:!0},R=\"__html\",L={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},O=11;function I(t,e){e&&(H[t._tag]&&(null!=e.children||null!=e.dangerouslySetInnerHTML)&&r(\"137\",t._tag,t._currentElement._owner?\" Check the render method of \"+t._currentElement._owner.getName()+\".\":\"\"),null!=e.dangerouslySetInnerHTML&&(null!=e.children&&r(\"60\"),\"object\"==typeof e.dangerouslySetInnerHTML&&R in e.dangerouslySetInnerHTML||r(\"61\")),null!=e.style&&\"object\"!=typeof e.style&&r(\"62\",function(t){if(t){var e=t._currentElement._owner||null;if(e){var n=e.getName();if(n)return\" This DOM node was rendered by `\"+n+\"`.\"}}return\"\"}(t)))}function N(t,e,n,r){if(!(r instanceof w)){0;var i=t._hostContainerInfo,o=i._node&&i._node.nodeType===O?i._node:i._ownerDocument;C(e,o),r.getReactMountReady().enqueue(k,{inst:t,registrationName:e,listener:n})}}function k(){h.putListener(this.inst,this.registrationName,this.listener)}function D(){v.postMountWrapper(this)}function F(){b.postMountWrapper(this)}function B(){g.postMountWrapper(this)}var U={topAbort:\"abort\",topCanPlay:\"canplay\",topCanPlayThrough:\"canplaythrough\",topDurationChange:\"durationchange\",topEmptied:\"emptied\",topEncrypted:\"encrypted\",topEnded:\"ended\",topError:\"error\",topLoadedData:\"loadeddata\",topLoadedMetadata:\"loadedmetadata\",topLoadStart:\"loadstart\",topPause:\"pause\",topPlay:\"play\",topPlaying:\"playing\",topProgress:\"progress\",topRateChange:\"ratechange\",topSeeked:\"seeked\",topSeeking:\"seeking\",topStalled:\"stalled\",topSuspend:\"suspend\",topTimeUpdate:\"timeupdate\",topVolumeChange:\"volumechange\",topWaiting:\"waiting\"};function z(){M.track(this)}function j(){this._rootNodeID||r(\"63\");var t=T(this);switch(t||r(\"64\"),this._tag){case\"iframe\":case\"object\":this._wrapperState.listeners=[d.trapBubbledEvent(\"topLoad\",\"load\",t)];break;case\"video\":case\"audio\":for(var e in this._wrapperState.listeners=[],U)U.hasOwnProperty(e)&&this._wrapperState.listeners.push(d.trapBubbledEvent(e,U[e],t));break;case\"source\":this._wrapperState.listeners=[d.trapBubbledEvent(\"topError\",\"error\",t)];break;case\"img\":this._wrapperState.listeners=[d.trapBubbledEvent(\"topError\",\"error\",t),d.trapBubbledEvent(\"topLoad\",\"load\",t)];break;case\"form\":this._wrapperState.listeners=[d.trapBubbledEvent(\"topReset\",\"reset\",t),d.trapBubbledEvent(\"topSubmit\",\"submit\",t)];break;case\"input\":case\"select\":case\"textarea\":this._wrapperState.listeners=[d.trapBubbledEvent(\"topInvalid\",\"invalid\",t)]}}function V(){y.postUpdateWrapper(this)}var W={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},G={listing:!0,pre:!0,textarea:!0},H=i({menuitem:!0},W),q=/^[a-zA-Z][a-zA-Z:_\\.\\-\\d]*$/,X={},Y={}.hasOwnProperty;function K(t,e){return t.indexOf(\"-\")>=0||null!=e.is}var Z=1;function Q(t){var e=t.type;!function(t){Y.call(X,t)||(q.test(t)||r(\"65\",t),X[t]=!0)}(e),this._currentElement=t,this._tag=e.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}Q.displayName=\"ReactDOMComponent\",Q.Mixin={mountComponent:function(t,e,n,r){this._rootNodeID=Z++,this._domID=n._idCounter++,this._hostParent=e,this._hostContainerInfo=n;var i,a,u,h=this._currentElement.props;switch(this._tag){case\"audio\":case\"form\":case\"iframe\":case\"img\":case\"link\":case\"object\":case\"source\":case\"video\":this._wrapperState={listeners:null},t.getReactMountReady().enqueue(j,this);break;case\"input\":v.mountWrapper(this,h,e),h=v.getHostProps(this,h),t.getReactMountReady().enqueue(z,this),t.getReactMountReady().enqueue(j,this);break;case\"option\":g.mountWrapper(this,h,e),h=g.getHostProps(this,h);break;case\"select\":y.mountWrapper(this,h,e),h=y.getHostProps(this,h),t.getReactMountReady().enqueue(j,this);break;case\"textarea\":b.mountWrapper(this,h,e),h=b.getHostProps(this,h),t.getReactMountReady().enqueue(z,this),t.getReactMountReady().enqueue(j,this)}if(I(this,h),null!=e?(i=e._namespaceURI,a=e._tag):n._tag&&(i=n._namespaceURI,a=n._tag),(null==i||i===l.svg&&\"foreignobject\"===a)&&(i=l.html),i===l.html&&(\"svg\"===this._tag?i=l.svg:\"math\"===this._tag&&(i=l.mathml)),this._namespaceURI=i,t.useCreateElement){var p,d=n._ownerDocument;if(i===l.html)if(\"script\"===this._tag){var f=d.createElement(\"div\"),x=this._currentElement.type;f.innerHTML=\"<\"+x+\"></\"+x+\">\",p=f.removeChild(f.firstChild)}else p=h.is?d.createElement(this._currentElement.type,h.is):d.createElement(this._currentElement.type);else p=d.createElementNS(i,this._currentElement.type);m.precacheNode(this,p),this._flags|=E.hasCachedChildNodes,this._hostParent||c.setAttributeForRoot(p),this._updateDOMProperties(null,h,t);var w=s(p);this._createInitialChildren(t,h,r,w),u=w}else{var _=this._createOpenTagMarkupAndPutListeners(t,h),M=this._createContentMarkup(t,h,r);u=!M&&W[this._tag]?_+\"/>\":_+\">\"+M+\"</\"+this._currentElement.type+\">\"}switch(this._tag){case\"input\":t.getReactMountReady().enqueue(D,this),h.autoFocus&&t.getReactMountReady().enqueue(o.focusDOMComponent,this);break;case\"textarea\":t.getReactMountReady().enqueue(F,this),h.autoFocus&&t.getReactMountReady().enqueue(o.focusDOMComponent,this);break;case\"select\":case\"button\":h.autoFocus&&t.getReactMountReady().enqueue(o.focusDOMComponent,this);break;case\"option\":t.getReactMountReady().enqueue(B,this)}return u},_createOpenTagMarkupAndPutListeners:function(t,e){var n=\"<\"+this._currentElement.type;for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];if(null!=o)if(A.hasOwnProperty(r))o&&N(this,r,o,t);else{\"style\"===r&&(o&&(o=this._previousStyleCopy=i({},e.style)),o=a.createMarkupForStyles(o,this));var s=null;null!=this._tag&&K(this._tag,e)?L.hasOwnProperty(r)||(s=c.createMarkupForCustomAttribute(r,o)):s=c.createMarkupForProperty(r,o),s&&(n+=\" \"+s)}}return t.renderToStaticMarkup?n:(this._hostParent||(n+=\" \"+c.createMarkupForRoot()),n+=\" \"+c.createMarkupForID(this._domID))},_createContentMarkup:function(t,e,n){var r=\"\",i=e.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&(r=i.__html);else{var o=P[typeof e.children]?e.children:null,a=null!=o?null:e.children;if(null!=o)r=_(o);else if(null!=a){r=this.mountChildren(a,t,n).join(\"\")}}return G[this._tag]&&\"\\n\"===r.charAt(0)?\"\\n\"+r:r},_createInitialChildren:function(t,e,n,r){var i=e.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&s.queueHTML(r,i.__html);else{var o=P[typeof e.children]?e.children:null,a=null!=o?null:e.children;if(null!=o)\"\"!==o&&s.queueText(r,o);else if(null!=a)for(var l=this.mountChildren(a,t,n),u=0;u<l.length;u++)s.queueChild(r,l[u])}},receiveComponent:function(t,e,n){var r=this._currentElement;this._currentElement=t,this.updateComponent(e,r,t,n)},updateComponent:function(t,e,n,r){var i=e.props,o=this._currentElement.props;switch(this._tag){case\"input\":i=v.getHostProps(this,i),o=v.getHostProps(this,o);break;case\"option\":i=g.getHostProps(this,i),o=g.getHostProps(this,o);break;case\"select\":i=y.getHostProps(this,i),o=y.getHostProps(this,o);break;case\"textarea\":i=b.getHostProps(this,i),o=b.getHostProps(this,o)}switch(I(this,o),this._updateDOMProperties(i,o,t),this._updateDOMChildren(i,o,t,r),this._tag){case\"input\":v.updateWrapper(this),M.updateValueIfChanged(this);break;case\"textarea\":b.updateWrapper(this);break;case\"select\":t.getReactMountReady().enqueue(V,this)}},_updateDOMProperties:function(t,e,n){var r,o,s;for(r in t)if(!e.hasOwnProperty(r)&&t.hasOwnProperty(r)&&null!=t[r])if(\"style\"===r){var l=this._previousStyleCopy;for(o in l)l.hasOwnProperty(o)&&((s=s||{})[o]=\"\");this._previousStyleCopy=null}else A.hasOwnProperty(r)?t[r]&&S(this,r):K(this._tag,t)?L.hasOwnProperty(r)||c.deleteValueForAttribute(T(this),r):(u.properties[r]||u.isCustomAttribute(r))&&c.deleteValueForProperty(T(this),r);for(r in e){var h=e[r],p=\"style\"===r?this._previousStyleCopy:null!=t?t[r]:void 0;if(e.hasOwnProperty(r)&&h!==p&&(null!=h||null!=p))if(\"style\"===r)if(h?h=this._previousStyleCopy=i({},h):this._previousStyleCopy=null,p){for(o in p)!p.hasOwnProperty(o)||h&&h.hasOwnProperty(o)||((s=s||{})[o]=\"\");for(o in h)h.hasOwnProperty(o)&&p[o]!==h[o]&&((s=s||{})[o]=h[o])}else s=h;else if(A.hasOwnProperty(r))h?N(this,r,h,n):p&&S(this,r);else if(K(this._tag,e))L.hasOwnProperty(r)||c.setValueForAttribute(T(this),r,h);else if(u.properties[r]||u.isCustomAttribute(r)){var d=T(this);null!=h?c.setValueForProperty(d,r,h):c.deleteValueForProperty(d,r)}}s&&a.setValueForStyles(T(this),s,this)},_updateDOMChildren:function(t,e,n,r){var i=P[typeof t.children]?t.children:null,o=P[typeof e.children]?e.children:null,a=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,s=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,l=null!=i?null:t.children,u=null!=o?null:e.children,c=null!=i||null!=a,h=null!=o||null!=s;null!=l&&null==u?this.updateChildren(null,n,r):c&&!h&&this.updateTextContent(\"\"),null!=o?i!==o&&this.updateTextContent(\"\"+o):null!=s?a!==s&&this.updateMarkup(\"\"+s):null!=u&&this.updateChildren(u,n,r)},getHostNode:function(){return T(this)},unmountComponent:function(t){switch(this._tag){case\"audio\":case\"form\":case\"iframe\":case\"img\":case\"link\":case\"object\":case\"source\":case\"video\":var e=this._wrapperState.listeners;if(e)for(var n=0;n<e.length;n++)e[n].remove();break;case\"input\":case\"textarea\":M.stopTracking(this);break;case\"html\":case\"head\":case\"body\":r(\"66\",this._tag)}this.unmountChildren(t),m.uncacheNode(this),h.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return T(this)}},i(Q.prototype,Q.Mixin,x.Mixin),t.exports=Q},function(t,e,n){\"use strict\";var r=n(7),i=n(126),o={focusDOMComponent:function(){i(r.getNodeFromInstance(this))}};t.exports=o},function(t,e,n){\"use strict\";var r=n(127),i=n(14),o=(n(21),n(211),n(213)),a=n(214),s=n(216),l=(n(4),s((function(t){return a(t)}))),u=!1,c=\"cssFloat\";if(i.canUseDOM){var h=document.createElement(\"div\").style;try{h.font=\"\"}catch(t){u=!0}void 0===document.documentElement.style.cssFloat&&(c=\"styleFloat\")}var p={createMarkupForStyles:function(t,e){var n=\"\";for(var r in t)if(t.hasOwnProperty(r)){var i=0===r.indexOf(\"--\"),a=t[r];0,null!=a&&(n+=l(r)+\":\",n+=o(r,a,e,i)+\";\")}return n||null},setValueForStyles:function(t,e,n){var i=t.style;for(var a in e)if(e.hasOwnProperty(a)){var s=0===a.indexOf(\"--\");0;var l=o(a,e[a],n,s);if(\"float\"!==a&&\"cssFloat\"!==a||(a=c),s)i.setProperty(a,l);else if(l)i[a]=l;else{var h=u&&r.shorthandPropertyExpansions[a];if(h)for(var p in h)i[p]=\"\";else i[a]=\"\"}}}};t.exports=p},function(t,e,n){\"use strict\";var r=n(212),i=/^-ms-/;t.exports=function(t){return r(t.replace(i,\"ms-\"))}},function(t,e,n){\"use strict\";var r=/-(.)/g;t.exports=function(t){return t.replace(r,(function(t,e){return e.toUpperCase()}))}},function(t,e,n){\"use strict\";var r=n(127),i=(n(4),r.isUnitlessNumber);t.exports=function(t,e,n,r){if(null==e||\"boolean\"==typeof e||\"\"===e)return\"\";var o=isNaN(e);return r||o||0===e||i.hasOwnProperty(t)&&i[t]?\"\"+e:(\"string\"==typeof e&&(e=e.trim()),e+\"px\")}},function(t,e,n){\"use strict\";var r=n(215),i=/^ms-/;t.exports=function(t){return r(t).replace(i,\"-ms-\")}},function(t,e,n){\"use strict\";var r=/([A-Z])/g;t.exports=function(t){return t.replace(r,\"-$1\").toLowerCase()}},function(t,e,n){\"use strict\";t.exports=function(t){var e={};return function(n){return e.hasOwnProperty(n)||(e[n]=t.call(this,n)),e[n]}}},function(t,e,n){\"use strict\";var r=n(62);t.exports=function(t){return'\"'+r(t)+'\"'}},function(t,e,n){\"use strict\";var r=n(40);var i={handleTopLevel:function(t,e,n,i){!function(t){r.enqueueEvents(t),r.processEventQueue(!1)}(r.extractEvents(t,e,n,i))}};t.exports=i},function(t,e,n){\"use strict\";var r=n(14);function i(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n[\"Webkit\"+t]=\"webkit\"+e,n[\"Moz\"+t]=\"moz\"+e,n[\"ms\"+t]=\"MS\"+e,n[\"O\"+t]=\"o\"+e.toLowerCase(),n}var o={animationend:i(\"Animation\",\"AnimationEnd\"),animationiteration:i(\"Animation\",\"AnimationIteration\"),animationstart:i(\"Animation\",\"AnimationStart\"),transitionend:i(\"Transition\",\"TransitionEnd\")},a={},s={};r.canUseDOM&&(s=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete o.animationend.animation,delete o.animationiteration.animation,delete o.animationstart.animation),\"TransitionEvent\"in window||delete o.transitionend.transition),t.exports=function(t){if(a[t])return a[t];if(!o[t])return t;var e=o[t];for(var n in e)if(e.hasOwnProperty(n)&&n in s)return a[t]=e[n];return\"\"}},function(t,e,n){\"use strict\";var r=n(5),i=n(6),o=n(128),a=n(82),s=n(7),l=n(23);n(2),n(4);function u(){this._rootNodeID&&h.updateWrapper(this)}function c(t){return\"checkbox\"===t.type||\"radio\"===t.type?null!=t.checked:null!=t.value}var h={getHostProps:function(t,e){var n=a.getValue(e),r=a.getChecked(e);return i({type:void 0,step:void 0,min:void 0,max:void 0},e,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:t._wrapperState.initialValue,checked:null!=r?r:t._wrapperState.initialChecked,onChange:t._wrapperState.onChange})},mountWrapper:function(t,e){var n=e.defaultValue;t._wrapperState={initialChecked:null!=e.checked?e.checked:e.defaultChecked,initialValue:null!=e.value?e.value:n,listeners:null,onChange:p.bind(t),controlled:c(e)}},updateWrapper:function(t){var e=t._currentElement.props,n=e.checked;null!=n&&o.setValueForProperty(s.getNodeFromInstance(t),\"checked\",n||!1);var r=s.getNodeFromInstance(t),i=a.getValue(e);if(null!=i)if(0===i&&\"\"===r.value)r.value=\"0\";else if(\"number\"===e.type){var l=parseFloat(r.value,10)||0;(i!=l||i==l&&r.value!=i)&&(r.value=\"\"+i)}else r.value!==\"\"+i&&(r.value=\"\"+i);else null==e.value&&null!=e.defaultValue&&r.defaultValue!==\"\"+e.defaultValue&&(r.defaultValue=\"\"+e.defaultValue),null==e.checked&&null!=e.defaultChecked&&(r.defaultChecked=!!e.defaultChecked)},postMountWrapper:function(t){var e=t._currentElement.props,n=s.getNodeFromInstance(t);switch(e.type){case\"submit\":case\"reset\":break;case\"color\":case\"date\":case\"datetime\":case\"datetime-local\":case\"month\":case\"time\":case\"week\":n.value=\"\",n.value=n.defaultValue;break;default:n.value=n.value}var r=n.name;\"\"!==r&&(n.name=\"\"),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,\"\"!==r&&(n.name=r)}};function p(t){var e=this._currentElement.props,n=a.executeOnChange(e,t);l.asap(u,this);var i=e.name;if(\"radio\"===e.type&&null!=i){for(var o=s.getNodeFromInstance(this),c=o;c.parentNode;)c=c.parentNode;for(var h=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+i)+'][type=\"radio\"]'),p=0;p<h.length;p++){var d=h[p];if(d!==o&&d.form===o.form){var f=s.getInstanceFromNode(d);f||r(\"90\"),l.asap(u,f)}}}return n}t.exports=h},function(t,e,n){\"use strict\";t.exports=\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\"},function(t,e,n){\"use strict\";var r=n(6),i=n(36),o=n(7),a=n(129),s=(n(4),!1);function l(t){var e=\"\";return i.Children.forEach(t,(function(t){null!=t&&(\"string\"==typeof t||\"number\"==typeof t?e+=t:s||(s=!0))})),e}var u={mountWrapper:function(t,e,n){var r=null;if(null!=n){var i=n;\"optgroup\"===i._tag&&(i=i._hostParent),null!=i&&\"select\"===i._tag&&(r=a.getSelectValueContext(i))}var o,s=null;if(null!=r)if(o=null!=e.value?e.value+\"\":l(e.children),s=!1,Array.isArray(r)){for(var u=0;u<r.length;u++)if(\"\"+r[u]===o){s=!0;break}}else s=\"\"+r===o;t._wrapperState={selected:s}},postMountWrapper:function(t){var e=t._currentElement.props;null!=e.value&&o.getNodeFromInstance(t).setAttribute(\"value\",e.value)},getHostProps:function(t,e){var n=r({selected:void 0,children:void 0},e);null!=t._wrapperState.selected&&(n.selected=t._wrapperState.selected);var i=l(e.children);return i&&(n.children=i),n}};t.exports=u},function(t,e,n){\"use strict\";var r=n(5),i=n(6),o=n(82),a=n(7),s=n(23);n(2),n(4);function l(){this._rootNodeID&&u.updateWrapper(this)}var u={getHostProps:function(t,e){return null!=e.dangerouslySetInnerHTML&&r(\"91\"),i({},e,{value:void 0,defaultValue:void 0,children:\"\"+t._wrapperState.initialValue,onChange:t._wrapperState.onChange})},mountWrapper:function(t,e){var n=o.getValue(e),i=n;if(null==n){var a=e.defaultValue,s=e.children;null!=s&&(null!=a&&r(\"92\"),Array.isArray(s)&&(s.length<=1||r(\"93\"),s=s[0]),a=\"\"+s),null==a&&(a=\"\"),i=a}t._wrapperState={initialValue:\"\"+i,listeners:null,onChange:c.bind(t)}},updateWrapper:function(t){var e=t._currentElement.props,n=a.getNodeFromInstance(t),r=o.getValue(e);if(null!=r){var i=\"\"+r;i!==n.value&&(n.value=i),null==e.defaultValue&&(n.defaultValue=i)}null!=e.defaultValue&&(n.defaultValue=e.defaultValue)},postMountWrapper:function(t){var e=a.getNodeFromInstance(t),n=e.textContent;n===t._wrapperState.initialValue&&(e.value=n)}};function c(t){var e=this._currentElement.props,n=o.executeOnChange(e,t);return s.asap(l,this),n}t.exports=u},function(t,e,n){\"use strict\";var r=n(5),i=n(83),o=(n(51),n(21),n(25),n(41)),a=n(225),s=(n(20),n(230));n(2);function l(t,e){return e&&(t=t||[]).push(e),t}function u(t,e){i.processChildrenUpdates(t,e)}var c={Mixin:{_reconcilerInstantiateChildren:function(t,e,n){return a.instantiateChildren(t,e,n)},_reconcilerUpdateChildren:function(t,e,n,r,i,o){var l;return l=s(e,0),a.updateChildren(t,l,n,r,i,this,this._hostContainerInfo,o,0),l},mountChildren:function(t,e,n){var r=this._reconcilerInstantiateChildren(t,e,n);this._renderedChildren=r;var i=[],a=0;for(var s in r)if(r.hasOwnProperty(s)){var l=r[s];0;var u=o.mountComponent(l,e,this,this._hostContainerInfo,n,0);l._mountIndex=a++,i.push(u)}return i},updateTextContent:function(t){var e,n=this._renderedChildren;for(var i in a.unmountChildren(n,!1),n)n.hasOwnProperty(i)&&r(\"118\");u(this,[(e=t,{type:\"TEXT_CONTENT\",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null})])},updateMarkup:function(t){var e,n=this._renderedChildren;for(var i in a.unmountChildren(n,!1),n)n.hasOwnProperty(i)&&r(\"118\");u(this,[(e=t,{type:\"SET_MARKUP\",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null})])},updateChildren:function(t,e,n){this._updateChildren(t,e,n)},_updateChildren:function(t,e,n){var r=this._renderedChildren,i={},a=[],s=this._reconcilerUpdateChildren(r,t,a,i,e,n);if(s||r){var c,h=null,p=0,d=0,f=0,m=null;for(c in s)if(s.hasOwnProperty(c)){var v=r&&r[c],g=s[c];v===g?(h=l(h,this.moveChild(v,m,p,d)),d=Math.max(v._mountIndex,d),v._mountIndex=p):(v&&(d=Math.max(v._mountIndex,d)),h=l(h,this._mountChildAtIndex(g,a[f],m,p,e,n)),f++),p++,m=o.getHostNode(g)}for(c in i)i.hasOwnProperty(c)&&(h=l(h,this._unmountChild(r[c],i[c])));h&&u(this,h),this._renderedChildren=s}},unmountChildren:function(t){var e=this._renderedChildren;a.unmountChildren(e,t),this._renderedChildren=null},moveChild:function(t,e,n,r){if(t._mountIndex<r)return function(t,e,n){return{type:\"MOVE_EXISTING\",content:null,fromIndex:t._mountIndex,fromNode:o.getHostNode(t),toIndex:n,afterNode:e}}(t,e,n)},createChild:function(t,e,n){return function(t,e,n){return{type:\"INSERT_MARKUP\",content:t,fromIndex:null,fromNode:null,toIndex:n,afterNode:e}}(n,e,t._mountIndex)},removeChild:function(t,e){return function(t,e){return{type:\"REMOVE_NODE\",content:null,fromIndex:t._mountIndex,fromNode:e,toIndex:null,afterNode:null}}(t,e)},_mountChildAtIndex:function(t,e,n,r,i,o){return t._mountIndex=r,this.createChild(t,n,e)},_unmountChild:function(t,e){var n=this.removeChild(t,e);return t._mountIndex=null,n}}};t.exports=c},function(t,e,n){\"use strict\";(function(e){var r=n(41),i=n(131),o=(n(85),n(84)),a=n(135);n(4);function s(t,e,n,r){var o=void 0===t[n];null!=e&&o&&(t[n]=i(e,!0))}void 0!==e&&e.env;var l={instantiateChildren:function(t,e,n,r){if(null==t)return null;var i={};return a(t,s,i),i},updateChildren:function(t,e,n,a,s,l,u,c,h){if(e||t){var p,d;for(p in e)if(e.hasOwnProperty(p)){var f=(d=t&&t[p])&&d._currentElement,m=e[p];if(null!=d&&o(f,m))r.receiveComponent(d,m,s,c),e[p]=d;else{d&&(a[p]=r.getHostNode(d),r.unmountComponent(d,!1));var v=i(m,!0);e[p]=v;var g=r.mountComponent(v,s,l,u,c,h);n.push(g)}}for(p in t)!t.hasOwnProperty(p)||e&&e.hasOwnProperty(p)||(d=t[p],a[p]=r.getHostNode(d),r.unmountComponent(d,!1))}},unmountChildren:function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];r.unmountComponent(i,e)}}};t.exports=l}).call(this,n(130))},function(t,e,n){\"use strict\";var r=n(5),i=n(6),o=n(36),a=n(83),s=n(25),l=n(74),u=n(51),c=(n(21),n(132)),h=n(41),p=n(57),d=(n(2),n(52)),f=n(84),m=(n(4),0),v=1,g=2;function y(t){}function b(t,e){0}y.prototype.render=function(){var t=u.get(this)._currentElement.type,e=t(this.props,this.context,this.updater);return b(t,e),e};var x=1,w={construct:function(t){this._currentElement=t,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(t,e,n,i){this._context=i,this._mountOrder=x++,this._hostParent=e,this._hostContainerInfo=n;var a,s=this._currentElement.props,l=this._processContext(i),c=this._currentElement.type,h=t.getUpdateQueue(),d=function(t){return!(!t.prototype||!t.prototype.isReactComponent)}(c),f=this._constructComponent(d,s,l,h);d||null!=f&&null!=f.render?!function(t){return!(!t.prototype||!t.prototype.isPureReactComponent)}(c)?this._compositeType=m:this._compositeType=v:(a=f,b(),null===f||!1===f||o.isValidElement(f)||r(\"105\",c.displayName||c.name||\"Component\"),f=new y(c),this._compositeType=g),f.props=s,f.context=l,f.refs=p,f.updater=h,this._instance=f,u.set(f,this);var w,_=f.state;return void 0===_&&(f.state=_=null),(\"object\"!=typeof _||Array.isArray(_))&&r(\"106\",this.getName()||\"ReactCompositeComponent\"),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,w=f.unstable_handleError?this.performInitialMountWithErrorHandling(a,e,n,t,i):this.performInitialMount(a,e,n,t,i),f.componentDidMount&&t.getReactMountReady().enqueue(f.componentDidMount,f),w},_constructComponent:function(t,e,n,r){return this._constructComponentWithoutOwner(t,e,n,r)},_constructComponentWithoutOwner:function(t,e,n,r){var i=this._currentElement.type;return t?new i(e,n,r):i(e,n,r)},performInitialMountWithErrorHandling:function(t,e,n,r,i){var o,a=r.checkpoint();try{o=this.performInitialMount(t,e,n,r,i)}catch(s){r.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(a),o=this.performInitialMount(t,e,n,r,i)}return o},performInitialMount:function(t,e,n,r,i){var o=this._instance;o.componentWillMount&&(o.componentWillMount(),this._pendingStateQueue&&(o.state=this._processPendingState(o.props,o.context))),void 0===t&&(t=this._renderValidatedComponent());var a=c.getType(t);this._renderedNodeType=a;var s=this._instantiateReactComponent(t,a!==c.EMPTY);return this._renderedComponent=s,h.mountComponent(s,r,e,n,this._processChildContext(i),0)},getHostNode:function(){return h.getHostNode(this._renderedComponent)},unmountComponent:function(t){if(this._renderedComponent){var e=this._instance;if(e.componentWillUnmount&&!e._calledComponentWillUnmount)if(e._calledComponentWillUnmount=!0,t){var n=this.getName()+\".componentWillUnmount()\";l.invokeGuardedCallback(n,e.componentWillUnmount.bind(e))}else e.componentWillUnmount();this._renderedComponent&&(h.unmountComponent(this._renderedComponent,t),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,u.remove(e)}},_maskContext:function(t){var e=this._currentElement.type.contextTypes;if(!e)return p;var n={};for(var r in e)n[r]=t[r];return n},_processContext:function(t){return this._maskContext(t)},_processChildContext:function(t){var e,n=this._currentElement.type,o=this._instance;if(o.getChildContext&&(e=o.getChildContext()),e){for(var a in\"object\"!=typeof n.childContextTypes&&r(\"107\",this.getName()||\"ReactCompositeComponent\"),e)a in n.childContextTypes||r(\"108\",this.getName()||\"ReactCompositeComponent\",a);return i({},t,e)}return t},_checkContextTypes:function(t,e,n){0},receiveComponent:function(t,e,n){var r=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(e,r,t,i,n)},performUpdateIfNecessary:function(t){null!=this._pendingElement?h.receiveComponent(this,this._pendingElement,t,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(t,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(t,e,n,i,o){var a=this._instance;null==a&&r(\"136\",this.getName()||\"ReactCompositeComponent\");var s,l=!1;this._context===o?s=a.context:(s=this._processContext(o),l=!0);var u=e.props,c=n.props;e!==n&&(l=!0),l&&a.componentWillReceiveProps&&a.componentWillReceiveProps(c,s);var h=this._processPendingState(c,s),p=!0;this._pendingForceUpdate||(a.shouldComponentUpdate?p=a.shouldComponentUpdate(c,h,s):this._compositeType===v&&(p=!d(u,c)||!d(a.state,h))),this._updateBatchNumber=null,p?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,c,h,s,t,o)):(this._currentElement=n,this._context=o,a.props=c,a.state=h,a.context=s)},_processPendingState:function(t,e){var n=this._instance,r=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(o&&1===r.length)return r[0];for(var a=i({},o?r[0]:n.state),s=o?1:0;s<r.length;s++){var l=r[s];i(a,\"function\"==typeof l?l.call(n,a,t,e):l)}return a},_performComponentUpdate:function(t,e,n,r,i,o){var a,s,l,u=this._instance,c=Boolean(u.componentDidUpdate);c&&(a=u.props,s=u.state,l=u.context),u.componentWillUpdate&&u.componentWillUpdate(e,n,r),this._currentElement=t,this._context=o,u.props=e,u.state=n,u.context=r,this._updateRenderedComponent(i,o),c&&i.getReactMountReady().enqueue(u.componentDidUpdate.bind(u,a,s,l),u)},_updateRenderedComponent:function(t,e){var n=this._renderedComponent,r=n._currentElement,i=this._renderValidatedComponent();if(f(r,i))h.receiveComponent(n,i,t,this._processChildContext(e));else{var o=h.getHostNode(n);h.unmountComponent(n,!1);var a=c.getType(i);this._renderedNodeType=a;var s=this._instantiateReactComponent(i,a!==c.EMPTY);this._renderedComponent=s;var l=h.mountComponent(s,t,this._hostParent,this._hostContainerInfo,this._processChildContext(e),0);this._replaceNodeWithMarkup(o,l,n)}},_replaceNodeWithMarkup:function(t,e,n){a.replaceNodeWithMarkup(t,e,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){return this._instance.render()},_renderValidatedComponent:function(){var t;if(this._compositeType!==g){s.current=this;try{t=this._renderValidatedComponentWithoutOwnerOrContext()}finally{s.current=null}}else t=this._renderValidatedComponentWithoutOwnerOrContext();return null===t||!1===t||o.isValidElement(t)||r(\"109\",this.getName()||\"ReactCompositeComponent\"),t},attachRef:function(t,e){var n=this.getPublicInstance();null==n&&r(\"110\");var i=e.getPublicInstance();(n.refs===p?n.refs={}:n.refs)[t]=i},detachRef:function(t){delete this.getPublicInstance().refs[t]},getName:function(){var t=this._currentElement.type,e=this._instance&&this._instance.constructor;return t.displayName||e&&e.displayName||t.name||e&&e.name||null},getPublicInstance:function(){var t=this._instance;return this._compositeType===g?null:t},_instantiateReactComponent:null};t.exports=w},function(t,e,n){\"use strict\";var r=1;t.exports=function(){return r++}},function(t,e,n){\"use strict\";var r=\"function\"==typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103;t.exports=r},function(t,e,n){\"use strict\";var r=\"function\"==typeof Symbol&&Symbol.iterator,i=\"@@iterator\";t.exports=function(t){var e=t&&(r&&t[r]||t[i]);if(\"function\"==typeof e)return e}},function(t,e,n){\"use strict\";(function(e){n(85);var r=n(135);n(4);function i(t,e,n,r){if(t&&\"object\"==typeof t){var i=t;0,void 0===i[n]&&null!=e&&(i[n]=e)}}void 0!==e&&e.env,t.exports=function(t,e){if(null==t)return t;var n={};return r(t,i,n),n}}).call(this,n(130))},function(t,e,n){\"use strict\";var r=n(6),i=n(32),o=n(59),a=(n(21),n(232)),s=[];var l={enqueue:function(){}};function u(t){this.reinitializeTransaction(),this.renderToStaticMarkup=t,this.useCreateElement=!1,this.updateQueue=new a(this)}var c={getTransactionWrappers:function(){return s},getReactMountReady:function(){return l},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};r(u.prototype,o,c),i.addPoolingTo(u),t.exports=u},function(t,e,n){\"use strict\";var r=n(86);n(4);var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.transaction=e}return t.prototype.isMounted=function(t){return!1},t.prototype.enqueueCallback=function(t,e,n){this.transaction.isInTransaction()&&r.enqueueCallback(t,e,n)},t.prototype.enqueueForceUpdate=function(t){this.transaction.isInTransaction()&&r.enqueueForceUpdate(t)},t.prototype.enqueueReplaceState=function(t,e){this.transaction.isInTransaction()&&r.enqueueReplaceState(t,e)},t.prototype.enqueueSetState=function(t,e){this.transaction.isInTransaction()&&r.enqueueSetState(t,e)},t}();t.exports=i},function(t,e,n){\"use strict\";var r=n(6),i=n(43),o=n(7),a=function(t){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};r(a.prototype,{mountComponent:function(t,e,n,r){var a=n._idCounter++;this._domID=a,this._hostParent=e,this._hostContainerInfo=n;var s=\" react-empty: \"+this._domID+\" \";if(t.useCreateElement){var l=n._ownerDocument.createComment(s);return o.precacheNode(this,l),i(l)}return t.renderToStaticMarkup?\"\":\"\\x3c!--\"+s+\"--\\x3e\"},receiveComponent:function(){},getHostNode:function(){return o.getNodeFromInstance(this)},unmountComponent:function(){o.uncacheNode(this)}}),t.exports=a},function(t,e,n){\"use strict\";var r=n(5);n(2);function i(t,e){\"_hostNode\"in t||r(\"33\"),\"_hostNode\"in e||r(\"33\");for(var n=0,i=t;i;i=i._hostParent)n++;for(var o=0,a=e;a;a=a._hostParent)o++;for(;n-o>0;)t=t._hostParent,n--;for(;o-n>0;)e=e._hostParent,o--;for(var s=n;s--;){if(t===e)return t;t=t._hostParent,e=e._hostParent}return null}t.exports={isAncestor:function(t,e){\"_hostNode\"in t||r(\"35\"),\"_hostNode\"in e||r(\"35\");for(;e;){if(e===t)return!0;e=e._hostParent}return!1},getLowestCommonAncestor:i,getParentInstance:function(t){return\"_hostNode\"in t||r(\"36\"),t._hostParent},traverseTwoPhase:function(t,e,n){for(var r,i=[];t;)i.push(t),t=t._hostParent;for(r=i.length;r-- >0;)e(i[r],\"captured\",n);for(r=0;r<i.length;r++)e(i[r],\"bubbled\",n)},traverseEnterLeave:function(t,e,n,r,o){for(var a=t&&e?i(t,e):null,s=[];t&&t!==a;)s.push(t),t=t._hostParent;for(var l,u=[];e&&e!==a;)u.push(e),e=e._hostParent;for(l=0;l<s.length;l++)n(s[l],\"bubbled\",r);for(l=u.length;l-- >0;)n(u[l],\"captured\",o)}}},function(t,e,n){\"use strict\";var r=n(5),i=n(6),o=n(79),a=n(43),s=n(7),l=n(62),u=(n(2),n(87),function(t){this._currentElement=t,this._stringText=\"\"+t,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});i(u.prototype,{mountComponent:function(t,e,n,r){var i=n._idCounter++,o=\" react-text: \"+i+\" \";if(this._domID=i,this._hostParent=e,t.useCreateElement){var u=n._ownerDocument,c=u.createComment(o),h=u.createComment(\" /react-text \"),p=a(u.createDocumentFragment());return a.queueChild(p,a(c)),this._stringText&&a.queueChild(p,a(u.createTextNode(this._stringText))),a.queueChild(p,a(h)),s.precacheNode(this,c),this._closingComment=h,p}var d=l(this._stringText);return t.renderToStaticMarkup?d:\"\\x3c!--\"+o+\"--\\x3e\"+d+\"\\x3c!-- /react-text --\\x3e\"},receiveComponent:function(t,e){if(t!==this._currentElement){this._currentElement=t;var n=\"\"+t;if(n!==this._stringText){this._stringText=n;var r=this.getHostNode();o.replaceDelimitedText(r[0],r[1],n)}}},getHostNode:function(){var t=this._commentNodes;if(t)return t;if(!this._closingComment)for(var e=s.getNodeFromInstance(this).nextSibling;;){if(null==e&&r(\"67\",this._domID),8===e.nodeType&&\" /react-text \"===e.nodeValue){this._closingComment=e;break}e=e.nextSibling}return t=[this._hostNode,this._closingComment],this._commentNodes=t,t},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),t.exports=u},function(t,e,n){\"use strict\";var r=n(6),i=n(23),o=n(59),a=n(20),s={initialize:a,close:function(){h.isBatchingUpdates=!1}},l=[{initialize:a,close:i.flushBatchedUpdates.bind(i)},s];function u(){this.reinitializeTransaction()}r(u.prototype,o,{getTransactionWrappers:function(){return l}});var c=new u,h={isBatchingUpdates:!1,batchedUpdates:function(t,e,n,r,i,o){var a=h.isBatchingUpdates;return h.isBatchingUpdates=!0,a?t(e,n,r,i,o):c.perform(t,null,e,n,r,i,o)}};t.exports=h},function(t,e,n){\"use strict\";var r=n(6),i=n(137),o=n(14),a=n(32),s=n(7),l=n(23),u=n(75),c=n(238);function h(t){for(;t._hostParent;)t=t._hostParent;var e=s.getNodeFromInstance(t).parentNode;return s.getClosestInstanceFromNode(e)}function p(t,e){this.topLevelType=t,this.nativeEvent=e,this.ancestors=[]}function d(t){var e=u(t.nativeEvent),n=s.getClosestInstanceFromNode(e),r=n;do{t.ancestors.push(r),r=r&&h(r)}while(r);for(var i=0;i<t.ancestors.length;i++)n=t.ancestors[i],m._handleTopLevel(t.topLevelType,n,t.nativeEvent,u(t.nativeEvent))}function f(t){t(c(window))}r(p.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),a.addPoolingTo(p,a.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:o.canUseDOM?window:null,setHandleTopLevel:function(t){m._handleTopLevel=t},setEnabled:function(t){m._enabled=!!t},isEnabled:function(){return m._enabled},trapBubbledEvent:function(t,e,n){return n?i.listen(n,e,m.dispatchEvent.bind(null,t)):null},trapCapturedEvent:function(t,e,n){return n?i.capture(n,e,m.dispatchEvent.bind(null,t)):null},monitorScrollValue:function(t){var e=f.bind(null,t);i.listen(window,\"scroll\",e)},dispatchEvent:function(t,e){if(m._enabled){var n=p.getPooled(t,e);try{l.batchedUpdates(d,n)}finally{p.release(n)}}}};t.exports=m},function(t,e,n){\"use strict\";t.exports=function(t){return t.Window&&t instanceof t.Window?{x:t.pageXOffset||t.document.documentElement.scrollLeft,y:t.pageYOffset||t.document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}},function(t,e,n){\"use strict\";var r=n(38),i=n(40),o=n(58),a=n(83),s=n(133),l=n(63),u=n(134),c=n(23),h={Component:a.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:i.injection,EventPluginUtils:o.injection,EventEmitter:l.injection,HostComponent:u.injection,Updates:c.injection};t.exports=h},function(t,e,n){\"use strict\";var r=n(6),i=n(121),o=n(32),a=n(63),s=n(138),l=(n(21),n(59)),u=n(86),c=[{initialize:s.getSelectionInformation,close:s.restoreSelection},{initialize:function(){var t=a.isEnabled();return a.setEnabled(!1),t},close:function(t){a.setEnabled(t)}},{initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}}];function h(t){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.useCreateElement=t}var p={getTransactionWrappers:function(){return c},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return u},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(t){this.reactMountReady.rollback(t)},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};r(h.prototype,l,p),o.addPoolingTo(h),t.exports=h},function(t,e,n){\"use strict\";var r=n(14),i=n(242),o=n(120);function a(t,e,n,r){return t===n&&e===r}var s=r.canUseDOM&&\"selection\"in document&&!(\"getSelection\"in window),l={getOffsets:s?function(t){var e=document.selection.createRange(),n=e.text.length,r=e.duplicate();r.moveToElementText(t),r.setEndPoint(\"EndToStart\",e);var i=r.text.length;return{start:i,end:i+n}}:function(t){var e=window.getSelection&&window.getSelection();if(!e||0===e.rangeCount)return null;var n=e.anchorNode,r=e.anchorOffset,i=e.focusNode,o=e.focusOffset,s=e.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(t){return null}var l=a(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)?0:s.toString().length,u=s.cloneRange();u.selectNodeContents(t),u.setEnd(s.startContainer,s.startOffset);var c=a(u.startContainer,u.startOffset,u.endContainer,u.endOffset)?0:u.toString().length,h=c+l,p=document.createRange();p.setStart(n,r),p.setEnd(i,o);var d=p.collapsed;return{start:d?h:c,end:d?c:h}},setOffsets:s?function(t,e){var n,r,i=document.selection.createRange().duplicate();void 0===e.end?r=n=e.start:e.start>e.end?(n=e.end,r=e.start):(n=e.start,r=e.end),i.moveToElementText(t),i.moveStart(\"character\",n),i.setEndPoint(\"EndToStart\",i),i.moveEnd(\"character\",r-n),i.select()}:function(t,e){if(window.getSelection){var n=window.getSelection(),r=t[o()].length,a=Math.min(e.start,r),s=void 0===e.end?a:Math.min(e.end,r);if(!n.extend&&a>s){var l=s;s=a,a=l}var u=i(t,a),c=i(t,s);if(u&&c){var h=document.createRange();h.setStart(u.node,u.offset),n.removeAllRanges(),a>s?(n.addRange(h),n.extend(c.node,c.offset)):(h.setEnd(c.node,c.offset),n.addRange(h))}}}};t.exports=l},function(t,e,n){\"use strict\";function r(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function i(t){for(;t;){if(t.nextSibling)return t.nextSibling;t=t.parentNode}}t.exports=function(t,e){for(var n=r(t),o=0,a=0;n;){if(3===n.nodeType){if(a=o+n.textContent.length,o<=e&&a>=e)return{node:n,offset:e-o};o=a}n=r(i(n))}}},function(t,e,n){\"use strict\";var r=n(244);t.exports=function t(e,n){return!(!e||!n)&&(e===n||!r(e)&&(r(n)?t(e,n.parentNode):\"contains\"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}},function(t,e,n){\"use strict\";var r=n(245);t.exports=function(t){return r(t)&&3==t.nodeType}},function(t,e,n){\"use strict\";t.exports=function(t){var e=(t?t.ownerDocument||t:document).defaultView||window;return!(!t||!(\"function\"==typeof e.Node?t instanceof e.Node:\"object\"==typeof t&&\"number\"==typeof t.nodeType&&\"string\"==typeof t.nodeName))}},function(t,e,n){\"use strict\";var r=\"http://www.w3.org/1999/xlink\",i=\"http://www.w3.org/XML/1998/namespace\",o={accentHeight:\"accent-height\",accumulate:0,additive:0,alignmentBaseline:\"alignment-baseline\",allowReorder:\"allowReorder\",alphabetic:0,amplitude:0,arabicForm:\"arabic-form\",ascent:0,attributeName:\"attributeName\",attributeType:\"attributeType\",autoReverse:\"autoReverse\",azimuth:0,baseFrequency:\"baseFrequency\",baseProfile:\"baseProfile\",baselineShift:\"baseline-shift\",bbox:0,begin:0,bias:0,by:0,calcMode:\"calcMode\",capHeight:\"cap-height\",clip:0,clipPath:\"clip-path\",clipRule:\"clip-rule\",clipPathUnits:\"clipPathUnits\",colorInterpolation:\"color-interpolation\",colorInterpolationFilters:\"color-interpolation-filters\",colorProfile:\"color-profile\",colorRendering:\"color-rendering\",contentScriptType:\"contentScriptType\",contentStyleType:\"contentStyleType\",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:\"diffuseConstant\",direction:0,display:0,divisor:0,dominantBaseline:\"dominant-baseline\",dur:0,dx:0,dy:0,edgeMode:\"edgeMode\",elevation:0,enableBackground:\"enable-background\",end:0,exponent:0,externalResourcesRequired:\"externalResourcesRequired\",fill:0,fillOpacity:\"fill-opacity\",fillRule:\"fill-rule\",filter:0,filterRes:\"filterRes\",filterUnits:\"filterUnits\",floodColor:\"flood-color\",floodOpacity:\"flood-opacity\",focusable:0,fontFamily:\"font-family\",fontSize:\"font-size\",fontSizeAdjust:\"font-size-adjust\",fontStretch:\"font-stretch\",fontStyle:\"font-style\",fontVariant:\"font-variant\",fontWeight:\"font-weight\",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:\"glyph-name\",glyphOrientationHorizontal:\"glyph-orientation-horizontal\",glyphOrientationVertical:\"glyph-orientation-vertical\",glyphRef:\"glyphRef\",gradientTransform:\"gradientTransform\",gradientUnits:\"gradientUnits\",hanging:0,horizAdvX:\"horiz-adv-x\",horizOriginX:\"horiz-origin-x\",ideographic:0,imageRendering:\"image-rendering\",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:\"kernelMatrix\",kernelUnitLength:\"kernelUnitLength\",kerning:0,keyPoints:\"keyPoints\",keySplines:\"keySplines\",keyTimes:\"keyTimes\",lengthAdjust:\"lengthAdjust\",letterSpacing:\"letter-spacing\",lightingColor:\"lighting-color\",limitingConeAngle:\"limitingConeAngle\",local:0,markerEnd:\"marker-end\",markerMid:\"marker-mid\",markerStart:\"marker-start\",markerHeight:\"markerHeight\",markerUnits:\"markerUnits\",markerWidth:\"markerWidth\",mask:0,maskContentUnits:\"maskContentUnits\",maskUnits:\"maskUnits\",mathematical:0,mode:0,numOctaves:\"numOctaves\",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:\"overline-position\",overlineThickness:\"overline-thickness\",paintOrder:\"paint-order\",panose1:\"panose-1\",pathLength:\"pathLength\",patternContentUnits:\"patternContentUnits\",patternTransform:\"patternTransform\",patternUnits:\"patternUnits\",pointerEvents:\"pointer-events\",points:0,pointsAtX:\"pointsAtX\",pointsAtY:\"pointsAtY\",pointsAtZ:\"pointsAtZ\",preserveAlpha:\"preserveAlpha\",preserveAspectRatio:\"preserveAspectRatio\",primitiveUnits:\"primitiveUnits\",r:0,radius:0,refX:\"refX\",refY:\"refY\",renderingIntent:\"rendering-intent\",repeatCount:\"repeatCount\",repeatDur:\"repeatDur\",requiredExtensions:\"requiredExtensions\",requiredFeatures:\"requiredFeatures\",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:\"shape-rendering\",slope:0,spacing:0,specularConstant:\"specularConstant\",specularExponent:\"specularExponent\",speed:0,spreadMethod:\"spreadMethod\",startOffset:\"startOffset\",stdDeviation:\"stdDeviation\",stemh:0,stemv:0,stitchTiles:\"stitchTiles\",stopColor:\"stop-color\",stopOpacity:\"stop-opacity\",strikethroughPosition:\"strikethrough-position\",strikethroughThickness:\"strikethrough-thickness\",string:0,stroke:0,strokeDasharray:\"stroke-dasharray\",strokeDashoffset:\"stroke-dashoffset\",strokeLinecap:\"stroke-linecap\",strokeLinejoin:\"stroke-linejoin\",strokeMiterlimit:\"stroke-miterlimit\",strokeOpacity:\"stroke-opacity\",strokeWidth:\"stroke-width\",surfaceScale:\"surfaceScale\",systemLanguage:\"systemLanguage\",tableValues:\"tableValues\",targetX:\"targetX\",targetY:\"targetY\",textAnchor:\"text-anchor\",textDecoration:\"text-decoration\",textRendering:\"text-rendering\",textLength:\"textLength\",to:0,transform:0,u1:0,u2:0,underlinePosition:\"underline-position\",underlineThickness:\"underline-thickness\",unicode:0,unicodeBidi:\"unicode-bidi\",unicodeRange:\"unicode-range\",unitsPerEm:\"units-per-em\",vAlphabetic:\"v-alphabetic\",vHanging:\"v-hanging\",vIdeographic:\"v-ideographic\",vMathematical:\"v-mathematical\",values:0,vectorEffect:\"vector-effect\",version:0,vertAdvY:\"vert-adv-y\",vertOriginX:\"vert-origin-x\",vertOriginY:\"vert-origin-y\",viewBox:\"viewBox\",viewTarget:\"viewTarget\",visibility:0,widths:0,wordSpacing:\"word-spacing\",writingMode:\"writing-mode\",x:0,xHeight:\"x-height\",x1:0,x2:0,xChannelSelector:\"xChannelSelector\",xlinkActuate:\"xlink:actuate\",xlinkArcrole:\"xlink:arcrole\",xlinkHref:\"xlink:href\",xlinkRole:\"xlink:role\",xlinkShow:\"xlink:show\",xlinkTitle:\"xlink:title\",xlinkType:\"xlink:type\",xmlBase:\"xml:base\",xmlns:0,xmlnsXlink:\"xmlns:xlink\",xmlLang:\"xml:lang\",xmlSpace:\"xml:space\",y:0,y1:0,y2:0,yChannelSelector:\"yChannelSelector\",z:0,zoomAndPan:\"zoomAndPan\"},a={Properties:{},DOMAttributeNamespaces:{xlinkActuate:r,xlinkArcrole:r,xlinkHref:r,xlinkRole:r,xlinkShow:r,xlinkTitle:r,xlinkType:r,xmlBase:i,xmlLang:i,xmlSpace:i},DOMAttributeNames:{}};Object.keys(o).forEach((function(t){a.Properties[t]=0,o[t]&&(a.DOMAttributeNames[t]=o[t])})),t.exports=a},function(t,e,n){\"use strict\";var r=n(39),i=n(14),o=n(7),a=n(138),s=n(26),l=n(139),u=n(124),c=n(52),h=i.canUseDOM&&\"documentMode\"in document&&document.documentMode<=11,p={select:{phasedRegistrationNames:{bubbled:\"onSelect\",captured:\"onSelectCapture\"},dependencies:[\"topBlur\",\"topContextMenu\",\"topFocus\",\"topKeyDown\",\"topKeyUp\",\"topMouseDown\",\"topMouseUp\",\"topSelectionChange\"]}},d=null,f=null,m=null,v=!1,g=!1;function y(t,e){if(v||null==d||d!==l())return null;var n=function(t){if(\"selectionStart\"in t&&a.hasSelectionCapabilities(t))return{start:t.selectionStart,end:t.selectionEnd};if(window.getSelection){var e=window.getSelection();return{anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}(d);if(!m||!c(m,n)){m=n;var i=s.getPooled(p.select,f,t,e);return i.type=\"select\",i.target=d,r.accumulateTwoPhaseDispatches(i),i}return null}var b={eventTypes:p,extractEvents:function(t,e,n,r){if(!g)return null;var i=e?o.getNodeFromInstance(e):window;switch(t){case\"topFocus\":(u(i)||\"true\"===i.contentEditable)&&(d=i,f=e,m=null);break;case\"topBlur\":d=null,f=null,m=null;break;case\"topMouseDown\":v=!0;break;case\"topContextMenu\":case\"topMouseUp\":return v=!1,y(n,r);case\"topSelectionChange\":if(h)break;case\"topKeyDown\":case\"topKeyUp\":return y(n,r)}return null},didPutListener:function(t,e,n){\"onSelect\"===e&&(g=!0)}};t.exports=b},function(t,e,n){\"use strict\";var r=n(5),i=n(137),o=n(39),a=n(7),s=n(249),l=n(250),u=n(26),c=n(251),h=n(252),p=n(60),d=n(254),f=n(255),m=n(256),v=n(42),g=n(257),y=n(20),b=n(88),x=(n(2),{}),w={};[\"abort\",\"animationEnd\",\"animationIteration\",\"animationStart\",\"blur\",\"canPlay\",\"canPlayThrough\",\"click\",\"contextMenu\",\"copy\",\"cut\",\"doubleClick\",\"drag\",\"dragEnd\",\"dragEnter\",\"dragExit\",\"dragLeave\",\"dragOver\",\"dragStart\",\"drop\",\"durationChange\",\"emptied\",\"encrypted\",\"ended\",\"error\",\"focus\",\"input\",\"invalid\",\"keyDown\",\"keyPress\",\"keyUp\",\"load\",\"loadedData\",\"loadedMetadata\",\"loadStart\",\"mouseDown\",\"mouseMove\",\"mouseOut\",\"mouseOver\",\"mouseUp\",\"paste\",\"pause\",\"play\",\"playing\",\"progress\",\"rateChange\",\"reset\",\"scroll\",\"seeked\",\"seeking\",\"stalled\",\"submit\",\"suspend\",\"timeUpdate\",\"touchCancel\",\"touchEnd\",\"touchMove\",\"touchStart\",\"transitionEnd\",\"volumeChange\",\"waiting\",\"wheel\"].forEach((function(t){var e=t[0].toUpperCase()+t.slice(1),n=\"on\"+e,r=\"top\"+e,i={phasedRegistrationNames:{bubbled:n,captured:n+\"Capture\"},dependencies:[r]};x[t]=i,w[r]=i}));var _={};function M(t){return\".\"+t._rootNodeID}function E(t){return\"button\"===t||\"input\"===t||\"select\"===t||\"textarea\"===t}var S={eventTypes:x,extractEvents:function(t,e,n,i){var a,y=w[t];if(!y)return null;switch(t){case\"topAbort\":case\"topCanPlay\":case\"topCanPlayThrough\":case\"topDurationChange\":case\"topEmptied\":case\"topEncrypted\":case\"topEnded\":case\"topError\":case\"topInput\":case\"topInvalid\":case\"topLoad\":case\"topLoadedData\":case\"topLoadedMetadata\":case\"topLoadStart\":case\"topPause\":case\"topPlay\":case\"topPlaying\":case\"topProgress\":case\"topRateChange\":case\"topReset\":case\"topSeeked\":case\"topSeeking\":case\"topStalled\":case\"topSubmit\":case\"topSuspend\":case\"topTimeUpdate\":case\"topVolumeChange\":case\"topWaiting\":a=u;break;case\"topKeyPress\":if(0===b(n))return null;case\"topKeyDown\":case\"topKeyUp\":a=h;break;case\"topBlur\":case\"topFocus\":a=c;break;case\"topClick\":if(2===n.button)return null;case\"topDoubleClick\":case\"topMouseDown\":case\"topMouseMove\":case\"topMouseUp\":case\"topMouseOut\":case\"topMouseOver\":case\"topContextMenu\":a=p;break;case\"topDrag\":case\"topDragEnd\":case\"topDragEnter\":case\"topDragExit\":case\"topDragLeave\":case\"topDragOver\":case\"topDragStart\":case\"topDrop\":a=d;break;case\"topTouchCancel\":case\"topTouchEnd\":case\"topTouchMove\":case\"topTouchStart\":a=f;break;case\"topAnimationEnd\":case\"topAnimationIteration\":case\"topAnimationStart\":a=s;break;case\"topTransitionEnd\":a=m;break;case\"topScroll\":a=v;break;case\"topWheel\":a=g;break;case\"topCopy\":case\"topCut\":case\"topPaste\":a=l}a||r(\"86\",t);var x=a.getPooled(y,e,n,i);return o.accumulateTwoPhaseDispatches(x),x},didPutListener:function(t,e,n){if(\"onClick\"===e&&!E(t._tag)){var r=M(t),o=a.getNodeFromInstance(t);_[r]||(_[r]=i.listen(o,\"click\",y))}},willDeleteListener:function(t,e){if(\"onClick\"===e&&!E(t._tag)){var n=M(t);_[n].remove(),delete _[n]}}};t.exports=S},function(t,e,n){\"use strict\";var r=n(26);function i(t,e,n,i){return r.call(this,t,e,n,i)}r.augmentClass(i,{animationName:null,elapsedTime:null,pseudoElement:null}),t.exports=i},function(t,e,n){\"use strict\";var r=n(26),i={clipboardData:function(t){return\"clipboardData\"in t?t.clipboardData:window.clipboardData}};function o(t,e,n,i){return r.call(this,t,e,n,i)}r.augmentClass(o,i),t.exports=o},function(t,e,n){\"use strict\";var r=n(42);function i(t,e,n,i){return r.call(this,t,e,n,i)}r.augmentClass(i,{relatedTarget:null}),t.exports=i},function(t,e,n){\"use strict\";var r=n(42),i=n(88),o={key:n(253),location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:n(78),charCode:function(t){return\"keypress\"===t.type?i(t):0},keyCode:function(t){return\"keydown\"===t.type||\"keyup\"===t.type?t.keyCode:0},which:function(t){return\"keypress\"===t.type?i(t):\"keydown\"===t.type||\"keyup\"===t.type?t.keyCode:0}};function a(t,e,n,i){return r.call(this,t,e,n,i)}r.augmentClass(a,o),t.exports=a},function(t,e,n){\"use strict\";var r=n(88),i={Esc:\"Escape\",Spacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},o={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"};t.exports=function(t){if(t.key){var e=i[t.key]||t.key;if(\"Unidentified\"!==e)return e}if(\"keypress\"===t.type){var n=r(t);return 13===n?\"Enter\":String.fromCharCode(n)}return\"keydown\"===t.type||\"keyup\"===t.type?o[t.keyCode]||\"Unidentified\":\"\"}},function(t,e,n){\"use strict\";var r=n(60);function i(t,e,n,i){return r.call(this,t,e,n,i)}r.augmentClass(i,{dataTransfer:null}),t.exports=i},function(t,e,n){\"use strict\";var r=n(42),i={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:n(78)};function o(t,e,n,i){return r.call(this,t,e,n,i)}r.augmentClass(o,i),t.exports=o},function(t,e,n){\"use strict\";var r=n(26);function i(t,e,n,i){return r.call(this,t,e,n,i)}r.augmentClass(i,{propertyName:null,elapsedTime:null,pseudoElement:null}),t.exports=i},function(t,e,n){\"use strict\";var r=n(60);function i(t,e,n,i){return r.call(this,t,e,n,i)}r.augmentClass(i,{deltaX:function(t){return\"deltaX\"in t?t.deltaX:\"wheelDeltaX\"in t?-t.wheelDeltaX:0},deltaY:function(t){return\"deltaY\"in t?t.deltaY:\"wheelDeltaY\"in t?-t.wheelDeltaY:\"wheelDelta\"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),t.exports=i},function(t,e,n){\"use strict\";n(87);var r=9;t.exports=function(t,e){return{_topLevelWrapper:t,_idCounter:1,_ownerDocument:e?e.nodeType===r?e:e.ownerDocument:null,_node:e,_tag:e?e.nodeName.toLowerCase():null,_namespaceURI:e?e.namespaceURI:null}}},function(t,e,n){\"use strict\";t.exports={useCreateElement:!0,useFiber:!1}},function(t,e,n){\"use strict\";var r=n(261),i=/\\/?>/,o=/^<\\!\\-\\-/,a={CHECKSUM_ATTR_NAME:\"data-react-checksum\",addChecksumToMarkup:function(t){var e=r(t);return o.test(t)?t:t.replace(i,\" \"+a.CHECKSUM_ATTR_NAME+'=\"'+e+'\"$&')},canReuseMarkup:function(t,e){var n=e.getAttribute(a.CHECKSUM_ATTR_NAME);return n=n&&parseInt(n,10),r(t)===n}};t.exports=a},function(t,e,n){\"use strict\";var r=65521;t.exports=function(t){for(var e=1,n=0,i=0,o=t.length,a=-4&o;i<a;){for(var s=Math.min(i+4096,a);i<s;i+=4)n+=(e+=t.charCodeAt(i))+(e+=t.charCodeAt(i+1))+(e+=t.charCodeAt(i+2))+(e+=t.charCodeAt(i+3));e%=r,n%=r}for(;i<o;i++)n+=e+=t.charCodeAt(i);return(e%=r)|(n%=r)<<16}},function(t,e,n){\"use strict\";t.exports=\"15.6.2\"},function(t,e,n){\"use strict\";var r=n(5),i=(n(25),n(7)),o=n(51),a=n(141);n(2),n(4);t.exports=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=o.get(t);if(e)return(e=a(e))?i.getNodeFromInstance(e):null;\"function\"==typeof t.render?r(\"44\"):r(\"45\",Object.keys(t))}},function(t,e,n){\"use strict\";var r=n(140);t.exports=r.renderSubtreeIntoContainer},function(t,e,n){\"use strict\";var r=n(116);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error(\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types\");throw s.name=\"Invariant Violation\",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,\"loaded\",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,\"id\",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,\"exports\",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e){t.exports=function(t,e){if(t&&e-t<750)return!0}},function(t,e,n){\"use strict\";var r=n(269),i=n(58),o=n(39),a=n(42),s=n(270),l=n(77),u=n(271),c=(r.topLevelTypes,i.isStartish),h=i.isEndish,p=function(t){return[\"topTouchCancel\",\"topTouchEnd\",\"topTouchStart\",\"topTouchMove\"].indexOf(t)>=0},d=10,f=750,m={x:null,y:null},v=null,g={x:{page:\"pageX\",client:\"clientX\",envScroll:\"currentPageScrollLeft\"},y:{page:\"pageY\",client:\"clientY\",envScroll:\"currentPageScrollTop\"}};function y(t,e){var n=s.extractSingleTouch(e);return n?n[t.page]:t.page in e?e[t.page]:e[t.client]+l[t.envScroll]}var b=[\"topMouseDown\",\"topMouseMove\",\"topMouseUp\"].concat([\"topTouchStart\",\"topTouchCancel\",\"topTouchEnd\",\"topTouchMove\"]),x={touchTap:{phasedRegistrationNames:{bubbled:u({onTouchTap:null}),captured:u({onTouchTapCapture:null})},dependencies:b}},w=Date.now?Date.now:function(){return+new Date};t.exports=function(t){return{tapMoveThreshold:d,ignoreMouseThreshold:f,eventTypes:x,extractEvents:function(e,n,r,i){if(!c(e)&&!h(e))return null;if(p(e))v=w();else if(t(v,w()))return null;var s=null,l=function(t,e){var n=y(g.x,e),r=y(g.y,e);return Math.pow(Math.pow(n-t.x,2)+Math.pow(r-t.y,2),.5)}(m,r);return h(e)&&l<d&&(s=a.getPooled(x.touchTap,n,r,i)),c(e)?(m.x=y(g.x,r),m.y=y(g.y,r)):h(e)&&(m.x=0,m.y=0),o.accumulateTwoPhaseDispatches(s),s}}}},function(t,e,n){\"use strict\";var r={topLevelTypes:{topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null}};t.exports=r},function(t,e){t.exports={extractSingleTouch:function(t){var e=t.touches,n=t.changedTouches,r=e&&e.length>0,i=n&&n.length>0;return!r&&i?n[0]:r?e[0]:t}}},function(t,e,n){\"use strict\";t.exports=function(t){var e;for(e in t)if(t.hasOwnProperty(e))return e;return null}},function(t,e,n){n(273),t.exports=n(17).Object.getPrototypeOf},function(t,e,n){var r=n(44),i=n(142);n(143)(\"getPrototypeOf\",(function(){return function(t){return i(r(t))}}))},function(t,e){t.exports=function(t){if(\"function\"!=typeof t)throw TypeError(t+\" is not a function!\");return t}},function(t,e,n){n(276);var r=n(17).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(29);r(r.S+r.F*!n(31),\"Object\",{defineProperty:n(30).f})},function(t,e,n){t.exports={default:n(278),__esModule:!0}},function(t,e,n){n(147),n(285),t.exports=n(100).f(\"iterator\")},function(t,e,n){var r=n(95),i=n(90);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),l=r(n),u=s.length;return l<0||l>=u?t?\"\":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(t,e,n){\"use strict\";var r=n(96),i=n(53),o=n(99),a={};n(45)(a,n(24)(\"iterator\"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+\" Iterator\")}},function(t,e,n){var r=n(30),i=n(46),o=n(55);t.exports=n(31)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,l=0;s>l;)r.f(t,n=a[l++],e[n]);return t}},function(t,e,n){var r=n(49),i=n(152),o=n(283);t.exports=function(t){return function(e,n,a){var s,l=r(e),u=i(l.length),c=o(a,u);if(t&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var r=n(95),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(28).document;t.exports=r&&r.documentElement},function(t,e,n){n(286);for(var r=n(28),i=n(45),o=n(54),a=n(24)(\"toStringTag\"),s=\"CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList\".split(\",\"),l=0;l<s.length;l++){var u=s[l],c=r[u],h=c&&c.prototype;h&&!h[a]&&i(h,a,u),o[u]=o.Array}},function(t,e,n){\"use strict\";var r=n(287),i=n(288),o=n(54),a=n(49);t.exports=n(148)(Array,\"Array\",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,\"keys\"==e?n:\"values\"==e?t[n]:[n,t[n]])}),\"values\"),o.Arguments=o.Array,r(\"keys\"),r(\"values\"),r(\"entries\")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){t.exports={default:n(290),__esModule:!0}},function(t,e,n){n(291),n(296),n(297),n(298),t.exports=n(17).Symbol},function(t,e,n){\"use strict\";var r=n(28),i=n(33),o=n(31),a=n(29),s=n(149),l=n(292).KEY,u=n(48),c=n(92),h=n(99),p=n(65),d=n(24),f=n(100),m=n(101),v=n(293),g=n(294),y=n(46),b=n(47),x=n(44),w=n(49),_=n(94),M=n(53),E=n(96),S=n(295),T=n(154),C=n(102),A=n(30),P=n(55),R=T.f,L=A.f,O=S.f,I=r.Symbol,N=r.JSON,k=N&&N.stringify,D=d(\"_hidden\"),F=d(\"toPrimitive\"),B={}.propertyIsEnumerable,U=c(\"symbol-registry\"),z=c(\"symbols\"),j=c(\"op-symbols\"),V=Object.prototype,W=\"function\"==typeof I&&!!C.f,G=r.QObject,H=!G||!G.prototype||!G.prototype.findChild,q=o&&u((function(){return 7!=E(L({},\"a\",{get:function(){return L(this,\"a\",{value:7}).a}})).a}))?function(t,e,n){var r=R(V,e);r&&delete V[e],L(t,e,n),r&&t!==V&&L(V,e,r)}:L,X=function(t){var e=z[t]=E(I.prototype);return e._k=t,e},Y=W&&\"symbol\"==typeof I.iterator?function(t){return\"symbol\"==typeof t}:function(t){return t instanceof I},K=function(t,e,n){return t===V&&K(j,e,n),y(t),e=_(e,!0),y(n),i(z,e)?(n.enumerable?(i(t,D)&&t[D][e]&&(t[D][e]=!1),n=E(n,{enumerable:M(0,!1)})):(i(t,D)||L(t,D,M(1,{})),t[D][e]=!0),q(t,e,n)):L(t,e,n)},Z=function(t,e){y(t);for(var n,r=v(e=w(e)),i=0,o=r.length;o>i;)K(t,n=r[i++],e[n]);return t},Q=function(t){var e=B.call(this,t=_(t,!0));return!(this===V&&i(z,t)&&!i(j,t))&&(!(e||!i(this,t)||!i(z,t)||i(this,D)&&this[D][t])||e)},J=function(t,e){if(t=w(t),e=_(e,!0),t!==V||!i(z,e)||i(j,e)){var n=R(t,e);return!n||!i(z,e)||i(t,D)&&t[D][e]||(n.enumerable=!0),n}},$=function(t){for(var e,n=O(w(t)),r=[],o=0;n.length>o;)i(z,e=n[o++])||e==D||e==l||r.push(e);return r},tt=function(t){for(var e,n=t===V,r=O(n?j:w(t)),o=[],a=0;r.length>a;)!i(z,e=r[a++])||n&&!i(V,e)||o.push(z[e]);return o};W||(s((I=function(){if(this instanceof I)throw TypeError(\"Symbol is not a constructor!\");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===V&&e.call(j,n),i(this,D)&&i(this[D],t)&&(this[D][t]=!1),q(this,t,M(1,n))};return o&&H&&q(V,t,{configurable:!0,set:e}),X(t)}).prototype,\"toString\",(function(){return this._k})),T.f=J,A.f=K,n(153).f=S.f=$,n(67).f=Q,C.f=tt,o&&!n(64)&&s(V,\"propertyIsEnumerable\",Q,!0),f.f=function(t){return X(d(t))}),a(a.G+a.W+a.F*!W,{Symbol:I});for(var et=\"hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables\".split(\",\"),nt=0;et.length>nt;)d(et[nt++]);for(var rt=P(d.store),it=0;rt.length>it;)m(rt[it++]);a(a.S+a.F*!W,\"Symbol\",{for:function(t){return i(U,t+=\"\")?U[t]:U[t]=I(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+\" is not a symbol!\");for(var e in U)if(U[e]===t)return e},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!W,\"Object\",{create:function(t,e){return void 0===e?E(t):Z(E(t),e)},defineProperty:K,defineProperties:Z,getOwnPropertyDescriptor:J,getOwnPropertyNames:$,getOwnPropertySymbols:tt});var ot=u((function(){C.f(1)}));a(a.S+a.F*ot,\"Object\",{getOwnPropertySymbols:function(t){return C.f(x(t))}}),N&&a(a.S+a.F*(!W||u((function(){var t=I();return\"[null]\"!=k([t])||\"{}\"!=k({a:t})||\"{}\"!=k(Object(t))}))),\"JSON\",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(b(e)||void 0!==t)&&!Y(t))return g(e)||(e=function(t,e){if(\"function\"==typeof n&&(e=n.call(this,t,e)),!Y(e))return e}),r[1]=e,k.apply(N,r)}}),I.prototype[F]||n(45)(I.prototype,F,I.prototype.valueOf),h(I,\"Symbol\"),h(Math,\"Math\",!0),h(r.JSON,\"JSON\",!0)},function(t,e,n){var r=n(65)(\"meta\"),i=n(47),o=n(33),a=n(30).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(48)((function(){return l(Object.preventExtensions({}))})),c=function(t){a(t,r,{value:{i:\"O\"+ ++s,w:{}}})},h=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return\"symbol\"==typeof t?t:(\"string\"==typeof t?\"S\":\"P\")+t;if(!o(t,r)){if(!l(t))return\"F\";if(!e)return\"E\";c(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!l(t))return!0;if(!e)return!1;c(t)}return t[r].w},onFreeze:function(t){return u&&h.NEED&&l(t)&&!o(t,r)&&c(t),t}}},function(t,e,n){var r=n(55),i=n(102),o=n(67);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),l=o.f,u=0;s.length>u;)l.call(t,a=s[u++])&&e.push(a);return e}},function(t,e,n){var r=n(97);t.exports=Array.isArray||function(t){return\"Array\"==r(t)}},function(t,e,n){var r=n(49),i=n(153).f,o={}.toString,a=\"object\"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&\"[object Window]\"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},function(t,e){},function(t,e,n){n(101)(\"asyncIterator\")},function(t,e,n){n(101)(\"observable\")},function(t,e,n){t.exports={default:n(300),__esModule:!0}},function(t,e,n){n(301),t.exports=n(17).Object.setPrototypeOf},function(t,e,n){var r=n(29);r(r.S,\"Object\",{setPrototypeOf:n(302).set})},function(t,e,n){var r=n(47),i=n(46),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+\": can't set as prototype!\")};t.exports={set:Object.setPrototypeOf||(\"__proto__\"in{}?function(t,e,r){try{(r=n(93)(Function.call,n(154).f(Object.prototype,\"__proto__\").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){t.exports={default:n(304),__esModule:!0}},function(t,e,n){n(305);var r=n(17).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(29);r(r.S,\"Object\",{create:n(96)})},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=f(n(155));e.default=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),f=1;f<e;f++)n[f-1]=arguments[f];var m=t=i.default.apply(void 0,[{zIndex:s.default,isRtl:!1,userAgent:void 0},a.default,t].concat(n)),v=m.spacing,g=m.fontFamily,y=m.palette,b={spacing:v,fontFamily:g,palette:y};t=(0,i.default)({appBar:{color:y.primary1Color,textColor:y.alternateTextColor,height:v.desktopKeylineIncrement,titleFontWeight:p.default.fontWeightNormal,padding:v.desktopGutter},avatar:{color:y.canvasColor,backgroundColor:(0,o.emphasize)(y.canvasColor,.26)},badge:{color:y.alternateTextColor,textColor:y.textColor,primaryColor:y.primary1Color,primaryTextColor:y.alternateTextColor,secondaryColor:y.accent1Color,secondaryTextColor:y.alternateTextColor,fontWeight:p.default.fontWeightMedium},bottomNavigation:{backgroundColor:y.canvasColor,unselectedColor:(0,o.fade)(y.textColor,.54),selectedColor:y.primary1Color,height:56,unselectedFontSize:12,selectedFontSize:14},button:{height:36,minWidth:88,iconButtonSize:2*v.iconSize},card:{titleColor:(0,o.fade)(y.textColor,.87),subtitleColor:(0,o.fade)(y.textColor,.54),fontWeight:p.default.fontWeightMedium},cardMedia:{color:d.darkWhite,overlayContentBackground:d.lightBlack,titleColor:d.darkWhite,subtitleColor:d.lightWhite},cardText:{textColor:y.textColor},checkbox:{boxColor:y.textColor,checkedColor:y.primary1Color,requiredColor:y.primary1Color,disabledColor:y.disabledColor,labelColor:y.textColor,labelDisabledColor:y.disabledColor},chip:{backgroundColor:(0,o.emphasize)(y.canvasColor,.12),deleteIconColor:(0,o.fade)(y.textColor,.26),textColor:(0,o.fade)(y.textColor,.87),fontSize:14,fontWeight:p.default.fontWeightNormal,shadow:\"0 1px 6px \"+(0,o.fade)(y.shadowColor,.12)+\",\\n        0 1px 4px \"+(0,o.fade)(y.shadowColor,.12)},datePicker:{color:y.primary1Color,textColor:y.alternateTextColor,calendarTextColor:y.textColor,selectColor:y.primary2Color,selectTextColor:y.alternateTextColor,calendarYearBackgroundColor:y.canvasColor},dialog:{titleFontSize:22,bodyFontSize:16,bodyColor:(0,o.fade)(y.textColor,.6)},dropDownMenu:{accentColor:y.borderColor},enhancedButton:{tapHighlightColor:d.transparent},flatButton:{color:d.transparent,buttonFilterColor:\"#999999\",disabledTextColor:(0,o.fade)(y.textColor,.3),textColor:y.textColor,primaryTextColor:y.primary1Color,secondaryTextColor:y.accent1Color,fontSize:p.default.fontStyleButtonFontSize,fontWeight:p.default.fontWeightMedium},floatingActionButton:{buttonSize:56,miniSize:40,color:y.primary1Color,iconColor:y.alternateTextColor,secondaryColor:y.accent1Color,secondaryIconColor:y.alternateTextColor,disabledTextColor:y.disabledColor,disabledColor:(0,o.emphasize)(y.canvasColor,.12)},gridTile:{textColor:d.white},icon:{color:y.canvasColor,backgroundColor:y.primary1Color},inkBar:{backgroundColor:y.accent1Color},drawer:{width:4*v.desktopKeylineIncrement,color:y.canvasColor},listItem:{nestedLevelDepth:18,secondaryTextColor:y.secondaryTextColor,leftIconColor:d.grey600,rightIconColor:d.grey600},menu:{backgroundColor:y.canvasColor,containerBackgroundColor:y.canvasColor},menuItem:{dataHeight:32,height:48,hoverColor:(0,o.fade)(y.textColor,.1),padding:v.desktopGutter,selectedTextColor:y.accent1Color,rightIconDesktopFill:d.grey600},menuSubheader:{padding:v.desktopGutter,borderColor:y.borderColor,textColor:y.primary1Color},overlay:{backgroundColor:d.lightBlack},paper:{color:y.textColor,backgroundColor:y.canvasColor,zDepthShadows:[[1,6,.12,1,4,.12],[3,10,.16,3,10,.23],[10,30,.19,6,10,.23],[14,45,.25,10,18,.22],[19,60,.3,15,20,.22]].map((function(t){return\"0 \"+t[0]+\"px \"+t[1]+\"px \"+(0,o.fade)(y.shadowColor,t[2])+\",\\n         0 \"+t[3]+\"px \"+t[4]+\"px \"+(0,o.fade)(y.shadowColor,t[5])}))},radioButton:{borderColor:y.textColor,backgroundColor:y.alternateTextColor,checkedColor:y.primary1Color,requiredColor:y.primary1Color,disabledColor:y.disabledColor,size:24,labelColor:y.textColor,labelDisabledColor:y.disabledColor},raisedButton:{color:y.alternateTextColor,textColor:y.textColor,primaryColor:y.primary1Color,primaryTextColor:y.alternateTextColor,secondaryColor:y.accent1Color,secondaryTextColor:y.alternateTextColor,disabledColor:(0,o.darken)(y.alternateTextColor,.1),disabledTextColor:(0,o.fade)(y.textColor,.3),fontSize:p.default.fontStyleButtonFontSize,fontWeight:p.default.fontWeightMedium},refreshIndicator:{strokeColor:y.borderColor,loadingStrokeColor:y.primary1Color},ripple:{color:(0,o.fade)(y.textColor,.87)},slider:{trackSize:2,trackColor:y.primary3Color,trackColorSelected:y.accent3Color,handleSize:12,handleSizeDisabled:8,handleSizeActive:18,handleColorZero:y.primary3Color,handleFillColor:y.alternateTextColor,selectionColor:y.primary1Color,rippleColor:y.primary1Color},snackbar:{textColor:y.alternateTextColor,backgroundColor:y.textColor,actionColor:y.accent1Color},subheader:{color:(0,o.fade)(y.textColor,.54),fontWeight:p.default.fontWeightMedium},stepper:{backgroundColor:\"transparent\",hoverBackgroundColor:(0,o.fade)(d.black,.06),iconColor:y.primary1Color,hoveredIconColor:d.grey700,inactiveIconColor:d.grey500,textColor:(0,o.fade)(d.black,.87),disabledTextColor:(0,o.fade)(d.black,.26),connectorLineColor:d.grey400},svgIcon:{color:y.textColor},table:{backgroundColor:y.canvasColor},tableFooter:{borderColor:y.borderColor,textColor:y.accent3Color},tableHeader:{borderColor:y.borderColor},tableHeaderColumn:{textColor:y.accent3Color,height:56,spacing:24},tableRow:{hoverColor:y.accent2Color,stripeColor:(0,o.fade)((0,o.lighten)(y.primary1Color,.5),.4),selectedColor:y.borderColor,textColor:y.textColor,borderColor:y.borderColor,height:48},tableRowColumn:{height:48,spacing:24},tabs:{backgroundColor:y.primary1Color,textColor:(0,o.fade)(y.alternateTextColor,.7),selectedTextColor:y.alternateTextColor},textField:{textColor:y.textColor,hintColor:y.disabledColor,floatingLabelColor:y.disabledColor,disabledTextColor:y.disabledColor,errorColor:d.red500,focusColor:y.primary1Color,backgroundColor:\"transparent\",borderColor:y.borderColor},timePicker:{color:y.alternateTextColor,textColor:y.alternateTextColor,accentColor:y.primary1Color,clockColor:y.textColor,clockCircleColor:y.clockCircleColor,headerColor:y.pickerHeaderColor||y.primary1Color,selectColor:y.primary2Color,selectTextColor:y.alternateTextColor},toggle:{thumbOnColor:y.primary1Color,thumbOffColor:y.accent2Color,thumbDisabledColor:y.borderColor,thumbRequiredColor:y.primary1Color,trackOnColor:(0,o.fade)(y.primary1Color,.5),trackOffColor:y.primary3Color,trackDisabledColor:y.primary3Color,labelColor:y.textColor,labelDisabledColor:y.disabledColor,trackRequiredColor:(0,o.fade)(y.primary1Color,.5)},toolbar:{color:(0,o.fade)(y.textColor,.54),hoverColor:(0,o.fade)(y.textColor,.87),backgroundColor:(0,o.darken)(y.accent2Color,.05),height:56,titleFontSize:20,iconColor:(0,o.fade)(y.textColor,.4),separatorColor:(0,o.fade)(y.textColor,.175),menuHoverColor:(0,o.fade)(y.textColor,.1)},tooltip:{color:d.white,rippleBackgroundColor:d.grey700}},t,{baseTheme:b,rawTheme:b});var x=[l.default,c.default,u.default].map((function(e){return e(t)})).filter((function(t){return t}));return t.prepareStyles=h.default.apply(void 0,(0,r.default)(x)),t};var i=f(n(315)),o=n(103),a=f(n(317)),s=f(n(319)),l=f(n(320)),u=f(n(349)),c=f(n(350)),h=f(n(353)),p=f(n(354)),d=n(104);function f(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){n(147),n(308),t.exports=n(17).Array.from},function(t,e,n){\"use strict\";var r=n(93),i=n(29),o=n(44),a=n(309),s=n(310),l=n(152),u=n(311),c=n(312);i(i.S+i.F*!n(314)((function(t){Array.from(t)})),\"Array\",{from:function(t){var e,n,i,h,p=o(t),d=\"function\"==typeof this?this:Array,f=arguments.length,m=f>1?arguments[1]:void 0,v=void 0!==m,g=0,y=c(p);if(v&&(m=r(m,f>2?arguments[2]:void 0,2)),null==y||d==Array&&s(y))for(n=new d(e=l(p.length));e>g;g++)u(n,g,v?m(p[g],g):p[g]);else for(h=y.call(p),n=new d;!(i=h.next()).done;g++)u(n,g,v?a(h,m,[i.value,g],!0):i.value);return n.length=g,n}})},function(t,e,n){var r=n(46);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(54),i=n(24)(\"iterator\"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){\"use strict\";var r=n(30),i=n(53);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(313),i=n(24)(\"iterator\"),o=n(54);t.exports=n(17).getIteratorMethod=function(t){if(null!=t)return t[i]||t[\"@@iterator\"]||o[r(t)]}},function(t,e,n){var r=n(97),i=n(24)(\"toStringTag\"),o=\"Arguments\"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?\"Undefined\":null===t?\"Null\":\"string\"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):\"Object\"==(a=r(e))&&\"function\"==typeof e.callee?\"Arguments\":a}},function(t,e,n){var r=n(24)(\"iterator\"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){(function(t,n){var r=200,i=\"__lodash_hash_undefined__\",o=800,a=16,s=9007199254740991,l=\"[object Arguments]\",u=\"[object AsyncFunction]\",c=\"[object Function]\",h=\"[object GeneratorFunction]\",p=\"[object Null]\",d=\"[object Object]\",f=\"[object Proxy]\",m=\"[object Undefined]\",v=/^\\[object .+?Constructor\\]$/,g=/^(?:0|[1-9]\\d*)$/,y={};y[\"[object Float32Array]\"]=y[\"[object Float64Array]\"]=y[\"[object Int8Array]\"]=y[\"[object Int16Array]\"]=y[\"[object Int32Array]\"]=y[\"[object Uint8Array]\"]=y[\"[object Uint8ClampedArray]\"]=y[\"[object Uint16Array]\"]=y[\"[object Uint32Array]\"]=!0,y[l]=y[\"[object Array]\"]=y[\"[object ArrayBuffer]\"]=y[\"[object Boolean]\"]=y[\"[object DataView]\"]=y[\"[object Date]\"]=y[\"[object Error]\"]=y[c]=y[\"[object Map]\"]=y[\"[object Number]\"]=y[d]=y[\"[object RegExp]\"]=y[\"[object Set]\"]=y[\"[object String]\"]=y[\"[object WeakMap]\"]=!1;var b=\"object\"==typeof t&&t&&t.Object===Object&&t,x=\"object\"==typeof self&&self&&self.Object===Object&&self,w=b||x||Function(\"return this\")(),_=e&&!e.nodeType&&e,M=_&&\"object\"==typeof n&&n&&!n.nodeType&&n,E=M&&M.exports===_,S=E&&b.process,T=function(){try{var t=M&&M.require&&M.require(\"util\").types;return t||S&&S.binding&&S.binding(\"util\")}catch(t){}}(),C=T&&T.isTypedArray;function A(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var P,R,L,O=Array.prototype,I=Function.prototype,N=Object.prototype,k=w[\"__core-js_shared__\"],D=I.toString,F=N.hasOwnProperty,B=(P=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+P:\"\",U=N.toString,z=D.call(Object),j=RegExp(\"^\"+D.call(F).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),V=E?w.Buffer:void 0,W=w.Symbol,G=w.Uint8Array,H=V?V.allocUnsafe:void 0,q=(R=Object.getPrototypeOf,L=Object,function(t){return R(L(t))}),X=Object.create,Y=N.propertyIsEnumerable,K=O.splice,Z=W?W.toStringTag:void 0,Q=function(){try{var t=_t(Object,\"defineProperty\");return t({},\"\",{}),t}catch(t){}}(),J=V?V.isBuffer:void 0,$=Math.max,tt=Date.now,et=_t(w,\"Map\"),nt=_t(Object,\"create\"),rt=function(){function t(){}return function(e){if(!Nt(e))return{};if(X)return X(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function it(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ot(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function at(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function st(t){var e=this.__data__=new ot(t);this.size=e.size}function lt(t,e){var n=Pt(t),r=!n&&At(t),i=!n&&!r&&Lt(t),o=!n&&!r&&!i&&Dt(t),a=n||r||i||o,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],l=s.length;for(var u in t)!e&&!F.call(t,u)||a&&(\"length\"==u||i&&(\"offset\"==u||\"parent\"==u)||o&&(\"buffer\"==u||\"byteLength\"==u||\"byteOffset\"==u)||Mt(u,l))||s.push(u);return s}function ut(t,e,n){(void 0===n||Ct(t[e],n))&&(void 0!==n||e in t)||pt(t,e,n)}function ct(t,e,n){var r=t[e];F.call(t,e)&&Ct(r,n)&&(void 0!==n||e in t)||pt(t,e,n)}function ht(t,e){for(var n=t.length;n--;)if(Ct(t[n][0],e))return n;return-1}function pt(t,e,n){\"__proto__\"==e&&Q?Q(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}it.prototype.clear=function(){this.__data__=nt?nt(null):{},this.size=0},it.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},it.prototype.get=function(t){var e=this.__data__;if(nt){var n=e[t];return n===i?void 0:n}return F.call(e,t)?e[t]:void 0},it.prototype.has=function(t){var e=this.__data__;return nt?void 0!==e[t]:F.call(e,t)},it.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=nt&&void 0===e?i:e,this},ot.prototype.clear=function(){this.__data__=[],this.size=0},ot.prototype.delete=function(t){var e=this.__data__,n=ht(e,t);return!(n<0)&&(n==e.length-1?e.pop():K.call(e,n,1),--this.size,!0)},ot.prototype.get=function(t){var e=this.__data__,n=ht(e,t);return n<0?void 0:e[n][1]},ot.prototype.has=function(t){return ht(this.__data__,t)>-1},ot.prototype.set=function(t,e){var n=this.__data__,r=ht(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},at.prototype.clear=function(){this.size=0,this.__data__={hash:new it,map:new(et||ot),string:new it}},at.prototype.delete=function(t){var e=wt(this,t).delete(t);return this.size-=e?1:0,e},at.prototype.get=function(t){return wt(this,t).get(t)},at.prototype.has=function(t){return wt(this,t).has(t)},at.prototype.set=function(t,e){var n=wt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},st.prototype.clear=function(){this.__data__=new ot,this.size=0},st.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},st.prototype.get=function(t){return this.__data__.get(t)},st.prototype.has=function(t){return this.__data__.has(t)},st.prototype.set=function(t,e){var n=this.__data__;if(n instanceof ot){var i=n.__data__;if(!et||i.length<r-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new at(i)}return n.set(t,e),this.size=n.size,this};var dt,ft=function(t,e,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var s=o[dt?a:++r];if(!1===e(i[s],s,i))break}return t};function mt(t){return null==t?void 0===t?m:p:Z&&Z in Object(t)?function(t){var e=F.call(t,Z),n=t[Z];try{t[Z]=void 0;var r=!0}catch(t){}var i=U.call(t);r&&(e?t[Z]=n:delete t[Z]);return i}(t):function(t){return U.call(t)}(t)}function vt(t){return kt(t)&&mt(t)==l}function gt(t){return!(!Nt(t)||function(t){return!!B&&B in t}(t))&&(Ot(t)?j:v).test(function(t){if(null!=t){try{return D.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"}(t))}function yt(t){if(!Nt(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=Et(t),n=[];for(var r in t)(\"constructor\"!=r||!e&&F.call(t,r))&&n.push(r);return n}function bt(t,e,n,r,i){t!==e&&ft(e,(function(o,a){if(i||(i=new st),Nt(o))!function(t,e,n,r,i,o,a){var s=St(t,n),l=St(e,n),u=a.get(l);if(u)return void ut(t,n,u);var c=o?o(s,l,n+\"\",t,e,a):void 0,h=void 0===c;if(h){var p=Pt(l),f=!p&&Lt(l),m=!p&&!f&&Dt(l);c=l,p||f||m?Pt(s)?c=s:kt(x=s)&&Rt(x)?c=function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(s):f?(h=!1,c=function(t,e){if(e)return t.slice();var n=t.length,r=H?H(n):new t.constructor(n);return t.copy(r),r}(l,!0)):m?(h=!1,v=l,g=!0?(y=v.buffer,b=new y.constructor(y.byteLength),new G(b).set(new G(y)),b):v.buffer,c=new v.constructor(g,v.byteOffset,v.length)):c=[]:function(t){if(!kt(t)||mt(t)!=d)return!1;var e=q(t);if(null===e)return!0;var n=F.call(e,\"constructor\")&&e.constructor;return\"function\"==typeof n&&n instanceof n&&D.call(n)==z}(l)||At(l)?(c=s,At(s)?c=function(t){return function(t,e,n,r){var i=!n;n||(n={});var o=-1,a=e.length;for(;++o<a;){var s=e[o],l=r?r(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),i?pt(n,s,l):ct(n,s,l)}return n}(t,Ft(t))}(s):Nt(s)&&!Ot(s)||(c=function(t){return\"function\"!=typeof t.constructor||Et(t)?{}:rt(q(t))}(l))):h=!1}var v,g,y,b;var x;h&&(a.set(l,c),i(c,l,r,o,a),a.delete(l));ut(t,n,c)}(t,e,a,n,bt,r,i);else{var s=r?r(St(t,a),o,a+\"\",t,e,i):void 0;void 0===s&&(s=o),ut(t,a,s)}}),Ft)}function xt(t,e){return Tt(function(t,e,n){return e=$(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=$(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),A(t,this,s)}}(t,e,zt),t+\"\")}function wt(t,e){var n,r,i=t.__data__;return(\"string\"==(r=typeof(n=e))||\"number\"==r||\"symbol\"==r||\"boolean\"==r?\"__proto__\"!==n:null===n)?i[\"string\"==typeof e?\"string\":\"hash\"]:i.map}function _t(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return gt(n)?n:void 0}function Mt(t,e){var n=typeof t;return!!(e=null==e?s:e)&&(\"number\"==n||\"symbol\"!=n&&g.test(t))&&t>-1&&t%1==0&&t<e}function Et(t){var e=t&&t.constructor;return t===(\"function\"==typeof e&&e.prototype||N)}function St(t,e){if((\"constructor\"!==e||\"function\"!=typeof t[e])&&\"__proto__\"!=e)return t[e]}var Tt=function(t){var e=0,n=0;return function(){var r=tt(),i=a-(r-n);if(n=r,i>0){if(++e>=o)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Q?function(t,e){return Q(t,\"toString\",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:zt);function Ct(t,e){return t===e||t!=t&&e!=e}var At=vt(function(){return arguments}())?vt:function(t){return kt(t)&&F.call(t,\"callee\")&&!Y.call(t,\"callee\")},Pt=Array.isArray;function Rt(t){return null!=t&&It(t.length)&&!Ot(t)}var Lt=J||function(){return!1};function Ot(t){if(!Nt(t))return!1;var e=mt(t);return e==c||e==h||e==u||e==f}function It(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=s}function Nt(t){var e=typeof t;return null!=t&&(\"object\"==e||\"function\"==e)}function kt(t){return null!=t&&\"object\"==typeof t}var Dt=C?function(t){return function(e){return t(e)}}(C):function(t){return kt(t)&&It(t.length)&&!!y[mt(t)]};function Ft(t){return Rt(t)?lt(t,!0):yt(t)}var Bt,Ut=(Bt=function(t,e,n){bt(t,e,n)},xt((function(t,e){var n=-1,r=e.length,i=r>1?e[r-1]:void 0,o=r>2?e[2]:void 0;for(i=Bt.length>3&&\"function\"==typeof i?(r--,i):void 0,o&&function(t,e,n){if(!Nt(n))return!1;var r=typeof e;return!!(\"number\"==r?Rt(n)&&Mt(e,n.length):\"string\"==r&&e in n)&&Ct(n[e],t)}(e[0],e[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var a=e[n];a&&Bt(t,a,n,i)}return t})));function zt(t){return t}n.exports=Ut}).call(this,n(89),n(316)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,\"loaded\",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,\"id\",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=n(104),o=n(103),a=n(318),s=(r=a)&&r.__esModule?r:{default:r};e.default={spacing:s.default,fontFamily:\"Roboto, sans-serif\",palette:{primary1Color:i.cyan500,primary2Color:i.cyan700,primary3Color:i.grey400,accent1Color:i.pinkA200,accent2Color:i.grey100,accent3Color:i.grey500,textColor:i.darkBlack,secondaryTextColor:(0,o.fade)(i.darkBlack,.54),alternateTextColor:i.white,canvasColor:i.white,borderColor:i.grey300,disabledColor:(0,o.fade)(i.darkBlack,.3),pickerHeaderColor:i.cyan500,clockCircleColor:(0,o.fade)(i.darkBlack,.07),shadowColor:i.fullBlack}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default={iconSize:24,desktopGutter:24,desktopGutterMore:32,desktopGutterLess:16,desktopGutterMini:8,desktopKeylineIncrement:64,desktopDropDownMenuItemHeight:32,desktopDropDownMenuFontSize:15,desktopDrawerMenuItemHeight:48,desktopSubheaderHeight:48,desktopToolbarHeight:56}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default={menu:1e3,appBar:1100,drawerOverlay:1200,drawer:1300,dialogOverlay:1400,dialog:1500,layer:2e3,popover:2100,snackbar:2900,tooltip:3e3}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=o(n(66));e.default=function(t){var e=\"undefined\"!=typeof navigator,n=t.userAgent;if(void 0===n&&e&&(n=navigator.userAgent),void 0!==n||a||(a=!0),!1===n)return null;if(\"all\"===n||void 0===n)return function(t){var n=-1!==[\"flex\",\"inline-flex\"].indexOf(t.display),r=i.default.prefixAll(t);if(n){var o=r.display;r.display=e?o[o.length-1]:o.join(\"; display: \")}return r};var o,s=(o=new i.default({userAgent:n}),{v:function(t){return o.prefix(t)}});return\"object\"===(void 0===s?\"undefined\":(0,r.default)(s))?s.v:void 0};var i=o(n(321));o(n(56));function o(t){return t&&t.__esModule?t:{default:t}}var a=!1},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=x(n(322)),o=x(n(333)),a=x(n(336)),s=x(n(105)),l=x(n(158)),u=x(n(337)),c=x(n(338)),h=x(n(339)),p=x(n(340)),d=x(n(341)),f=x(n(342)),m=x(n(343)),v=x(n(344)),g=x(n(345)),y=x(n(347)),b=x(n(348));function x(t){return t&&t.__esModule?t:{default:t}}var w=[c.default,h.default,p.default,d.default,m.default,v.default,g.default,y.default,b.default,f.default],_=function(){function t(){var e=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var r=\"undefined\"!=typeof navigator?navigator.userAgent:void 0;if(this._userAgent=n.userAgent||r,this._keepUnprefixed=n.keepUnprefixed||!1,this._browserInfo=(0,o.default)(this._userAgent),!this._browserInfo||!this._browserInfo.prefix)return this._usePrefixAllFallback=!0,!1;this.cssPrefix=this._browserInfo.prefix.css,this.jsPrefix=this._browserInfo.prefix.inline,this.prefixedKeyframes=(0,a.default)(this._browserInfo);var i=this._browserInfo.browser&&u.default[this._browserInfo.browser];i?(this._requiresPrefix=Object.keys(i).filter((function(t){return i[t]>=e._browserInfo.version})).reduce((function(t,e){return t[e]=!0,t}),{}),this._hasPropsRequiringPrefix=Object.keys(this._requiresPrefix).length>0):this._usePrefixAllFallback=!0}return r(t,[{key:\"prefix\",value:function(t){var e=this;return this._usePrefixAllFallback?(0,i.default)(t):this._hasPropsRequiringPrefix?(Object.keys(t).forEach((function(n){var r=t[n];r instanceof Object&&!Array.isArray(r)?t[n]=e.prefix(r):e._requiresPrefix[n]&&(t[e.jsPrefix+(0,s.default)(n)]=r,e._keepUnprefixed||delete t[n])})),Object.keys(t).forEach((function(n){[].concat(t[n]).forEach((function(r){w.forEach((function(i){!function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments[2],r=arguments[3];Object.keys(e).forEach((function(i){var o=t[i];Array.isArray(o)?[].concat(e[i]).forEach((function(e){-1===t[i].indexOf(e)&&t[i].splice(o.indexOf(n),r?0:1,e)})):t[i]=e[i]}))}(t,i({property:n,value:r,styles:t,browserInfo:e._browserInfo,prefix:{js:e.jsPrefix,css:e.cssPrefix,keyframes:e.prefixedKeyframes},keepUnprefixed:e._keepUnprefixed,requiresPrefix:e._requiresPrefix}),r,e._keepUnprefixed)}))}))})),(0,l.default)(t)):t}}],[{key:\"prefixAll\",value:function(t){return(0,i.default)(t)}}]),t}();e.default=_,t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function t(e){return Object.keys(e).forEach((function(n){var o=e[n];o instanceof Object&&!Array.isArray(o)?e[n]=t(o):Object.keys(r.default).forEach((function(t){r.default[t][n]&&(e[t+(0,i.default)(n)]=o)}))})),Object.keys(e).forEach((function(t){[].concat(e[t]).forEach((function(n,r){v.forEach((function(r){return function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];Object.keys(e).forEach((function(n){var r=t[n];Array.isArray(r)?[].concat(e[n]).forEach((function(e){var i=r.indexOf(e);i>-1&&t[n].splice(i,1),t[n].push(e)})):t[n]=e[n]}))}(e,r(t,n))}))}))})),(0,o.default)(e)};var r=m(n(157)),i=m(n(105)),o=m(n(158)),a=m(n(324)),s=m(n(325)),l=m(n(326)),u=m(n(327)),c=m(n(328)),h=m(n(329)),p=m(n(330)),d=m(n(331)),f=m(n(332));function m(t){return t&&t.__esModule?t:{default:t}}var v=[a.default,s.default,l.default,c.default,h.default,p.default,d.default,f.default,u.default];t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){return null!==t.match(/^(Webkit|Moz|O|ms)/)},t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e){if(\"position\"===t&&\"sticky\"===e)return{position:[\"-webkit-sticky\",\"sticky\"]}},t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e){if(\"string\"==typeof e&&!(0,i.default)(e)&&e.indexOf(\"calc(\")>-1)return(0,r.default)(t,e,(function(t,e){return e.replace(/calc\\(/g,t+\"calc(\")}))};var r=o(n(68)),i=o(n(106));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e){if(\"cursor\"===t&&a[e])return(0,o.default)(t,e)};var r,i=n(68),o=(r=i)&&r.__esModule?r:{default:r};var a={\"zoom-in\":!0,\"zoom-out\":!0,grab:!0,grabbing:!0};t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e){if(\"display\"===t&&r[e])return{display:[\"-webkit-box\",\"-moz-box\",\"-ms-\"+e+\"box\",\"-webkit-\"+e,e]}};var r={flex:!0,\"inline-flex\":!0};t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e){if(a[t]&&s[e])return(0,o.default)(t,e)};var r,i=n(68),o=(r=i)&&r.__esModule?r:{default:r};var a={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},s={\"min-content\":!0,\"max-content\":!0,\"fill-available\":!0,\"fit-content\":!0,\"contain-floats\":!0};t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e){if(\"string\"==typeof e&&!(0,i.default)(e)&&null!==e.match(a))return(0,r.default)(t,e)};var r=o(n(68)),i=o(n(106));function o(t){return t&&t.__esModule?t:{default:t}}var a=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e){if(\"string\"==typeof e&&u[t]){var n,s=function(t){if((0,o.default)(t))return t;var e=t.split(/,(?![^()]*(?:\\([^()]*\\))?\\))/g);return e.forEach((function(t,n){e[n]=Object.keys(a.default).reduce((function(e,n){var i=\"-\"+n.toLowerCase()+\"-\";return Object.keys(a.default[n]).forEach((function(n){var o=(0,r.default)(n);t.indexOf(o)>-1&&\"order\"!==o&&(e=t.replace(o,i+o)+\",\"+e)})),e}),t)})),e.join(\",\")}(e),c=s.split(/,(?![^()]*(?:\\([^()]*\\))?\\))/g).filter((function(t){return null===t.match(/-moz-|-ms-/)})).join(\",\");return t.indexOf(\"Webkit\")>-1?l({},t,c):(l(n={},\"Webkit\"+(0,i.default)(t),c),l(n,t,s),n)}};var r=s(n(159)),i=s(n(105)),o=s(n(106)),a=s(n(157));function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0};t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e){if(i[t])return function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}({},i[t],r[e]||e)};var r={\"space-around\":\"distribute\",\"space-between\":\"justify\",\"flex-start\":\"start\",\"flex-end\":\"end\"},i={alignContent:\"msFlexLinePack\",alignSelf:\"msFlexItemAlign\",alignItems:\"msFlexAlign\",justifyContent:\"msFlexPack\",order:\"msFlexOrder\",flexGrow:\"msFlexPositive\",flexShrink:\"msFlexNegative\",flexBasis:\"msPreferredSize\"};t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e){if(\"flexDirection\"===t&&\"string\"==typeof e)return{WebkitBoxOrient:e.indexOf(\"column\")>-1?\"vertical\":\"horizontal\",WebkitBoxDirection:e.indexOf(\"reverse\")>-1?\"reverse\":\"normal\"};if(i[t])return function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}({},i[t],r[e]||e)};var r={\"space-around\":\"justify\",\"space-between\":\"justify\",\"flex-start\":\"start\",\"flex-end\":\"end\",\"wrap-reverse\":\"multiple\",wrap:\"multiple\"},i={alignItems:\"WebkitBoxAlign\",justifyContent:\"WebkitBoxPack\",flexWrap:\"WebkitBoxLines\"};t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=n(334),o=(r=i)&&r.__esModule?r:{default:r};var a={Webkit:[\"chrome\",\"safari\",\"ios\",\"android\",\"phantom\",\"opera\",\"webos\",\"blackberry\",\"bada\",\"tizen\",\"chromium\",\"vivaldi\"],Moz:[\"firefox\",\"seamonkey\",\"sailfish\"],ms:[\"msie\",\"msedge\"]},s={chrome:[[\"chrome\"],[\"chromium\"]],safari:[[\"safari\"]],firefox:[[\"firefox\"]],edge:[[\"msedge\"]],opera:[[\"opera\"],[\"vivaldi\"]],ios_saf:[[\"ios\",\"mobile\"],[\"ios\",\"tablet\"]],ie:[[\"msie\"]],op_mini:[[\"opera\",\"mobile\"],[\"opera\",\"tablet\"]],and_uc:[[\"android\",\"mobile\"],[\"android\",\"tablet\"]],android:[[\"android\",\"mobile\"],[\"android\",\"tablet\"]]};e.default=function(t){if(!t)return!1;var e=o.default._detect(t);return Object.keys(a).forEach((function(t){a[t].forEach((function(n){e[n]&&(e.prefix={inline:t,css:\"-\"+t.toLowerCase()+\"-\"})}))})),e.browser=function(t){if(t.firefox)return\"firefox\";var e=\"\";return Object.keys(s).forEach((function(n){s[n].forEach((function(r){var i=0;r.forEach((function(e){t[e]&&(i+=1)})),r.length===i&&(e=n)}))})),e}(e),e.version=e.version?parseFloat(e.version):parseInt(parseFloat(e.osversion),10),e.osversion=parseFloat(e.osversion),\"ios_saf\"===e.browser&&e.version>e.osversion&&(e.version=e.osversion,e.safari=!0),\"android\"===e.browser&&e.chrome&&e.version>37&&(e.browser=\"and_chr\"),\"android\"===e.browser&&e.osversion<5&&(e.version=e.osversion),e},t.exports=e.default},function(t,e,n){var r;r=function(){var t=!0;function e(e){function n(t){var n=e.match(t);return n&&n.length>1&&n[1]||\"\"}function r(t){var n=e.match(t);return n&&n.length>1&&n[2]||\"\"}var i,a=n(/(ipod|iphone|ipad)/i).toLowerCase(),s=!/like android/i.test(e)&&/android/i.test(e),l=/nexus\\s*[0-6]\\s*/i.test(e),u=!l&&/nexus\\s*[0-9]+/i.test(e),c=/CrOS/.test(e),h=/silk/i.test(e),p=/sailfish/i.test(e),d=/tizen/i.test(e),f=/(web|hpw)(o|0)s/i.test(e),m=/windows phone/i.test(e),v=(/SamsungBrowser/i.test(e),!m&&/windows/i.test(e)),g=!a&&!h&&/macintosh/i.test(e),y=!s&&!p&&!d&&!f&&/linux/i.test(e),b=r(/edg([ea]|ios)\\/(\\d+(\\.\\d+)?)/i),x=n(/version\\/(\\d+(\\.\\d+)?)/i),w=/tablet/i.test(e)&&!/tablet pc/i.test(e),_=!w&&/[^-]mobi/i.test(e),M=/xbox/i.test(e);/opera/i.test(e)?i={name:\"Opera\",opera:t,version:x||n(/(?:opera|opr|opios)[\\s\\/](\\d+(\\.\\d+)?)/i)}:/opr\\/|opios/i.test(e)?i={name:\"Opera\",opera:t,version:n(/(?:opr|opios)[\\s\\/](\\d+(\\.\\d+)?)/i)||x}:/SamsungBrowser/i.test(e)?i={name:\"Samsung Internet for Android\",samsungBrowser:t,version:x||n(/(?:SamsungBrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)}:/Whale/i.test(e)?i={name:\"NAVER Whale browser\",whale:t,version:n(/(?:whale)[\\s\\/](\\d+(?:\\.\\d+)+)/i)}:/MZBrowser/i.test(e)?i={name:\"MZ Browser\",mzbrowser:t,version:n(/(?:MZBrowser)[\\s\\/](\\d+(?:\\.\\d+)+)/i)}:/coast/i.test(e)?i={name:\"Opera Coast\",coast:t,version:x||n(/(?:coast)[\\s\\/](\\d+(\\.\\d+)?)/i)}:/focus/i.test(e)?i={name:\"Focus\",focus:t,version:n(/(?:focus)[\\s\\/](\\d+(?:\\.\\d+)+)/i)}:/yabrowser/i.test(e)?i={name:\"Yandex Browser\",yandexbrowser:t,version:x||n(/(?:yabrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)}:/ucbrowser/i.test(e)?i={name:\"UC Browser\",ucbrowser:t,version:n(/(?:ucbrowser)[\\s\\/](\\d+(?:\\.\\d+)+)/i)}:/mxios/i.test(e)?i={name:\"Maxthon\",maxthon:t,version:n(/(?:mxios)[\\s\\/](\\d+(?:\\.\\d+)+)/i)}:/epiphany/i.test(e)?i={name:\"Epiphany\",epiphany:t,version:n(/(?:epiphany)[\\s\\/](\\d+(?:\\.\\d+)+)/i)}:/puffin/i.test(e)?i={name:\"Puffin\",puffin:t,version:n(/(?:puffin)[\\s\\/](\\d+(?:\\.\\d+)?)/i)}:/sleipnir/i.test(e)?i={name:\"Sleipnir\",sleipnir:t,version:n(/(?:sleipnir)[\\s\\/](\\d+(?:\\.\\d+)+)/i)}:/k-meleon/i.test(e)?i={name:\"K-Meleon\",kMeleon:t,version:n(/(?:k-meleon)[\\s\\/](\\d+(?:\\.\\d+)+)/i)}:m?(i={name:\"Windows Phone\",osname:\"Windows Phone\",windowsphone:t},b?(i.msedge=t,i.version=b):(i.msie=t,i.version=n(/iemobile\\/(\\d+(\\.\\d+)?)/i))):/msie|trident/i.test(e)?i={name:\"Internet Explorer\",msie:t,version:n(/(?:msie |rv:)(\\d+(\\.\\d+)?)/i)}:c?i={name:\"Chrome\",osname:\"Chrome OS\",chromeos:t,chromeBook:t,chrome:t,version:n(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)}:/edg([ea]|ios)/i.test(e)?i={name:\"Microsoft Edge\",msedge:t,version:b}:/vivaldi/i.test(e)?i={name:\"Vivaldi\",vivaldi:t,version:n(/vivaldi\\/(\\d+(\\.\\d+)?)/i)||x}:p?i={name:\"Sailfish\",osname:\"Sailfish OS\",sailfish:t,version:n(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i)}:/seamonkey\\//i.test(e)?i={name:\"SeaMonkey\",seamonkey:t,version:n(/seamonkey\\/(\\d+(\\.\\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(i={name:\"Firefox\",firefox:t,version:n(/(?:firefox|iceweasel|fxios)[ \\/](\\d+(\\.\\d+)?)/i)},/\\((mobile|tablet);[^\\)]*rv:[\\d\\.]+\\)/i.test(e)&&(i.firefoxos=t,i.osname=\"Firefox OS\")):h?i={name:\"Amazon Silk\",silk:t,version:n(/silk\\/(\\d+(\\.\\d+)?)/i)}:/phantom/i.test(e)?i={name:\"PhantomJS\",phantom:t,version:n(/phantomjs\\/(\\d+(\\.\\d+)?)/i)}:/slimerjs/i.test(e)?i={name:\"SlimerJS\",slimer:t,version:n(/slimerjs\\/(\\d+(\\.\\d+)?)/i)}:/blackberry|\\bbb\\d+/i.test(e)||/rim\\stablet/i.test(e)?i={name:\"BlackBerry\",osname:\"BlackBerry OS\",blackberry:t,version:x||n(/blackberry[\\d]+\\/(\\d+(\\.\\d+)?)/i)}:f?(i={name:\"WebOS\",osname:\"WebOS\",webos:t,version:x||n(/w(?:eb)?osbrowser\\/(\\d+(\\.\\d+)?)/i)},/touchpad\\//i.test(e)&&(i.touchpad=t)):/bada/i.test(e)?i={name:\"Bada\",osname:\"Bada\",bada:t,version:n(/dolfin\\/(\\d+(\\.\\d+)?)/i)}:d?i={name:\"Tizen\",osname:\"Tizen\",tizen:t,version:n(/(?:tizen\\s?)?browser\\/(\\d+(\\.\\d+)?)/i)||x}:/qupzilla/i.test(e)?i={name:\"QupZilla\",qupzilla:t,version:n(/(?:qupzilla)[\\s\\/](\\d+(?:\\.\\d+)+)/i)||x}:/chromium/i.test(e)?i={name:\"Chromium\",chromium:t,version:n(/(?:chromium)[\\s\\/](\\d+(?:\\.\\d+)?)/i)||x}:/chrome|crios|crmo/i.test(e)?i={name:\"Chrome\",chrome:t,version:n(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)}:s?i={name:\"Android\",version:x}:/safari|applewebkit/i.test(e)?(i={name:\"Safari\",safari:t},x&&(i.version=x)):a?(i={name:\"iphone\"==a?\"iPhone\":\"ipad\"==a?\"iPad\":\"iPod\"},x&&(i.version=x)):i=/googlebot/i.test(e)?{name:\"Googlebot\",googlebot:t,version:n(/googlebot\\/(\\d+(\\.\\d+))/i)||x}:{name:n(/^(.*)\\/(.*) /),version:r(/^(.*)\\/(.*) /)},!i.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\\/537\\.36/i.test(e)?(i.name=i.name||\"Blink\",i.blink=t):(i.name=i.name||\"Webkit\",i.webkit=t),!i.version&&x&&(i.version=x)):!i.opera&&/gecko\\//i.test(e)&&(i.name=i.name||\"Gecko\",i.gecko=t,i.version=i.version||n(/gecko\\/(\\d+(\\.\\d+)?)/i)),i.windowsphone||!s&&!i.silk?!i.windowsphone&&a?(i[a]=t,i.ios=t,i.osname=\"iOS\"):g?(i.mac=t,i.osname=\"macOS\"):M?(i.xbox=t,i.osname=\"Xbox\"):v?(i.windows=t,i.osname=\"Windows\"):y&&(i.linux=t,i.osname=\"Linux\"):(i.android=t,i.osname=\"Android\");var E=\"\";i.windows?E=function(t){switch(t){case\"NT\":return\"NT\";case\"XP\":return\"XP\";case\"NT 5.0\":return\"2000\";case\"NT 5.1\":return\"XP\";case\"NT 5.2\":return\"2003\";case\"NT 6.0\":return\"Vista\";case\"NT 6.1\":return\"7\";case\"NT 6.2\":return\"8\";case\"NT 6.3\":return\"8.1\";case\"NT 10.0\":return\"10\";default:return}}(n(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i)):i.windowsphone?E=n(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i):i.mac?E=(E=n(/Mac OS X (\\d+([_\\.\\s]\\d+)*)/i)).replace(/[_\\s]/g,\".\"):a?E=(E=n(/os (\\d+([_\\s]\\d+)*) like mac os x/i)).replace(/[_\\s]/g,\".\"):s?E=n(/android[ \\/-](\\d+(\\.\\d+)*)/i):i.webos?E=n(/(?:web|hpw)os\\/(\\d+(\\.\\d+)*)/i):i.blackberry?E=n(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i):i.bada?E=n(/bada\\/(\\d+(\\.\\d+)*)/i):i.tizen&&(E=n(/tizen[\\/\\s](\\d+(\\.\\d+)*)/i)),E&&(i.osversion=E);var S=!i.windows&&E.split(\".\")[0];return w||u||\"ipad\"==a||s&&(3==S||S>=4&&!_)||i.silk?i.tablet=t:(_||\"iphone\"==a||\"ipod\"==a||s||l||i.blackberry||i.webos||i.bada)&&(i.mobile=t),i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.vivaldi&&i.version>=1||i.chrome&&i.version>=20||i.samsungBrowser&&i.version>=4||i.whale&&1===o([i.version,\"1.0\"])||i.mzbrowser&&1===o([i.version,\"6.0\"])||i.focus&&1===o([i.version,\"1.0\"])||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(\".\")[0]>=6||i.blackberry&&i.version>=10.1||i.chromium&&i.version>=20?i.a=t:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(\".\")[0]<6||i.chromium&&i.version<20?i.c=t:i.x=t,i}var n=e(\"undefined\"!=typeof navigator&&navigator.userAgent||\"\");function r(t){return t.split(\".\").length}function i(t,e){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(n=0;n<t.length;n++)r.push(e(t[n]));return r}function o(t){for(var e=Math.max(r(t[0]),r(t[1])),n=i(t,(function(t){var n=e-r(t);return i((t+=new Array(n+1).join(\".0\")).split(\".\"),(function(t){return new Array(20-t.length).join(\"0\")+t})).reverse()}));--e>=0;){if(n[0][e]>n[1][e])return 1;if(n[0][e]!==n[1][e])return-1;if(0===e)return 0}}function a(t,r,i){var a=n;\"string\"==typeof r&&(i=r,r=void 0),void 0===r&&(r=!1),i&&(a=e(i));var s=\"\"+a.version;for(var l in t)if(t.hasOwnProperty(l)&&a[l]){if(\"string\"!=typeof t[l])throw new Error(\"Browser version in the minVersion map should be a string: \"+l+\": \"+String(t));return o([s,t[l]])<0}return r}return n.test=function(t){for(var e=0;e<t.length;++e){var r=t[e];if(\"string\"==typeof r&&r in n)return!0}return!1},n.isUnsupportedBrowser=a,n.compareVersions=o,n.check=function(t,e,n){return!a(t,e,n)},n._detect=e,n.detect=e,n},t.exports?t.exports=r():n(335)(\"bowser\",r)},function(t,e){t.exports=function(){throw new Error(\"define cannot be used indirect\")}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){var e=t.browser,n=t.version,r=t.prefix,i=\"keyframes\";return(\"chrome\"===e&&n<43||(\"safari\"===e||\"ios_saf\"===e)&&n<9||\"opera\"===e&&n<30||\"android\"===e&&n<=4.4||\"and_uc\"===e)&&(i=r.css+i),i},t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default={chrome:{transform:35,transformOrigin:35,transformOriginX:35,transformOriginY:35,backfaceVisibility:35,perspective:35,perspectiveOrigin:35,transformStyle:35,transformOriginZ:35,animation:42,animationDelay:42,animationDirection:42,animationFillMode:42,animationDuration:42,animationIterationCount:42,animationName:42,animationPlayState:42,animationTimingFunction:42,appearance:55,userSelect:55,fontKerning:32,textEmphasisPosition:55,textEmphasis:55,textEmphasisStyle:55,textEmphasisColor:55,boxDecorationBreak:55,clipPath:55,maskImage:55,maskMode:55,maskRepeat:55,maskPosition:55,maskClip:55,maskOrigin:55,maskSize:55,maskComposite:55,mask:55,maskBorderSource:55,maskBorderMode:55,maskBorderSlice:55,maskBorderWidth:55,maskBorderOutset:55,maskBorderRepeat:55,maskBorder:55,maskType:55,textDecorationStyle:55,textDecorationSkip:55,textDecorationLine:55,textDecorationColor:55,filter:52,fontFeatureSettings:47,breakAfter:49,breakBefore:49,breakInside:49,columnCount:49,columnFill:49,columnGap:49,columnRule:49,columnRuleColor:49,columnRuleStyle:49,columnRuleWidth:49,columns:49,columnSpan:49,columnWidth:49},safari:{flex:8,flexBasis:8,flexDirection:8,flexGrow:8,flexFlow:8,flexShrink:8,flexWrap:8,alignContent:8,alignItems:8,alignSelf:8,justifyContent:8,order:8,transition:6,transitionDelay:6,transitionDuration:6,transitionProperty:6,transitionTimingFunction:6,transform:8,transformOrigin:8,transformOriginX:8,transformOriginY:8,backfaceVisibility:8,perspective:8,perspectiveOrigin:8,transformStyle:8,transformOriginZ:8,animation:8,animationDelay:8,animationDirection:8,animationFillMode:8,animationDuration:8,animationIterationCount:8,animationName:8,animationPlayState:8,animationTimingFunction:8,appearance:10,userSelect:10,backdropFilter:10,fontKerning:9,scrollSnapType:10,scrollSnapPointsX:10,scrollSnapPointsY:10,scrollSnapDestination:10,scrollSnapCoordinate:10,textEmphasisPosition:7,textEmphasis:7,textEmphasisStyle:7,textEmphasisColor:7,boxDecorationBreak:10,clipPath:10,maskImage:10,maskMode:10,maskRepeat:10,maskPosition:10,maskClip:10,maskOrigin:10,maskSize:10,maskComposite:10,mask:10,maskBorderSource:10,maskBorderMode:10,maskBorderSlice:10,maskBorderWidth:10,maskBorderOutset:10,maskBorderRepeat:10,maskBorder:10,maskType:10,textDecorationStyle:10,textDecorationSkip:10,textDecorationLine:10,textDecorationColor:10,shapeImageThreshold:10,shapeImageMargin:10,shapeImageOutside:10,filter:9,hyphens:10,flowInto:10,flowFrom:10,breakBefore:8,breakAfter:8,breakInside:8,regionFragment:10,columnCount:8,columnFill:8,columnGap:8,columnRule:8,columnRuleColor:8,columnRuleStyle:8,columnRuleWidth:8,columns:8,columnSpan:8,columnWidth:8},firefox:{appearance:51,userSelect:51,boxSizing:28,textAlignLast:48,textDecorationStyle:35,textDecorationSkip:35,textDecorationLine:35,textDecorationColor:35,tabSize:51,hyphens:42,fontFeatureSettings:33,breakAfter:51,breakBefore:51,breakInside:51,columnCount:51,columnFill:51,columnGap:51,columnRule:51,columnRuleColor:51,columnRuleStyle:51,columnRuleWidth:51,columns:51,columnSpan:51,columnWidth:51},opera:{flex:16,flexBasis:16,flexDirection:16,flexGrow:16,flexFlow:16,flexShrink:16,flexWrap:16,alignContent:16,alignItems:16,alignSelf:16,justifyContent:16,order:16,transform:22,transformOrigin:22,transformOriginX:22,transformOriginY:22,backfaceVisibility:22,perspective:22,perspectiveOrigin:22,transformStyle:22,transformOriginZ:22,animation:29,animationDelay:29,animationDirection:29,animationFillMode:29,animationDuration:29,animationIterationCount:29,animationName:29,animationPlayState:29,animationTimingFunction:29,appearance:41,userSelect:41,fontKerning:19,textEmphasisPosition:41,textEmphasis:41,textEmphasisStyle:41,textEmphasisColor:41,boxDecorationBreak:41,clipPath:41,maskImage:41,maskMode:41,maskRepeat:41,maskPosition:41,maskClip:41,maskOrigin:41,maskSize:41,maskComposite:41,mask:41,maskBorderSource:41,maskBorderMode:41,maskBorderSlice:41,maskBorderWidth:41,maskBorderOutset:41,maskBorderRepeat:41,maskBorder:41,maskType:41,textDecorationStyle:41,textDecorationSkip:41,textDecorationLine:41,textDecorationColor:41,filter:39,fontFeatureSettings:34,breakAfter:36,breakBefore:36,breakInside:36,columnCount:36,columnFill:36,columnGap:36,columnRule:36,columnRuleColor:36,columnRuleStyle:36,columnRuleWidth:36,columns:36,columnSpan:36,columnWidth:36},ie:{flex:10,flexDirection:10,flexFlow:10,flexWrap:10,transform:9,transformOrigin:9,transformOriginX:9,transformOriginY:9,userSelect:11,wrapFlow:11,wrapThrough:11,wrapMargin:11,scrollSnapType:11,scrollSnapPointsX:11,scrollSnapPointsY:11,scrollSnapDestination:11,scrollSnapCoordinate:11,touchAction:10,hyphens:11,flowInto:11,flowFrom:11,breakBefore:11,breakAfter:11,breakInside:11,regionFragment:11,gridTemplateColumns:11,gridTemplateRows:11,gridTemplateAreas:11,gridTemplate:11,gridAutoColumns:11,gridAutoRows:11,gridAutoFlow:11,grid:11,gridRowStart:11,gridColumnStart:11,gridRowEnd:11,gridRow:11,gridColumn:11,gridColumnEnd:11,gridColumnGap:11,gridRowGap:11,gridArea:11,gridGap:11,textSizeAdjust:11},edge:{userSelect:14,wrapFlow:14,wrapThrough:14,wrapMargin:14,scrollSnapType:14,scrollSnapPointsX:14,scrollSnapPointsY:14,scrollSnapDestination:14,scrollSnapCoordinate:14,hyphens:14,flowInto:14,flowFrom:14,breakBefore:14,breakAfter:14,breakInside:14,regionFragment:14,gridTemplateColumns:14,gridTemplateRows:14,gridTemplateAreas:14,gridTemplate:14,gridAutoColumns:14,gridAutoRows:14,gridAutoFlow:14,grid:14,gridRowStart:14,gridColumnStart:14,gridRowEnd:14,gridRow:14,gridColumn:14,gridColumnEnd:14,gridColumnGap:14,gridRowGap:14,gridArea:14,gridGap:14},ios_saf:{flex:8.1,flexBasis:8.1,flexDirection:8.1,flexGrow:8.1,flexFlow:8.1,flexShrink:8.1,flexWrap:8.1,alignContent:8.1,alignItems:8.1,alignSelf:8.1,justifyContent:8.1,order:8.1,transition:6,transitionDelay:6,transitionDuration:6,transitionProperty:6,transitionTimingFunction:6,transform:8.1,transformOrigin:8.1,transformOriginX:8.1,transformOriginY:8.1,backfaceVisibility:8.1,perspective:8.1,perspectiveOrigin:8.1,transformStyle:8.1,transformOriginZ:8.1,animation:8.1,animationDelay:8.1,animationDirection:8.1,animationFillMode:8.1,animationDuration:8.1,animationIterationCount:8.1,animationName:8.1,animationPlayState:8.1,animationTimingFunction:8.1,appearance:9.3,userSelect:9.3,backdropFilter:9.3,fontKerning:9.3,scrollSnapType:9.3,scrollSnapPointsX:9.3,scrollSnapPointsY:9.3,scrollSnapDestination:9.3,scrollSnapCoordinate:9.3,boxDecorationBreak:9.3,clipPath:9.3,maskImage:9.3,maskMode:9.3,maskRepeat:9.3,maskPosition:9.3,maskClip:9.3,maskOrigin:9.3,maskSize:9.3,maskComposite:9.3,mask:9.3,maskBorderSource:9.3,maskBorderMode:9.3,maskBorderSlice:9.3,maskBorderWidth:9.3,maskBorderOutset:9.3,maskBorderRepeat:9.3,maskBorder:9.3,maskType:9.3,textSizeAdjust:9.3,textDecorationStyle:9.3,textDecorationSkip:9.3,textDecorationLine:9.3,textDecorationColor:9.3,shapeImageThreshold:9.3,shapeImageMargin:9.3,shapeImageOutside:9.3,filter:9,hyphens:9.3,flowInto:9.3,flowFrom:9.3,breakBefore:8.1,breakAfter:8.1,breakInside:8.1,regionFragment:9.3,columnCount:8.1,columnFill:8.1,columnGap:8.1,columnRule:8.1,columnRuleColor:8.1,columnRuleStyle:8.1,columnRuleWidth:8.1,columns:8.1,columnSpan:8.1,columnWidth:8.1},android:{flex:4.2,flexBasis:4.2,flexDirection:4.2,flexGrow:4.2,flexFlow:4.2,flexShrink:4.2,flexWrap:4.2,alignContent:4.2,alignItems:4.2,alignSelf:4.2,justifyContent:4.2,order:4.2,transition:4.2,transitionDelay:4.2,transitionDuration:4.2,transitionProperty:4.2,transitionTimingFunction:4.2,transform:4.4,transformOrigin:4.4,transformOriginX:4.4,transformOriginY:4.4,backfaceVisibility:4.4,perspective:4.4,perspectiveOrigin:4.4,transformStyle:4.4,transformOriginZ:4.4,animation:4.4,animationDelay:4.4,animationDirection:4.4,animationFillMode:4.4,animationDuration:4.4,animationIterationCount:4.4,animationName:4.4,animationPlayState:4.4,animationTimingFunction:4.4,appearance:51,userSelect:51,fontKerning:4.4,textEmphasisPosition:51,textEmphasis:51,textEmphasisStyle:51,textEmphasisColor:51,boxDecorationBreak:51,clipPath:51,maskImage:51,maskMode:51,maskRepeat:51,maskPosition:51,maskClip:51,maskOrigin:51,maskSize:51,maskComposite:51,mask:51,maskBorderSource:51,maskBorderMode:51,maskBorderSlice:51,maskBorderWidth:51,maskBorderOutset:51,maskBorderRepeat:51,maskBorder:51,maskType:51,filter:51,fontFeatureSettings:4.4,breakAfter:51,breakBefore:51,breakInside:51,columnCount:51,columnFill:51,columnGap:51,columnRule:51,columnRuleColor:51,columnRuleStyle:51,columnRuleWidth:51,columns:51,columnSpan:51,columnWidth:51},and_chr:{appearance:51,userSelect:51,textEmphasisPosition:51,textEmphasis:51,textEmphasisStyle:51,textEmphasisColor:51,boxDecorationBreak:51,clipPath:51,maskImage:51,maskMode:51,maskRepeat:51,maskPosition:51,maskClip:51,maskOrigin:51,maskSize:51,maskComposite:51,mask:51,maskBorderSource:51,maskBorderMode:51,maskBorderSlice:51,maskBorderWidth:51,maskBorderOutset:51,maskBorderRepeat:51,maskBorder:51,maskType:51,textDecorationStyle:51,textDecorationSkip:51,textDecorationLine:51,textDecorationColor:51,filter:51},and_uc:{flex:9.9,flexBasis:9.9,flexDirection:9.9,flexGrow:9.9,flexFlow:9.9,flexShrink:9.9,flexWrap:9.9,alignContent:9.9,alignItems:9.9,alignSelf:9.9,justifyContent:9.9,order:9.9,transition:9.9,transitionDelay:9.9,transitionDuration:9.9,transitionProperty:9.9,transitionTimingFunction:9.9,transform:9.9,transformOrigin:9.9,transformOriginX:9.9,transformOriginY:9.9,backfaceVisibility:9.9,perspective:9.9,perspectiveOrigin:9.9,transformStyle:9.9,transformOriginZ:9.9,animation:9.9,animationDelay:9.9,animationDirection:9.9,animationFillMode:9.9,animationDuration:9.9,animationIterationCount:9.9,animationName:9.9,animationPlayState:9.9,animationTimingFunction:9.9,appearance:9.9,userSelect:9.9,fontKerning:9.9,textEmphasisPosition:9.9,textEmphasis:9.9,textEmphasisStyle:9.9,textEmphasisColor:9.9,maskImage:9.9,maskMode:9.9,maskRepeat:9.9,maskPosition:9.9,maskClip:9.9,maskOrigin:9.9,maskSize:9.9,maskComposite:9.9,mask:9.9,maskBorderSource:9.9,maskBorderMode:9.9,maskBorderSlice:9.9,maskBorderWidth:9.9,maskBorderOutset:9.9,maskBorderRepeat:9.9,maskBorder:9.9,maskType:9.9,textSizeAdjust:9.9,filter:9.9,hyphens:9.9,flowInto:9.9,flowFrom:9.9,breakBefore:9.9,breakAfter:9.9,breakInside:9.9,regionFragment:9.9,fontFeatureSettings:9.9,columnCount:9.9,columnFill:9.9,columnGap:9.9,columnRule:9.9,columnRuleColor:9.9,columnRuleStyle:9.9,columnRuleWidth:9.9,columns:9.9,columnSpan:9.9,columnWidth:9.9},op_mini:{}},t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){var e=t.property,n=t.value,r=t.browserInfo.browser,i=t.prefix.css,a=t.keepUnprefixed;if(\"position\"===e&&\"sticky\"===n&&(\"safari\"===r||\"ios_saf\"===r))return function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}({},e,(0,o.default)(i+n,n,a))};var r,i=n(27),o=(r=i)&&r.__esModule?r:{default:r};t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){var e=t.property,n=t.value,r=t.browserInfo,i=r.browser,a=r.version,s=t.prefix.css,l=t.keepUnprefixed;if(\"string\"==typeof n&&n.indexOf(\"calc(\")>-1&&(\"firefox\"===i&&a<15||\"chrome\"===i&&a<25||\"safari\"===i&&a<6.1||\"ios_saf\"===i&&a<7))return function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}({},e,(0,o.default)(n.replace(/calc\\(/g,s+\"calc(\"),n,l))};var r,i=n(27),o=(r=i)&&r.__esModule?r:{default:r};t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){var e=t.property,n=t.value,r=t.browserInfo,i=r.browser,s=r.version,l=t.prefix.css,u=t.keepUnprefixed;if(\"cursor\"===e&&a[n]&&(\"firefox\"===i&&s<24||\"chrome\"===i&&s<37||\"safari\"===i&&s<9||\"opera\"===i&&s<24))return{cursor:(0,o.default)(l+n,n,u)}};var r,i=n(27),o=(r=i)&&r.__esModule?r:{default:r};var a={\"zoom-in\":!0,\"zoom-out\":!0};t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){var e=t.property,n=t.value,r=t.browserInfo.browser,i=t.prefix.css,s=t.keepUnprefixed;if(\"cursor\"===e&&a[n]&&(\"firefox\"===r||\"chrome\"===r||\"safari\"===r||\"opera\"===r))return{cursor:(0,o.default)(i+n,n,s)}};var r,i=n(27),o=(r=i)&&r.__esModule?r:{default:r};var a={grab:!0,grabbing:!0};t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){var e=t.property,n=t.value,r=t.browserInfo,i=r.browser,s=r.version,l=t.prefix.css,u=t.keepUnprefixed;if(\"display\"===e&&a[n]&&(\"chrome\"===i&&s<29&&s>20||(\"safari\"===i||\"ios_saf\"===i)&&s<9&&s>6||\"opera\"===i&&(15==s||16==s)))return{display:(0,o.default)(l+n,n,u)}};var r,i=n(27),o=(r=i)&&r.__esModule?r:{default:r};var a={flex:!0,\"inline-flex\":!0};t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){var e=t.property,n=t.value,r=t.prefix.css,i=t.keepUnprefixed;if(a[e]&&s[n])return function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}({},e,(0,o.default)(r+n,n,i))};var r,i=n(27),o=(r=i)&&r.__esModule?r:{default:r};var a={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},s={\"min-content\":!0,\"max-content\":!0,\"fill-available\":!0,\"fit-content\":!0,\"contain-floats\":!0};t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){var e=t.property,n=t.value,r=t.browserInfo,i=r.browser,s=r.version,l=t.prefix.css,u=t.keepUnprefixed;if(\"string\"==typeof n&&null!==n.match(a)&&(\"firefox\"===i&&s<16||\"chrome\"===i&&s<26||(\"safari\"===i||\"ios_saf\"===i)&&s<7||(\"opera\"===i||\"op_mini\"===i)&&s<12.1||\"android\"===i&&s<4.4||\"and_uc\"===i))return function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}({},e,(0,o.default)(l+n,n,u))};var r,i=n(27),o=(r=i)&&r.__esModule?r:{default:r};var a=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol?\"symbol\":typeof t};e.default=function(t){var e=t.property,n=t.value,a=t.prefix.css,u=t.requiresPrefix,c=t.keepUnprefixed,h=(0,o.default)(e);if(\"string\"==typeof n&&l[h]){var p=(d=Object.keys(u).map((function(t){return(0,i.default)(t)})),f=n.split(/,(?![^()]*(?:\\([^()]*\\))?\\))/g),d.forEach((function(t){f.forEach((function(e,n){e.indexOf(t)>-1&&\"order\"!==t&&(f[n]=e.replace(t,a+t)+(c?\",\"+e:\"\"))}))})),{v:s({},e,f.join(\",\"))});if(\"object\"===(void 0===p?\"undefined\":r(p)))return p.v}var d,f};var i=a(n(159)),o=a(n(346));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l={transition:!0,transitionProperty:!0};t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){var e=t.replace(/^(ms|Webkit|Moz|O)/,\"\");return e.charAt(0).toLowerCase()+e.slice(1)},t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){var e=t.property,n=t.value,r=t.styles,i=t.browserInfo,l=i.browser,u=i.version,c=t.prefix.css,h=t.keepUnprefixed;if((s[e]||\"display\"===e&&\"string\"==typeof n&&n.indexOf(\"flex\")>-1)&&(\"ie_mob\"===l||\"ie\"===l)&&10==u){if(h||Array.isArray(r[e])||delete r[e],\"display\"===e&&a[n])return{display:(0,o.default)(c+a[n],n,h)};if(s[e])return function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}({},s[e],a[n]||n)}};var r,i=n(27),o=(r=i)&&r.__esModule?r:{default:r};var a={\"space-around\":\"distribute\",\"space-between\":\"justify\",\"flex-start\":\"start\",\"flex-end\":\"end\",flex:\"flexbox\",\"inline-flex\":\"inline-flexbox\"},s={alignContent:\"msFlexLinePack\",alignSelf:\"msFlexItemAlign\",alignItems:\"msFlexAlign\",justifyContent:\"msFlexPack\",order:\"msFlexOrder\",flexGrow:\"msFlexPositive\",flexShrink:\"msFlexNegative\",flexBasis:\"msPreferredSize\"};t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){var e=t.property,n=t.value,r=t.styles,i=t.browserInfo,u=i.browser,c=i.version,h=t.prefix.css,p=t.keepUnprefixed;if((l.indexOf(e)>-1||\"display\"===e&&\"string\"==typeof n&&n.indexOf(\"flex\")>-1)&&(\"firefox\"===u&&c<22||\"chrome\"===u&&c<21||(\"safari\"===u||\"ios_saf\"===u)&&c<=6.1||\"android\"===u&&c<4.4||\"and_uc\"===u)){if(p||Array.isArray(r[e])||delete r[e],\"flexDirection\"===e&&\"string\"==typeof n)return{WebkitBoxOrient:n.indexOf(\"column\")>-1?\"vertical\":\"horizontal\",WebkitBoxDirection:n.indexOf(\"reverse\")>-1?\"reverse\":\"normal\"};if(\"display\"===e&&a[n])return{display:(0,o.default)(h+a[n],n,p)};if(s[e])return function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}({},s[e],a[n]||n)}};var r,i=n(27),o=(r=i)&&r.__esModule?r:{default:r};var a={\"space-around\":\"justify\",\"space-between\":\"justify\",\"flex-start\":\"start\",\"flex-end\":\"end\",\"wrap-reverse\":\"multiple\",wrap:\"multiple\",flex:\"box\",\"inline-flex\":\"inline-box\"},s={alignItems:\"WebkitBoxAlign\",justifyContent:\"WebkitBoxPack\",flexWrap:\"WebkitBoxLines\"},l=Object.keys(s).concat([\"alignContent\",\"alignSelf\",\"order\",\"flexGrow\",\"flexShrink\",\"flexBasis\",\"flexDirection\"]);t.exports=e.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(){0};var r,i=n(56);(r=i)&&r.__esModule},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=n(160),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t){if(t.isRtl)return function(t){if(!0===t.directionInvariant)return t;var e={right:\"left\",left:\"right\",marginRight:\"marginLeft\",marginLeft:\"marginRight\",paddingRight:\"paddingLeft\",paddingLeft:\"paddingRight\",borderRight:\"borderLeft\",borderLeft:\"borderRight\"},n={};return(0,o.default)(t).forEach((function(r){var i=t[r],o=r;switch(e.hasOwnProperty(r)&&(o=e[r]),r){case\"float\":case\"textAlign\":\"right\"===i?i=\"left\":\"left\"===i&&(i=\"right\");break;case\"direction\":\"ltr\"===i?i=\"rtl\":\"rtl\"===i&&(i=\"ltr\");break;case\"transform\":if(!i)break;var l=void 0;(l=i.match(a))&&(i=i.replace(l[0],l[1]+-parseFloat(l[4]))),(l=i.match(s))&&(i=i.replace(l[0],l[1]+-parseFloat(l[4])+l[5]+l[6]?\", \"+(-parseFloat(l[7])+l[8]):\"\"));break;case\"transformOrigin\":if(!i)break;i.indexOf(\"right\")>-1?i=i.replace(\"right\",\"left\"):i.indexOf(\"left\")>-1&&(i=i.replace(\"left\",\"right\"))}n[o]=i})),n}};var a=/((^|\\s)translate(3d|X)?\\()(\\-?[\\d]+)/,s=/((^|\\s)skew(x|y)?\\()\\s*(\\-?[\\d]+)(deg|rad|grad)(,\\s*(\\-?[\\d]+)(deg|rad|grad))?/},function(t,e,n){n(352),t.exports=n(17).Object.keys},function(t,e,n){var r=n(44),i=n(55);n(143)(\"keys\",(function(){return function(t){return i(r(t))}}))},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===e.length)return function(t){return t};if(1===e.length)return e[0];return e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=n(8),o=(r=i)&&r.__esModule?r:{default:r},a=n(104);e.default=new function t(){(0,o.default)(this,t),this.textFullBlack=a.fullBlack,this.textDarkBlack=a.darkBlack,this.textLightBlack=a.lightBlack,this.textMinBlack=a.minBlack,this.textFullWhite=a.fullWhite,this.textDarkWhite=a.darkWhite,this.textLightWhite=a.lightWhite,this.fontWeightLight=300,this.fontWeightNormal=400,this.fontWeightMedium=500,this.fontStyleButtonFontSize=14}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=y(n(22)),i=y(n(18)),o=y(n(10)),a=y(n(8)),s=y(n(11)),l=y(n(12)),u=y(n(13)),c=y(n(9)),h=n(1),p=y(h),d=y(n(19)),f=(y(n(162)),y(n(163))),m=y(n(372)),v=y(n(374)),g=n(107);function y(t){return t&&t.__esModule?t:{default:t}}var b=function(t){function e(){var t,n,r,i;(0,a.default)(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=(0,l.default)(this,(t=e.__proto__||(0,o.default)(e)).call.apply(t,[this].concat(u))),r.state={hovered:!1,isKeyboardFocused:!1,touch:!1,tooltipShown:!1},r.handleBlur=function(t){r.hideTooltip(),r.props.onBlur&&r.props.onBlur(t)},r.handleFocus=function(t){r.showTooltip(),r.props.onFocus&&r.props.onFocus(t)},r.handleMouseLeave=function(t){r.button.isKeyboardFocused()||r.hideTooltip(),r.setState({hovered:!1}),r.props.onMouseLeave&&r.props.onMouseLeave(t)},r.handleMouseOut=function(t){r.props.disabled&&r.hideTooltip(),r.props.onMouseOut&&r.props.onMouseOut(t)},r.handleMouseEnter=function(t){r.showTooltip(),r.state.touch||r.setState({hovered:!0}),r.props.onMouseEnter&&r.props.onMouseEnter(t)},r.handleTouchStart=function(t){r.setState({touch:!0}),r.props.onTouchStart&&r.props.onTouchStart(t)},r.handleKeyboardFocus=function(t,e){var n=r.props,i=n.disabled,o=n.onFocus,a=n.onBlur,s=n.onKeyboardFocus;e&&!i?(r.showTooltip(),o&&o(t)):(r.hideTooltip(),a&&a(t)),r.setState({isKeyboardFocused:e}),s&&s(t,e)},i=n,(0,l.default)(r,i)}return(0,u.default)(e,t),(0,s.default)(e,[{key:\"componentWillReceiveProps\",value:function(t){t.disabled&&this.setState({hovered:!1})}},{key:\"setKeyboardFocus\",value:function(){this.button.setKeyboardFocus()}},{key:\"showTooltip\",value:function(){this.props.tooltip&&this.setState({tooltipShown:!0})}},{key:\"hideTooltip\",value:function(){this.props.tooltip&&this.setState({tooltipShown:!1})}},{key:\"render\",value:function(){var t,e,n=this,o=this.props,a=o.disabled,s=o.hoveredStyle,l=o.disableTouchRipple,u=o.children,h=o.iconClassName,y=o.style,b=o.tooltip,x=o.tooltipPosition,w=o.tooltipStyles,_=o.touch,M=o.iconStyle,E=(0,i.default)(o,[\"disabled\",\"hoveredStyle\",\"disableTouchRipple\",\"children\",\"iconClassName\",\"style\",\"tooltip\",\"tooltipPosition\",\"tooltipStyles\",\"touch\",\"iconStyle\"]),S=void 0,T=(this.props,t=this.context,e=t.muiTheme.baseTheme,{root:{boxSizing:\"border-box\",overflow:\"visible\",transition:d.default.easeOut(),padding:e.spacing.iconSize/2,width:2*e.spacing.iconSize,height:2*e.spacing.iconSize,fontSize:0},tooltip:{boxSizing:\"border-box\"},disabled:{color:e.palette.disabledColor,fill:e.palette.disabledColor,cursor:\"not-allowed\"}}),C=x.split(\"-\"),A=(this.state.hovered||this.state.isKeyboardFocused)&&!a,P=(0,c.default)(T.root,y,A?s:{}),R=b?p.default.createElement(v.default,{label:b,show:this.state.tooltipShown,touch:_,style:(0,c.default)(T.tooltip,w),verticalPosition:C[0],horizontalPosition:C[1]}):null;if(h){var L=M.iconHoverColor,O=(0,i.default)(M,[\"iconHoverColor\"]);S=p.default.createElement(m.default,{className:h,hoverColor:a?null:L,style:(0,c.default)({},a&&T.disabled,O),color:this.context.muiTheme.baseTheme.palette.textColor},u)}var I=a?(0,c.default)({},M,T.disabled):M;return p.default.createElement(f.default,(0,r.default)({ref:function(t){return n.button=t}},E,{centerRipple:!0,disabled:a,onTouchStart:this.handleTouchStart,style:P,disableTouchRipple:l,onBlur:this.handleBlur,onFocus:this.handleFocus,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,onMouseOut:this.handleMouseOut,onKeyboardFocus:this.handleKeyboardFocus}),R,S,(0,g.extendChildren)(u,{style:I}))}}]),e}(h.Component);b.muiName=\"IconButton\",b.defaultProps={disabled:!1,disableTouchRipple:!1,iconStyle:{},tooltipPosition:\"bottom-center\",touch:!1},b.contextTypes={muiTheme:h.PropTypes.object.isRequired},e.default=b},function(t,e,n){n(357),t.exports=n(17).Object.assign},function(t,e,n){var r=n(29);r(r.S+r.F,\"Object\",{assign:n(358)})},function(t,e,n){\"use strict\";var r=n(31),i=n(55),o=n(102),a=n(67),s=n(44),l=n(151),u=Object.assign;t.exports=!u||n(48)((function(){var t={},e={},n=Symbol(),r=\"abcdefghijklmnopqrst\";return t[n]=7,r.split(\"\").forEach((function(t){e[t]=t})),7!=u({},t)[n]||Object.keys(u({},e)).join(\"\")!=r}))?function(t,e){for(var n=s(t),u=arguments.length,c=1,h=o.f,p=a.f;u>c;)for(var d,f=l(arguments[c++]),m=h?i(f).concat(h(f)):i(f),v=m.length,g=0;v>g;)d=m[g++],r&&!p.call(f,d)||(n[d]=f[d]);return n}:u},function(t,e,n){\"use strict\";var r=n(1),i=\"function\"==typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,o=n(20),a=n(2),s=n(4),l=\".\",u=\":\",c=\"function\"==typeof Symbol&&Symbol.iterator,h=\"@@iterator\";function p(t,e){return t&&\"object\"==typeof t&&null!=t.key?(n=t.key,r={\"=\":\"=0\",\":\":\"=2\"},\"$\"+(\"\"+n).replace(/[=:]/g,(function(t){return r[t]}))):e.toString(36);var n,r}function d(t,e,n,r){var o,s=typeof t;if(\"undefined\"!==s&&\"boolean\"!==s||(t=null),null===t||\"string\"===s||\"number\"===s||\"object\"===s&&t.$$typeof===i)return n(r,t,\"\"===e?l+p(t,0):e),1;var f=0,m=\"\"===e?l:e+u;if(Array.isArray(t))for(var v=0;v<t.length;v++)f+=d(o=t[v],m+p(o,v),n,r);else{var g=function(t){var e=t&&(c&&t[c]||t[h]);if(\"function\"==typeof e)return e}(t);if(g){0;for(var y,b=g.call(t),x=0;!(y=b.next()).done;)f+=d(o=y.value,m+p(o,x++),n,r)}else if(\"object\"===s){0;var w=\"\"+t;a(!1,\"Objects are not valid as a React child (found: %s).%s\",\"[object Object]\"===w?\"object with keys {\"+Object.keys(t).join(\", \")+\"}\":w,\"\")}}return f}var f=/\\/+/g;function m(t){return(\"\"+t).replace(f,\"$&/\")}var v,g,y=b,b=function(t){if(this.instancePool.length){var e=this.instancePool.pop();return this.call(e,t),e}return new this(t)},x=function(t){a(t instanceof this,\"Trying to release an instance into a pool of a different type.\"),t.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(t)};function w(t,e,n,r){this.result=t,this.keyPrefix=e,this.func=n,this.context=r,this.count=0}function _(t,e,n){var i,a,s=t.result,l=t.keyPrefix,u=t.func,c=t.context,h=u.call(c,e,t.count++);Array.isArray(h)?M(h,s,n,o.thatReturnsArgument):null!=h&&(r.isValidElement(h)&&(i=h,a=l+(!h.key||e&&e.key===h.key?\"\":m(h.key)+\"/\")+n,h=r.cloneElement(i,{key:a},void 0!==i.props?i.props.children:void 0)),s.push(h))}function M(t,e,n,r,i){var o=\"\";null!=n&&(o=m(n)+\"/\");var a=w.getPooled(e,o,r,i);!function(t,e,n){null==t||d(t,\"\",e,n)}(t,_,a),w.release(a)}w.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},v=function(t,e,n,r){if(this.instancePool.length){var i=this.instancePool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)},(g=w).instancePool=[],g.getPooled=v||y,g.poolSize||(g.poolSize=10),g.release=x;t.exports=function(t){if(\"object\"!=typeof t||!t||Array.isArray(t))return s(!1,\"React.addons.createFragment only accepts a single object. Got: %s\",t),t;if(r.isValidElement(t))return s(!1,\"React.addons.createFragment does not accept a ReactElement without a wrapper object.\"),t;a(1!==t.nodeType,\"React.addons.createFragment(...): Encountered an invalid child; DOM elements are not valid children of React components.\");var e=[];for(var n in t)M(t[n],e,n,o.thatReturnsArgument);return e}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default={once:function(t,e,n){for(var r=e?e.split(\" \"):[],i=function t(e){return e.target.removeEventListener(e.type,t),n(e)},o=r.length-1;o>=0;o--)this.on(t,r[o],i)},on:function(t,e,n){t.addEventListener?t.addEventListener(e,n):t.attachEvent(\"on\"+e,(function(){n.call(t)}))},off:function(t,e,n){t.removeEventListener?t.removeEventListener(e,n):t.detachEvent(\"on\"+e,n)},isKeyboard:function(t){return-1!==[\"keydown\",\"keypress\",\"keyup\"].indexOf(t.type)}}},function(t,e){function n(t){if(t&&\"object\"==typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if(\"number\"==typeof t)return a[t];var n,o=String(t);return(n=r[o.toLowerCase()])?n:(n=i[o.toLowerCase()])||(1===o.length?o.charCodeAt(0):void 0)}n.isEventKey=function(t,e){if(t&&\"object\"==typeof t){var n=t.which||t.keyCode||t.charCode;if(null==n)return!1;if(\"string\"==typeof e){var o;if(o=r[e.toLowerCase()])return o===n;if(o=i[e.toLowerCase()])return o===n}else if(\"number\"==typeof e)return e===n;return!1}};var r=(e=t.exports=n).code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,\"pause/break\":19,\"caps lock\":20,esc:27,space:32,\"page up\":33,\"page down\":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,\"left command\":91,\"right command\":93,\"numpad *\":106,\"numpad +\":107,\"numpad -\":109,\"numpad .\":110,\"numpad /\":111,\"num lock\":144,\"scroll lock\":145,\"my computer\":182,\"my calculator\":183,\";\":186,\"=\":187,\",\":188,\"-\":189,\".\":190,\"/\":191,\"`\":192,\"[\":219,\"\\\\\":220,\"]\":221,\"'\":222},i=e.aliases={windows:91,\"\":16,\"\":18,\"\":17,\"\":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};\n/*!\n * Programatically add the following\n */\nfor(o=97;o<123;o++)r[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)r[o-48]=o;for(o=1;o<13;o++)r[\"f\"+o]=o+111;for(o=0;o<10;o++)r[\"numpad \"+o]=o+96;var a=e.names=e.title={};for(o in r)a[r[o]]=o;for(var s in i)r[s]=i[s]},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=v(n(10)),i=v(n(8)),o=v(n(11)),a=v(n(12)),s=v(n(13)),l=v(n(9)),u=n(1),c=v(u),h=v(n(34)),p=v(n(108)),d=v(n(109)),f=v(n(19)),m=v(n(363));function v(t){return t&&t.__esModule?t:{default:t}}var g=750,y=function(t){function e(){var t,n,o,s;(0,i.default)(this,e);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=o=(0,a.default)(this,(t=e.__proto__||(0,r.default)(e)).call.apply(t,[this].concat(u))),o.pulsate=function(){var t=h.default.findDOMNode(o.refs.innerCircle);if(t){var e=\"scale(1)\"===(t.style.transform||\"scale(1)\")?\"scale(0.85)\":\"scale(1)\";d.default.set(t.style,\"transform\",e),o.timeout=setTimeout(o.pulsate,g)}},s=n,(0,a.default)(o,s)}return(0,s.default)(e,t),(0,o.default)(e,[{key:\"componentDidMount\",value:function(){this.props.show&&(this.setRippleSize(),this.pulsate())}},{key:\"shouldComponentUpdate\",value:function(t,e){return!(0,p.default)(this.props,t)||!(0,p.default)(this.state,e)}},{key:\"componentDidUpdate\",value:function(){this.props.show?(this.setRippleSize(),this.pulsate()):this.timeout&&clearTimeout(this.timeout)}},{key:\"componentWillUnmount\",value:function(){clearTimeout(this.timeout)}},{key:\"getRippleElement\",value:function(t){var e=t.color,n=t.innerStyle,r=t.opacity,i=this.context.muiTheme,o=i.prepareStyles,a=i.ripple,s=(0,l.default)({position:\"absolute\",height:\"100%\",width:\"100%\",borderRadius:\"50%\",opacity:r||.16,backgroundColor:e||a.color,transition:f.default.easeOut(g+\"ms\",\"transform\",null,f.default.easeInOutFunction)},n);return c.default.createElement(\"div\",{ref:\"innerCircle\",style:o((0,l.default)({},s))})}},{key:\"setRippleSize\",value:function(){var t=h.default.findDOMNode(this.refs.innerCircle),e=t.offsetHeight,n=t.offsetWidth,r=Math.max(e,n),i=0;-1!==t.style.top.indexOf(\"px\",t.style.top.length-2)&&(i=parseInt(t.style.top)),t.style.height=r+\"px\",t.style.top=e/2-r/2+i+\"px\"}},{key:\"render\",value:function(){var t=this.props,e=t.show,n=t.style,r=(0,l.default)({height:\"100%\",width:\"100%\",position:\"absolute\",top:0,left:0},n),i=e?this.getRippleElement(this.props):null;return c.default.createElement(m.default,{maxScale:.85,style:r},i)}}]),e}(u.Component);y.contextTypes={muiTheme:u.PropTypes.object.isRequired},e.default=y},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=m(n(22)),i=m(n(18)),o=m(n(10)),a=m(n(8)),s=m(n(11)),l=m(n(12)),u=m(n(13)),c=m(n(9)),h=n(1),p=m(h),d=m(n(164)),f=m(n(367));function m(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(){return(0,a.default)(this,e),(0,l.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,s.default)(e,[{key:\"render\",value:function(){var t=this.props,e=t.children,n=t.childStyle,o=t.enterDelay,a=t.maxScale,s=t.minScale,l=t.style,u=(0,i.default)(t,[\"children\",\"childStyle\",\"enterDelay\",\"maxScale\",\"minScale\",\"style\"]),h=this.context.muiTheme.prepareStyles,m=(0,c.default)({},{position:\"relative\",overflow:\"hidden\",height:\"100%\"},l),v=p.default.Children.map(e,(function(t){return p.default.createElement(f.default,{key:t.key,enterDelay:o,maxScale:a,minScale:s,style:n},t)}));return p.default.createElement(d.default,(0,r.default)({},u,{style:h(m),component:\"div\"}),v)}}]),e}(h.Component);v.defaultProps={enterDelay:0},v.contextTypes={muiTheme:h.PropTypes.object.isRequired},e.default=v},function(t,e,n){\"use strict\";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=l(n(365)),o=l(n(1)),a=l(n(16)),s=(l(n(56)),n(366));function l(t){return t&&t.__esModule?t:{default:t}}a.default.any,a.default.func,a.default.node;var u=function(t){function e(n,i){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,n,i));return o.performAppear=function(t,e){o.currentlyTransitioningKeys[t]=!0,e.componentWillAppear?e.componentWillAppear(o._handleDoneAppearing.bind(o,t,e)):o._handleDoneAppearing(t,e)},o._handleDoneAppearing=function(t,e){e.componentDidAppear&&e.componentDidAppear(),delete o.currentlyTransitioningKeys[t];var n=(0,s.getChildMapping)(o.props.children);n&&n.hasOwnProperty(t)||o.performLeave(t,e)},o.performEnter=function(t,e){o.currentlyTransitioningKeys[t]=!0,e.componentWillEnter?e.componentWillEnter(o._handleDoneEntering.bind(o,t,e)):o._handleDoneEntering(t,e)},o._handleDoneEntering=function(t,e){e.componentDidEnter&&e.componentDidEnter(),delete o.currentlyTransitioningKeys[t];var n=(0,s.getChildMapping)(o.props.children);n&&n.hasOwnProperty(t)||o.performLeave(t,e)},o.performLeave=function(t,e){o.currentlyTransitioningKeys[t]=!0,e.componentWillLeave?e.componentWillLeave(o._handleDoneLeaving.bind(o,t,e)):o._handleDoneLeaving(t,e)},o._handleDoneLeaving=function(t,e){e.componentDidLeave&&e.componentDidLeave(),delete o.currentlyTransitioningKeys[t];var n=(0,s.getChildMapping)(o.props.children);n&&n.hasOwnProperty(t)?o.keysToEnter.push(t):o.setState((function(e){var n=r({},e.children);return delete n[t],{children:n}}))},o.childRefs=Object.create(null),o.state={children:(0,s.getChildMapping)(n.children)},o}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},e.prototype.componentDidMount=function(){var t=this.state.children;for(var e in t)t[e]&&this.performAppear(e,this.childRefs[e])},e.prototype.componentWillReceiveProps=function(t){var e=(0,s.getChildMapping)(t.children),n=this.state.children;for(var r in this.setState({children:(0,s.mergeChildMappings)(n,e)}),e){var i=n&&n.hasOwnProperty(r);!e[r]||i||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var o in n){var a=e&&e.hasOwnProperty(o);!n[o]||a||this.currentlyTransitioningKeys[o]||this.keysToLeave.push(o)}},e.prototype.componentDidUpdate=function(){var t=this,e=this.keysToEnter;this.keysToEnter=[],e.forEach((function(e){return t.performEnter(e,t.childRefs[e])}));var n=this.keysToLeave;this.keysToLeave=[],n.forEach((function(e){return t.performLeave(e,t.childRefs[e])}))},e.prototype.render=function(){var t=this,e=[],n=function(n){var r=t.state.children[n];if(r){var a=\"string\"!=typeof r.ref,s=t.props.childFactory(r),l=function(e){t.childRefs[n]=e};s===r&&a&&(l=(0,i.default)(r.ref,l)),e.push(o.default.cloneElement(s,{key:n,ref:l}))}};for(var a in this.state.children)n(a);var s=r({},this.props);return delete s.transitionLeave,delete s.transitionName,delete s.transitionAppear,delete s.transitionEnter,delete s.childFactory,delete s.transitionLeaveTimeout,delete s.transitionEnterTimeout,delete s.transitionAppearTimeout,delete s.component,o.default.createElement(this.props.component,s,e)},e}(o.default.Component);u.displayName=\"TransitionGroup\",u.propTypes={},u.defaultProps={component:\"span\",childFactory:function(t){return t}},e.default=u,t.exports=e.default},function(t,e){t.exports=function(){for(var t=arguments.length,e=[],n=0;n<t;n++)e[n]=arguments[n];if(0!==(e=e.filter((function(t){return null!=t}))).length)return 1===e.length?e[0]:e.reduce((function(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}))}},function(t,e,n){\"use strict\";e.__esModule=!0,e.getChildMapping=function(t){if(!t)return t;var e={};return r.Children.map(t,(function(t){return t})).forEach((function(t){e[t.key]=t})),e},e.mergeChildMappings=function(t,e){function n(n){return e.hasOwnProperty(n)?e[n]:t[n]}t=t||{},e=e||{};var r={},i=[];for(var o in t)e.hasOwnProperty(o)?i.length&&(r[o]=i,i=[]):i.push(o);var a=void 0,s={};for(var l in e){if(r.hasOwnProperty(l))for(a=0;a<r[l].length;a++){var u=r[l][a];s[r[l][a]]=n(u)}s[l]=n(l)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s};var r=n(1)},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=v(n(22)),i=v(n(18)),o=v(n(10)),a=v(n(8)),s=v(n(11)),l=v(n(12)),u=v(n(13)),c=v(n(9)),h=n(1),p=v(h),d=v(n(34)),f=v(n(109)),m=v(n(19));function v(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function e(){return(0,a.default)(this,e),(0,l.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,s.default)(e,[{key:\"componentWillUnmount\",value:function(){clearTimeout(this.enterTimer),clearTimeout(this.leaveTimer)}},{key:\"componentWillAppear\",value:function(t){this.initializeAnimation(t)}},{key:\"componentWillEnter\",value:function(t){this.initializeAnimation(t)}},{key:\"componentDidAppear\",value:function(){this.animate()}},{key:\"componentDidEnter\",value:function(){this.animate()}},{key:\"componentWillLeave\",value:function(t){var e=d.default.findDOMNode(this).style;e.opacity=\"0\",f.default.set(e,\"transform\",\"scale(\"+this.props.minScale+\")\"),this.leaveTimer=setTimeout(t,450)}},{key:\"animate\",value:function(){var t=d.default.findDOMNode(this).style;t.opacity=\"1\",f.default.set(t,\"transform\",\"scale(\"+this.props.maxScale+\")\")}},{key:\"initializeAnimation\",value:function(t){var e=d.default.findDOMNode(this).style;e.opacity=\"0\",f.default.set(e,\"transform\",\"scale(0)\"),this.enterTimer=setTimeout(t,this.props.enterDelay)}},{key:\"render\",value:function(){var t=this.props,e=t.children,n=(t.enterDelay,t.maxScale,t.minScale,t.style),o=(0,i.default)(t,[\"children\",\"enterDelay\",\"maxScale\",\"minScale\",\"style\"]),a=this.context.muiTheme.prepareStyles,s=(0,c.default)({},{position:\"absolute\",height:\"100%\",width:\"100%\",top:0,left:0,transition:m.default.easeOut(null,[\"transform\",\"opacity\"])},n);return p.default.createElement(\"div\",(0,r.default)({},o,{style:a(s)}),e)}}]),e}(h.Component);g.defaultProps={enterDelay:0,maxScale:1,minScale:0},g.contextTypes={muiTheme:h.PropTypes.object.isRequired},e.default=g},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=g(n(155)),i=g(n(10)),o=g(n(8)),a=g(n(11)),s=g(n(12)),l=g(n(13)),u=g(n(369)),c=g(n(9)),h=n(1),p=g(h),d=g(n(34)),f=g(n(164)),m=g(n(370)),v=g(n(371));function g(t){return t&&t.__esModule?t:{default:t}}var y=function(t){return(0,u.default)(t).slice(1)},b=function(t){function e(t,n){(0,o.default)(this,e);var a=(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,n));return a.handleMouseDown=function(t){0===t.button&&a.start(t,!1)},a.handleMouseUp=function(){a.end()},a.handleMouseLeave=function(){a.end()},a.handleTouchStart=function(t){t.stopPropagation(),a.props.abortOnScroll&&t.touches&&(a.startListeningForScrollAbort(t),a.startTime=Date.now()),a.start(t,!0)},a.handleTouchEnd=function(){a.end()},a.handleTouchMove=function(t){if(Math.abs(Date.now()-a.startTime)>300)a.stopListeningForScrollAbort();else{var e=Math.abs(t.touches[0].clientY-a.firstTouchY),n=Math.abs(t.touches[0].clientX-a.firstTouchX);if(e>6||n>6){var i=a.state.ripples,o=i[0],s=p.default.cloneElement(o,{aborted:!0});i=y(i),i=[].concat((0,r.default)(i),[s]),a.setState({ripples:i},(function(){a.end()}))}}},a.ignoreNextMouseDown=!1,a.state={hasRipples:!1,nextKey:0,ripples:[]},a}return(0,l.default)(e,t),(0,a.default)(e,[{key:\"start\",value:function(t,e){var n=this.context.muiTheme.ripple;if(!this.ignoreNextMouseDown||e){var i=this.state.ripples;i=[].concat((0,r.default)(i),[p.default.createElement(v.default,{key:this.state.nextKey,style:this.props.centerRipple?{}:this.getRippleStyle(t),color:this.props.color||n.color,opacity:this.props.opacity,touchGenerated:e})]),this.ignoreNextMouseDown=e,this.setState({hasRipples:!0,nextKey:this.state.nextKey+1,ripples:i})}else this.ignoreNextMouseDown=!1}},{key:\"end\",value:function(){var t=this.state.ripples;this.setState({ripples:y(t)}),this.props.abortOnScroll&&this.stopListeningForScrollAbort()}},{key:\"startListeningForScrollAbort\",value:function(t){this.firstTouchY=t.touches[0].clientY,this.firstTouchX=t.touches[0].clientX,document.body.addEventListener(\"touchmove\",this.handleTouchMove)}},{key:\"stopListeningForScrollAbort\",value:function(){document.body.removeEventListener(\"touchmove\",this.handleTouchMove)}},{key:\"getRippleStyle\",value:function(t){var e=d.default.findDOMNode(this),n=e.offsetHeight,r=e.offsetWidth,i=m.default.offset(e),o=t.touches&&t.touches.length,a=o?t.touches[0].pageX:t.pageX,s=o?t.touches[0].pageY:t.pageY,l=a-i.left,u=s-i.top,c=this.calcDiag(l,u),h=this.calcDiag(r-l,u),p=this.calcDiag(r-l,n-u),f=this.calcDiag(l,n-u),v=Math.max(c,h,p,f),g=2*v;return{directionInvariant:!0,height:g,width:g,top:u-v,left:l-v}}},{key:\"calcDiag\",value:function(t,e){return Math.sqrt(t*t+e*e)}},{key:\"render\",value:function(){var t=this.props,e=t.children,n=t.style,r=this.state,i=r.hasRipples,o=r.ripples,a=this.context.muiTheme.prepareStyles,s=void 0;if(i){var l=(0,c.default)({height:\"100%\",width:\"100%\",position:\"absolute\",top:0,left:0,overflow:\"hidden\",pointerEvents:\"none\"},n);s=p.default.createElement(f.default,{style:a(l)},o)}return p.default.createElement(\"div\",{onMouseUp:this.handleMouseUp,onMouseDown:this.handleMouseDown,onMouseLeave:this.handleMouseLeave,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},s,e)}}]),e}(h.Component);b.defaultProps={abortOnScroll:!0},b.contextTypes={muiTheme:h.PropTypes.object.isRequired},e.default=b},function(t,e,n){\"use strict\";e.__esModule=!0;var r,i=n(156),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t){return Array.isArray(t)?t:(0,o.default)(t)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default={isDescendant:function(t,e){for(var n=e.parentNode;null!==n;){if(n===t)return!0;n=n.parentNode}return!1},offset:function(t){var e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=g(n(22)),i=g(n(18)),o=g(n(10)),a=g(n(8)),s=g(n(11)),l=g(n(12)),u=g(n(13)),c=g(n(9)),h=n(1),p=g(h),d=g(n(34)),f=g(n(108)),m=g(n(109)),v=g(n(19));function g(t){return t&&t.__esModule?t:{default:t}}var y=function(t){function e(){return(0,a.default)(this,e),(0,l.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,s.default)(e,[{key:\"shouldComponentUpdate\",value:function(t){return!(0,f.default)(this.props,t)}},{key:\"componentWillUnmount\",value:function(){clearTimeout(this.enterTimer),clearTimeout(this.leaveTimer)}},{key:\"componentWillAppear\",value:function(t){this.initializeAnimation(t)}},{key:\"componentWillEnter\",value:function(t){this.initializeAnimation(t)}},{key:\"componentDidAppear\",value:function(){this.animate()}},{key:\"componentDidEnter\",value:function(){this.animate()}},{key:\"componentWillLeave\",value:function(t){d.default.findDOMNode(this).style.opacity=0;var e=this.props.aborted?0:2e3;this.enterTimer=setTimeout(t,e)}},{key:\"animate\",value:function(){var t=d.default.findDOMNode(this).style,e=v.default.easeOut(\"2s\",\"opacity\")+\", \"+v.default.easeOut(\"1s\",\"transform\");m.default.set(t,\"transition\",e),m.default.set(t,\"transform\",\"scale(1)\")}},{key:\"initializeAnimation\",value:function(t){var e=d.default.findDOMNode(this).style;e.opacity=this.props.opacity,m.default.set(e,\"transform\",\"scale(0)\"),this.leaveTimer=setTimeout(t,0)}},{key:\"render\",value:function(){var t=this.props,e=(t.aborted,t.color),n=(t.opacity,t.style),o=(t.touchGenerated,(0,i.default)(t,[\"aborted\",\"color\",\"opacity\",\"style\",\"touchGenerated\"])),a=this.context.muiTheme.prepareStyles,s=(0,c.default)({position:\"absolute\",top:0,left:0,height:\"100%\",width:\"100%\",borderRadius:\"50%\",backgroundColor:e},n);return p.default.createElement(\"div\",(0,r.default)({},o,{style:a(s)}))}}]),e}(h.Component);y.defaultProps={opacity:.1,aborted:!1},y.contextTypes={muiTheme:h.PropTypes.object.isRequired},e.default=y},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var r,i=n(373),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=f(n(22)),i=f(n(18)),o=f(n(10)),a=f(n(8)),s=f(n(11)),l=f(n(12)),u=f(n(13)),c=f(n(9)),h=n(1),p=f(h),d=f(n(19));function f(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function e(){var t,n,r,i;(0,a.default)(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=(0,l.default)(this,(t=e.__proto__||(0,o.default)(e)).call.apply(t,[this].concat(u))),r.state={hovered:!1},r.handleMouseLeave=function(t){void 0!==r.props.hoverColor&&r.setState({hovered:!1}),r.props.onMouseLeave&&r.props.onMouseLeave(t)},r.handleMouseEnter=function(t){void 0!==r.props.hoverColor&&r.setState({hovered:!0}),r.props.onMouseEnter&&r.props.onMouseEnter(t)},i=n,(0,l.default)(r,i)}return(0,u.default)(e,t),(0,s.default)(e,[{key:\"render\",value:function(){var t=this.props,e=(t.hoverColor,t.onMouseLeave,t.onMouseEnter,t.style),n=(0,i.default)(t,[\"hoverColor\",\"onMouseLeave\",\"onMouseEnter\",\"style\"]),o=this.context.muiTheme.prepareStyles,a=function(t,e,n){var r=t.color,i=t.hoverColor,o=e.muiTheme.baseTheme,a=r||o.palette.textColor,s=i||a;return{root:{color:n.hovered?s:a,position:\"relative\",fontSize:o.spacing.iconSize,display:\"inline-block\",userSelect:\"none\",transition:d.default.easeOut()}}}(this.props,this.context,this.state);return p.default.createElement(\"span\",(0,r.default)({},n,{onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,style:o((0,c.default)(a.root,e))}))}}]),e}(h.Component);m.muiName=\"FontIcon\",m.defaultProps={onMouseEnter:function(){},onMouseLeave:function(){}},m.contextTypes={muiTheme:h.PropTypes.object.isRequired},e.default=m},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=f(n(22)),i=f(n(18)),o=f(n(10)),a=f(n(8)),s=f(n(11)),l=f(n(12)),u=f(n(13)),c=f(n(9)),h=n(1),p=f(h),d=f(n(19));function f(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function e(){var t,n,r,i;(0,a.default)(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=(0,l.default)(this,(t=e.__proto__||(0,o.default)(e)).call.apply(t,[this].concat(u))),r.state={offsetWidth:null},i=n,(0,l.default)(r,i)}return(0,u.default)(e,t),(0,s.default)(e,[{key:\"componentDidMount\",value:function(){this.setRippleSize(),this.setTooltipPosition()}},{key:\"componentWillReceiveProps\",value:function(){this.setTooltipPosition()}},{key:\"componentDidUpdate\",value:function(){this.setRippleSize()}},{key:\"setRippleSize\",value:function(){var t=this.refs.ripple,e=this.refs.tooltip,n=parseInt(e.offsetWidth,10)/(\"center\"===this.props.horizontalPosition?2:1),r=parseInt(e.offsetHeight,10),i=Math.ceil(2*Math.sqrt(Math.pow(r,2)+Math.pow(n,2)));this.props.show?(t.style.height=i+\"px\",t.style.width=i+\"px\"):(t.style.width=\"0px\",t.style.height=\"0px\")}},{key:\"setTooltipPosition\",value:function(){this.setState({offsetWidth:this.refs.tooltip.offsetWidth})}},{key:\"render\",value:function(){var t=this.props,e=(t.horizontalPosition,t.label),n=(t.show,t.touch,t.verticalPosition,(0,i.default)(t,[\"horizontalPosition\",\"label\",\"show\",\"touch\",\"verticalPosition\"])),o=this.context.muiTheme.prepareStyles,a=function(t,e,n){var r=t.verticalPosition,i=t.horizontalPosition,o=t.touch?10:0,a=t.touch?-20:-10,s=\"bottom\"===r?14+o:-14-o,l=e.muiTheme,u=l.baseTheme,c=l.zIndex,h=l.tooltip;return{root:{position:\"absolute\",fontFamily:u.fontFamily,fontSize:\"10px\",lineHeight:\"22px\",padding:\"0 8px\",zIndex:c.tooltip,color:h.color,overflow:\"hidden\",top:-1e4,borderRadius:2,userSelect:\"none\",opacity:0,right:\"left\"===i?12:null,left:\"center\"===i?(n.offsetWidth-48)/2*-1:null,transition:d.default.easeOut(\"0ms\",\"top\",\"450ms\")+\", \"+d.default.easeOut(\"450ms\",\"transform\",\"0ms\")+\", \"+d.default.easeOut(\"450ms\",\"opacity\",\"0ms\")},label:{position:\"relative\",whiteSpace:\"nowrap\"},ripple:{position:\"absolute\",left:\"center\"===i?\"50%\":\"left\"===i?\"100%\":\"0%\",top:\"bottom\"===r?0:\"100%\",transform:\"translate(-50%, -50%)\",borderRadius:\"50%\",backgroundColor:\"transparent\",transition:d.default.easeOut(\"0ms\",\"width\",\"450ms\")+\", \"+d.default.easeOut(\"0ms\",\"height\",\"450ms\")+\", \"+d.default.easeOut(\"450ms\",\"backgroundColor\",\"0ms\")},rootWhenShown:{top:\"top\"===r?a:36,opacity:.9,transform:\"translate(0px, \"+s+\"px)\",transition:d.default.easeOut(\"0ms\",\"top\",\"0ms\")+\", \"+d.default.easeOut(\"450ms\",\"transform\",\"0ms\")+\", \"+d.default.easeOut(\"450ms\",\"opacity\",\"0ms\")},rootWhenTouched:{fontSize:\"14px\",lineHeight:\"32px\",padding:\"0 16px\"},rippleWhenShown:{backgroundColor:h.rippleBackgroundColor,transition:d.default.easeOut(\"450ms\",\"width\",\"0ms\")+\", \"+d.default.easeOut(\"450ms\",\"height\",\"0ms\")+\", \"+d.default.easeOut(\"450ms\",\"backgroundColor\",\"0ms\")}}}(this.props,this.context,this.state);return p.default.createElement(\"div\",(0,r.default)({},n,{ref:\"tooltip\",style:o((0,c.default)(a.root,this.props.show&&a.rootWhenShown,this.props.touch&&a.rootWhenTouched,this.props.style))}),p.default.createElement(\"div\",{ref:\"ripple\",style:o((0,c.default)(a.ripple,this.props.show&&a.rippleWhenShown))}),p.default.createElement(\"span\",{style:o(a.label)},e))}}]),e}(h.Component);m.contextTypes={muiTheme:h.PropTypes.object.isRequired},e.default=m},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=y(n(22)),i=y(n(18)),o=y(n(10)),a=y(n(8)),s=y(n(11)),l=y(n(12)),u=y(n(13)),c=y(n(9)),h=n(1),p=y(h),d=y(n(19)),f=n(103),m=n(107),v=y(n(163)),g=y(n(376));function y(t){return t&&t.__esModule?t:{default:t}}var b=function(t){function e(){var t,n,r,i;(0,a.default)(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=(0,l.default)(this,(t=e.__proto__||(0,o.default)(e)).call.apply(t,[this].concat(u))),r.state={hovered:!1,keyboardFocused:!1,touched:!1,initialZDepth:0,zDepth:0},r.handleMouseDown=function(t){0===t.button&&r.setState({zDepth:r.state.initialZDepth+1}),r.props.onMouseDown&&r.props.onMouseDown(t)},r.handleMouseUp=function(t){r.setState({zDepth:r.state.initialZDepth}),r.props.onMouseUp&&r.props.onMouseUp(t)},r.handleMouseLeave=function(t){r.state.keyboardFocused||r.setState({zDepth:r.state.initialZDepth,hovered:!1}),r.props.onMouseLeave&&r.props.onMouseLeave(t)},r.handleMouseEnter=function(t){r.state.keyboardFocused||r.state.touched||r.setState({hovered:!0}),r.props.onMouseEnter&&r.props.onMouseEnter(t)},r.handleTouchStart=function(t){r.setState({touched:!0,zDepth:r.state.initialZDepth+1}),r.props.onTouchStart&&r.props.onTouchStart(t)},r.handleTouchEnd=function(t){r.setState({touched:!0,zDepth:r.state.initialZDepth}),r.props.onTouchEnd&&r.props.onTouchEnd(t)},r.handleKeyboardFocus=function(t,e){var n=e&&!r.props.disabled?r.state.initialZDepth+1:r.state.initialZDepth;r.setState({zDepth:n,keyboardFocused:e})},i=n,(0,l.default)(r,i)}return(0,u.default)(e,t),(0,s.default)(e,[{key:\"componentWillMount\",value:function(){var t=this.props.disabled?0:1;this.setState({zDepth:t,initialZDepth:t})}},{key:\"componentWillReceiveProps\",value:function(t){var e=t.disabled?0:1,n={zDepth:e,initialZDepth:e};t.disabled&&(n.hovered=!1),this.setState(n)}},{key:\"render\",value:function(){var t=this.props,e=(t.backgroundColor,t.buttonStyle),n=t.children,o=t.className,a=t.disabled,s=(t.disabledBackgroundColor,t.disabledLabelColor,t.fullWidth,t.icon),l=t.label,u=(t.labelColor,t.labelPosition),y=t.labelStyle,b=t.overlayStyle,x=(t.primary,t.rippleStyle),w=(t.secondary,t.style),_=(0,i.default)(t,[\"backgroundColor\",\"buttonStyle\",\"children\",\"className\",\"disabled\",\"disabledBackgroundColor\",\"disabledLabelColor\",\"fullWidth\",\"icon\",\"label\",\"labelColor\",\"labelPosition\",\"labelStyle\",\"overlayStyle\",\"primary\",\"rippleStyle\",\"secondary\",\"style\"]),M=this.context.muiTheme.prepareStyles,E=function(t,e,n){var r=e.muiTheme,i=r.baseTheme,o=r.button,a=r.raisedButton,s=t.disabled,l=t.disabledBackgroundColor,u=t.disabledLabelColor,c=t.fullWidth,h=t.icon,p=t.label,m=t.labelPosition,v=t.primary,g=t.secondary,y=t.style,b=v||g?.4:.08,x=a.color,w=a.textColor;s?(x=l||a.disabledColor,w=u||a.disabledTextColor):v?(x=a.primaryColor,w=a.primaryTextColor):g?(x=a.secondaryColor,w=a.secondaryTextColor):(t.backgroundColor&&(x=t.backgroundColor),t.labelColor&&(w=t.labelColor));var _=y&&y.height||o.height;return{root:{display:\"inline-block\",transition:d.default.easeOut(),minWidth:c?\"100%\":o.minWidth},button:{height:_,lineHeight:_+\"px\",width:\"100%\",padding:0,borderRadius:2,transition:d.default.easeOut(),backgroundColor:x,textAlign:\"center\"},label:{position:\"relative\",opacity:1,fontSize:a.fontSize,letterSpacing:0,textTransform:a.textTransform||o.textTransform||\"uppercase\",fontWeight:a.fontWeight,margin:0,userSelect:\"none\",paddingLeft:h&&\"before\"!==m?8:i.spacing.desktopGutterLess,paddingRight:h&&\"before\"===m?8:i.spacing.desktopGutterLess,color:w},icon:{verticalAlign:\"middle\",marginLeft:p&&\"before\"!==m?12:0,marginRight:p&&\"before\"===m?12:0},overlay:{height:_,borderRadius:2,backgroundColor:(n.keyboardFocused||n.hovered)&&!s&&(0,f.fade)(w,b),transition:d.default.easeOut(),top:0},ripple:{color:w,opacity:v||g?.16:.1}}}(this.props,this.context,this.state),S=(0,c.default)({},E.ripple,x),T=a?{}:{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onKeyboardFocus:this.handleKeyboardFocus},C=l&&p.default.createElement(\"span\",{style:M((0,c.default)(E.label,y))},l),A=s&&(0,h.cloneElement)(s,{color:s.props.color||E.label.color,style:(0,c.default)(E.icon,s.props.style)}),P=\"before\"===u?{labelElement:C,iconCloned:A,children:n}:{children:n,iconCloned:A,labelElement:C},R=(0,m.createChildFragment)(P);return p.default.createElement(g.default,{className:o,style:(0,c.default)(E.root,w),zDepth:this.state.zDepth},p.default.createElement(v.default,(0,r.default)({},_,T,{ref:\"container\",disabled:a,style:(0,c.default)(E.button,e),focusRippleColor:S.color,touchRippleColor:S.color,focusRippleOpacity:S.opacity,touchRippleOpacity:S.opacity}),p.default.createElement(\"div\",{ref:\"overlay\",style:M((0,c.default)(E.overlay,b))},R)))}}]),e}(h.Component);b.muiName=\"RaisedButton\",b.defaultProps={disabled:!1,labelPosition:\"after\",fullWidth:!1,primary:!1,secondary:!1},b.contextTypes={muiTheme:h.PropTypes.object.isRequired},e.default=b},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var r,i=n(377),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=f(n(22)),i=f(n(18)),o=f(n(10)),a=f(n(8)),s=f(n(11)),l=f(n(12)),u=f(n(13)),c=f(n(9)),h=n(1),p=f(h),d=(f(n(162)),f(n(19)));function f(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function e(){return(0,a.default)(this,e),(0,l.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,s.default)(e,[{key:\"render\",value:function(){var t=this.props,e=t.children,n=(t.circle,t.rounded,t.style),o=(t.transitionEnabled,t.zDepth,(0,i.default)(t,[\"children\",\"circle\",\"rounded\",\"style\",\"transitionEnabled\",\"zDepth\"])),a=this.context.muiTheme.prepareStyles,s=function(t,e){var n=t.rounded,r=t.circle,i=t.transitionEnabled,o=t.zDepth,a=e.muiTheme,s=a.baseTheme,l=a.paper;return{root:{color:l.color,backgroundColor:l.backgroundColor,transition:i&&d.default.easeOut(),boxSizing:\"border-box\",fontFamily:s.fontFamily,WebkitTapHighlightColor:\"rgba(0,0,0,0)\",boxShadow:l.zDepthShadows[o-1],borderRadius:r?\"50%\":n?\"2px\":\"0px\"}}}(this.props,this.context);return p.default.createElement(\"div\",(0,r.default)({},o,{style:a((0,c.default)(s.root,n))}),e)}}]),e}(h.Component);m.defaultProps={circle:!1,rounded:!0,transitionEnabled:!0,zDepth:1},m.contextTypes={muiTheme:h.PropTypes.object.isRequired},e.default=m},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=x(n(22)),i=x(n(18)),o=x(n(10)),a=x(n(8)),s=x(n(11)),l=x(n(12)),u=x(n(13)),c=x(n(9)),h=n(1),p=x(h),d=x(n(34)),f=x(n(108)),m=x(n(19)),v=x(n(379)),g=x(n(383)),y=x(n(384)),b=x(n(385));x(n(56));function x(t){return t&&t.__esModule?t:{default:t}}function w(t){return\"\"!==t&&null!=t}var _=function(t){function e(){var t,n,r,i;(0,a.default)(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=(0,l.default)(this,(t=e.__proto__||(0,o.default)(e)).call.apply(t,[this].concat(u))),r.state={isFocused:!1,errorText:void 0,hasValue:!1},r.handleInputBlur=function(t){r.setState({isFocused:!1}),r.props.onBlur&&r.props.onBlur(t)},r.handleInputChange=function(t){r.setState({hasValue:w(t.target.value)}),r.props.onChange&&r.props.onChange(t,t.target.value)},r.handleInputFocus=function(t){r.props.disabled||(r.setState({isFocused:!0}),r.props.onFocus&&r.props.onFocus(t))},r.handleHeightChange=function(t,e){var n=e+24;r.props.floatingLabelText&&(n+=24),d.default.findDOMNode(r).style.height=n+\"px\"},i=n,(0,l.default)(r,i)}return(0,u.default)(e,t),(0,s.default)(e,[{key:\"componentWillMount\",value:function(){var t=this.props,e=t.children,n=t.name,r=t.hintText,i=t.floatingLabelText,o=(t.id,e?e.props:this.props);this.setState({errorText:this.props.errorText,hasValue:w(o.value)||w(o.defaultValue)});var a=n+\"-\"+r+\"-\"+i+\"-\"+Math.floor(65535*Math.random());this.uniqueId=a.replace(/[^A-Za-z0-9-]/gi,\"\")}},{key:\"componentWillReceiveProps\",value:function(t){if(t.errorText!==this.props.errorText&&this.setState({errorText:t.errorText}),t.children&&t.children.props&&(t=t.children.props),t.hasOwnProperty(\"value\")){var e=w(t.value);this.setState({hasValue:e})}}},{key:\"shouldComponentUpdate\",value:function(t,e,n){return!(0,f.default)(this.props,t)||!(0,f.default)(this.state,e)||!(0,f.default)(this.context,n)}},{key:\"blur\",value:function(){this.input&&this.getInputNode().blur()}},{key:\"focus\",value:function(){this.input&&this.getInputNode().focus()}},{key:\"select\",value:function(){this.input&&this.getInputNode().select()}},{key:\"getValue\",value:function(){return this.input?this.getInputNode().value:void 0}},{key:\"getInputNode\",value:function(){return this.props.children||this.props.multiLine?this.input.getInputNode():d.default.findDOMNode(this.input)}},{key:\"_isControlled\",value:function(){return this.props.hasOwnProperty(\"value\")}},{key:\"render\",value:function(){var t=this,e=this.props,n=e.children,o=e.className,a=e.disabled,s=e.errorStyle,l=(e.errorText,e.floatingLabelFixed),u=e.floatingLabelFocusStyle,h=e.floatingLabelShrinkStyle,d=e.floatingLabelStyle,f=e.floatingLabelText,x=(e.fullWidth,e.hintText),w=e.hintStyle,_=e.id,M=e.inputStyle,E=e.multiLine,S=(e.onBlur,e.onChange,e.onFocus,e.style),T=e.type,C=e.underlineDisabledStyle,A=e.underlineFocusStyle,P=e.underlineShow,R=e.underlineStyle,L=e.rows,O=e.rowsMax,I=e.textareaStyle,N=(0,i.default)(e,[\"children\",\"className\",\"disabled\",\"errorStyle\",\"errorText\",\"floatingLabelFixed\",\"floatingLabelFocusStyle\",\"floatingLabelShrinkStyle\",\"floatingLabelStyle\",\"floatingLabelText\",\"fullWidth\",\"hintText\",\"hintStyle\",\"id\",\"inputStyle\",\"multiLine\",\"onBlur\",\"onChange\",\"onFocus\",\"style\",\"type\",\"underlineDisabledStyle\",\"underlineFocusStyle\",\"underlineShow\",\"underlineStyle\",\"rows\",\"rowsMax\",\"textareaStyle\"]),k=this.context.muiTheme.prepareStyles,D=function(t,e,n){var r=e.muiTheme,i=r.baseTheme,o=r.textField,a=o.floatingLabelColor,s=o.focusColor,l=o.textColor,u=o.disabledTextColor,h=o.backgroundColor,p=o.errorColor,d={root:{fontSize:16,lineHeight:\"24px\",width:t.fullWidth?\"100%\":256,height:24*(t.rows-1)+(t.floatingLabelText?72:48),display:\"inline-block\",position:\"relative\",backgroundColor:h,fontFamily:i.fontFamily,transition:m.default.easeOut(\"200ms\",\"height\"),cursor:t.disabled?\"not-allowed\":\"auto\"},error:{position:\"relative\",bottom:2,fontSize:12,lineHeight:\"12px\",color:p,transition:m.default.easeOut()},floatingLabel:{color:t.disabled?u:a,pointerEvents:\"none\"},input:{padding:0,position:\"relative\",width:\"100%\",border:\"none\",outline:\"none\",backgroundColor:\"rgba(0,0,0,0)\",color:t.disabled?u:l,cursor:\"inherit\",font:\"inherit\",WebkitTapHighlightColor:\"rgba(0,0,0,0)\"},inputNative:{appearance:\"textfield\"}};return d.textarea=(0,c.default)({},d.input,{marginTop:t.floatingLabelText?36:12,marginBottom:t.floatingLabelText?-36:-12,boxSizing:\"border-box\",font:\"inherit\"}),d.input.height=\"100%\",n.isFocused&&(d.floatingLabel.color=s),t.floatingLabelText&&(d.input.boxSizing=\"border-box\",t.multiLine||(d.input.marginTop=14),n.errorText&&(d.error.bottom=t.multiLine?3:d.error.fontSize+3)),n.errorText&&n.isFocused&&(d.floatingLabel.color=d.error.color),d}(this.props,this.context,this.state),F=_||this.uniqueId,B=this.state.errorText&&p.default.createElement(\"div\",{style:k((0,c.default)(D.error,s))},this.state.errorText),U=f&&p.default.createElement(y.default,{muiTheme:this.context.muiTheme,style:(0,c.default)(D.floatingLabel,d,this.state.isFocused?u:null),shrinkStyle:h,htmlFor:F,shrink:this.state.hasValue||this.state.isFocused||l,disabled:a},f),z={id:F,ref:function(e){return t.input=e},disabled:this.props.disabled,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus},j=(0,c.default)(D.input,M),V=void 0;V=n?p.default.cloneElement(n,(0,r.default)({},z,n.props,{style:(0,c.default)(j,n.props.style)})):E?p.default.createElement(v.default,(0,r.default)({style:j,textareaStyle:(0,c.default)(D.textarea,D.inputNative,I),rows:L,rowsMax:O},N,z,{onHeightChange:this.handleHeightChange})):p.default.createElement(\"input\",(0,r.default)({type:T,style:k((0,c.default)(D.inputNative,j))},N,z));var W={};return n&&(W=N),p.default.createElement(\"div\",(0,r.default)({},W,{className:o,style:k((0,c.default)(D.root,S))}),U,x?p.default.createElement(g.default,{muiTheme:this.context.muiTheme,show:!(this.state.hasValue||f&&!this.state.isFocused)||!this.state.hasValue&&f&&l&&!this.state.isFocused,style:w,text:x}):null,V,P?p.default.createElement(b.default,{disabled:a,disabledStyle:C,error:!!this.state.errorText,errorStyle:s,focus:this.state.isFocused,focusStyle:A,muiTheme:this.context.muiTheme,style:R}):null,B)}}]),e}(h.Component);_.defaultProps={disabled:!1,floatingLabelFixed:!1,multiLine:!1,fullWidth:!1,type:\"text\",underlineShow:!0,rows:1},_.contextTypes={muiTheme:h.PropTypes.object.isRequired},e.default=_},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=f(n(22)),i=f(n(18)),o=f(n(10)),a=f(n(8)),s=f(n(11)),l=f(n(12)),u=f(n(13)),c=f(n(9)),h=n(1),p=f(h),d=f(n(380));function f(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function e(){var t,n,r,i;(0,a.default)(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=(0,l.default)(this,(t=e.__proto__||(0,o.default)(e)).call.apply(t,[this].concat(u))),r.state={height:null},r.handleResize=function(t){r.syncHeightWithShadow(void 0,t)},r.handleChange=function(t){r.syncHeightWithShadow(t.target.value),r.props.hasOwnProperty(\"valueLink\")&&r.props.valueLink.requestChange(t.target.value),r.props.onChange&&r.props.onChange(t)},i=n,(0,l.default)(r,i)}return(0,u.default)(e,t),(0,s.default)(e,[{key:\"componentWillMount\",value:function(){this.setState({height:24*this.props.rows})}},{key:\"componentDidMount\",value:function(){this.syncHeightWithShadow()}},{key:\"componentWillReceiveProps\",value:function(t){t.value!==this.props.value&&this.syncHeightWithShadow(t.value)}},{key:\"getInputNode\",value:function(){return this.refs.input}},{key:\"setValue\",value:function(t){this.getInputNode().value=t,this.syncHeightWithShadow(t)}},{key:\"syncHeightWithShadow\",value:function(t,e){var n=this.refs.shadow;void 0!==t&&(n.value=t);var r=n.scrollHeight;void 0!==r&&(this.props.rowsMax>=this.props.rows&&(r=Math.min(24*this.props.rowsMax,r)),r=Math.max(r,24),this.state.height!==r&&(this.setState({height:r}),this.props.onHeightChange&&this.props.onHeightChange(e,r)))}},{key:\"render\",value:function(){var t=this.props,e=(t.onChange,t.onHeightChange,t.rows,t.rowsMax,t.shadowStyle),n=t.style,o=t.textareaStyle,a=(t.valueLink,(0,i.default)(t,[\"onChange\",\"onHeightChange\",\"rows\",\"rowsMax\",\"shadowStyle\",\"style\",\"textareaStyle\",\"valueLink\"])),s=this.context.muiTheme.prepareStyles,l=(this.props,this.context,{root:{position:\"relative\"},textarea:{height:this.state.height,width:\"100%\",resize:\"none\",font:\"inherit\",padding:0,cursor:\"inherit\"},shadow:{resize:\"none\",overflow:\"hidden\",visibility:\"hidden\",position:\"absolute\",height:\"initial\"}}),u=(0,c.default)(l.root,n),h=(0,c.default)(l.textarea,o),f=(0,c.default)({},h,l.shadow,e);return this.props.hasOwnProperty(\"valueLink\")&&(a.value=this.props.valueLink.value),p.default.createElement(\"div\",{style:s(u)},p.default.createElement(d.default,{target:\"window\",onResize:this.handleResize}),p.default.createElement(\"textarea\",{ref:\"shadow\",style:s(f),tabIndex:\"-1\",rows:this.props.rows,defaultValue:this.props.defaultValue,readOnly:!0,value:this.props.value,valueLink:this.props.valueLink}),p.default.createElement(\"textarea\",(0,r.default)({},a,{ref:\"input\",rows:this.props.rows,style:s(h),onChange:this.handleChange})))}}]),e}(h.Component);m.defaultProps={rows:1},m.contextTypes={muiTheme:h.PropTypes.object.isRequired},e.default=m},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=m(n(10)),i=m(n(8)),o=m(n(11)),a=m(n(12)),s=m(n(13)),l=m(n(66)),u=m(n(160)),c=m(n(18)),h=m(n(161));e.withOptions=function(t,e){return{handler:t,options:g(e)}};var p=n(1),d=(m(p),m(n(16)),m(n(52))),f=(m(n(56)),function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(381)));function m(t){return t&&t.__esModule?t:{default:t}}var v={capture:!1,passive:!1};function g(t){return(0,h.default)({},v,t)}function y(t,e,n){var r=[t,e];return r.push(f.passiveOption?n:n.capture),r}function b(t,e,n,r){f.addEventListener?t.addEventListener.apply(t,y(e,n,r)):f.attachEvent&&t.attachEvent(\"on\"+e,(function(){n.call(t)}))}function x(t,e,n,r){f.removeEventListener?t.removeEventListener.apply(t,y(e,n,r)):f.detachEvent&&t.detachEvent(\"on\"+e,n)}var w=function(t){function e(){return(0,i.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,o.default)(e,[{key:\"componentDidMount\",value:function(){this.addListeners()}},{key:\"shouldComponentUpdate\",value:function(t){return!(0,d.default)(this.props,t)}},{key:\"componentWillUpdate\",value:function(){this.removeListeners()}},{key:\"componentDidUpdate\",value:function(){this.addListeners()}},{key:\"componentWillUnmount\",value:function(){this.removeListeners()}},{key:\"addListeners\",value:function(){this.applyListeners(b)}},{key:\"removeListeners\",value:function(){this.applyListeners(x)}},{key:\"applyListeners\",value:function(t){var e=this.props.target;if(e){var n=e;\"string\"==typeof e&&(n=window[e]),function(t,e){t.children,t.target;var n=(0,c.default)(t,[\"children\",\"target\"]);(0,u.default)(n).forEach((function(t){if(\"on\"===t.substring(0,2)){var r=n[t],i=void 0===r?\"undefined\":(0,l.default)(r),o=\"object\"===i;if(o||\"function\"===i){var a=\"capture\"===t.substr(-7).toLowerCase(),s=t.substring(2).toLowerCase();s=a?s.substring(0,s.length-7):s,o?e(s,r.handler,r.options):e(s,r,g({capture:a}))}}}))}(this.props,t.bind(null,n))}}},{key:\"render\",value:function(){return this.props.children||null}}]),e}(p.Component);e.default=w},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.passiveOption=e.detachEvent=e.attachEvent=e.removeEventListener=e.addEventListener=e.canUseDOM=void 0;var r,i=n(382),o=(r=i)&&r.__esModule?r:{default:r};var a,s=e.canUseDOM=!(\"undefined\"==typeof window||!window.document||!window.document.createElement);e.addEventListener=s&&\"addEventListener\"in window,e.removeEventListener=s&&\"removeEventListener\"in window,e.attachEvent=s&&\"attachEvent\"in window,e.detachEvent=s&&\"detachEvent\"in window,e.passiveOption=(a=null,function(){if(null!==a)return a;var t=!1;try{window.addEventListener(\"test\",null,(0,o.default)({},\"passive\",{get:function(){t=!0}}))}catch(t){}return a=t,t}())},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=n(146),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t,e,n){return(0,o.default)(t,e,n)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=a(n(9)),i=a(n(1)),o=a(n(19));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){var e=t.muiTheme.prepareStyles,n=t.style,a=t.text,s=function(t){var e=t.muiTheme.textField.hintColor;return{root:{position:\"absolute\",opacity:t.show?1:0,color:e,transition:o.default.easeOut(),bottom:12}}}(t);return i.default.createElement(\"div\",{style:e((0,r.default)(s.root,n))},a)};s.defaultProps={show:!0},e.default=s},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=a(n(9)),i=a(n(1)),o=a(n(19));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){var e=t.muiTheme,n=t.className,a=t.children,s=t.htmlFor,l=t.onTouchTap,u=e.prepareStyles,c=function(t){var e={position:\"absolute\",lineHeight:\"22px\",top:38,transition:o.default.easeOut(),zIndex:1,transform:\"scale(1) translate(0, 0)\",transformOrigin:\"left top\",pointerEvents:\"auto\",userSelect:\"none\"},n=t.shrink?(0,r.default)({transform:\"scale(0.75) translate(0, -28px)\",pointerEvents:\"none\"},t.shrinkStyle):null;return{root:(0,r.default)(e,t.style,n)}}(t);return i.default.createElement(\"label\",{className:n,style:u(c.root),htmlFor:s,onTouchTap:l},a)};s.defaultProps={disabled:!1,shrink:!1},e.default=s},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=s(n(9)),i=n(1),o=s(i),a=s(n(19));function s(t){return t&&t.__esModule?t:{default:t}}i.PropTypes.bool,i.PropTypes.object,i.PropTypes.bool,i.PropTypes.object,i.PropTypes.bool,i.PropTypes.object,i.PropTypes.object.isRequired,i.PropTypes.object;var l=function(t){var e=t.disabled,n=t.disabledStyle,i=t.error,s=t.errorStyle,l=t.focus,u=t.focusStyle,c=t.muiTheme,h=t.style,p=s.color,d=c.prepareStyles,f=c.textField,m=f.borderColor,v=f.disabledTextColor,g=f.errorColor,y={root:{borderTop:\"none\",borderLeft:\"none\",borderRight:\"none\",borderBottom:\"solid 1px\",borderColor:m,bottom:8,boxSizing:\"content-box\",margin:0,position:\"absolute\",width:\"100%\"},disabled:{borderBottom:\"dotted 2px\",borderColor:v},focus:{borderBottom:\"solid 2px\",borderColor:f.focusColor,transform:\"scaleX(0)\",transition:a.default.easeOut()},error:{borderColor:p||g,transform:\"scaleX(1)\"}},b=(0,r.default)({},y.root,h),x=(0,r.default)({},b,y.focus,u);return e&&(b=(0,r.default)({},b,y.disabled,n)),l&&(x=(0,r.default)({},x,{transform:\"scaleX(1)\"})),i&&(x=(0,r.default)({},x,y.error)),o.default.createElement(\"div\",null,o.default.createElement(\"hr\",{style:d(b)}),o.default.createElement(\"hr\",{style:d(x)}))};l.defaultProps={disabled:!1,disabledStyle:{},error:!1,errorStyle:{},focus:!1,focusStyle:{},style:{}},e.default=l},,,function(t,e,n){\"use strict\";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||\"\",r=t[3];if(!r)return n;if(e&&\"function\"==typeof btoa){var i=(a=r,\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+\" */\"),o=r.sources.map((function(t){return\"/*# sourceURL=\"+r.sourceRoot+t+\" */\"}));return[n].concat(o).concat([i]).join(\"\\n\")}var a;return[n].join(\"\\n\")}(e,t);return e[2]?\"@media \"+e[2]+\"{\"+n+\"}\":n})).join(\"\")},e.i=function(t,n){\"string\"==typeof t&&(t=[[null,t,\"\"]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];null!=o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];null!=a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]=\"(\"+a[2]+\") and (\"+n+\")\"),e.push(a))}},e}},function(t,e,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(t,e){return e?e.querySelector(t):document.querySelector(t)},l=function(t){var e={};return function(t,n){if(\"function\"==typeof t)return t();if(void 0===e[t]){var r=s.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),u=null,c=0,h=[],p=n(390);function d(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(b(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(b(r.parts[a],e));o[r.id]={id:r.id,refs:1,parts:s}}}}function f(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function m(t,e){var n=l(t.insertInto);if(!n)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");var r=h[h.length-1];if(\"top\"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),h.push(e);else if(\"bottom\"===t.insertAt)n.appendChild(e);else{if(\"object\"!=typeof t.insertAt||!t.insertAt.before)throw new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");var i=l(t.insertAt.before,n);n.insertBefore(e,i)}}function v(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=h.indexOf(t);e>=0&&h.splice(e,1)}function g(t){var e=document.createElement(\"style\");if(void 0===t.attrs.type&&(t.attrs.type=\"text/css\"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return y(e,t.attrs),m(t,e),e}function y(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function b(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o=\"function\"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=o}if(e.singleton){var a=c++;n=u||(u=g(e)),r=_.bind(null,n,a,!1),i=_.bind(null,n,a,!0)}else t.sourceMap&&\"function\"==typeof URL&&\"function\"==typeof URL.createObjectURL&&\"function\"==typeof URL.revokeObjectURL&&\"function\"==typeof Blob&&\"function\"==typeof btoa?(n=function(t){var e=document.createElement(\"link\");return void 0===t.attrs.type&&(t.attrs.type=\"text/css\"),t.attrs.rel=\"stylesheet\",y(e,t.attrs),m(t,e),e}(e),r=E.bind(null,n,e),i=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(e),r=M.bind(null,n),i=function(){v(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if(\"undefined\"!=typeof DEBUG&&DEBUG&&\"object\"!=typeof document)throw new Error(\"The style-loader cannot be used in a non-browser environment\");(e=e||{}).attrs=\"object\"==typeof e.attrs?e.attrs:{},e.singleton||\"boolean\"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto=\"head\"),e.insertAt||(e.insertAt=\"bottom\");var n=f(t,e);return d(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}t&&d(f(t,e),e);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var x,w=(x=[],function(t,e){return x[t]=e,x.filter(Boolean).join(\"\\n\")});function _(t,e,n,r){var i=n?\"\":r.css;if(t.styleSheet)t.styleSheet.cssText=w(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function M(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute(\"media\",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function E(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=p(r)),i&&(r+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+\" */\");var a=new Blob([r],{type:\"text/css\"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(t,e){t.exports=function(t){var e=\"undefined\"!=typeof window&&window.location;if(!e)throw new Error(\"fixUrls requires window.location\");if(!t||\"string\"!=typeof t)return t;var n=e.protocol+\"//\"+e.host,r=n+e.pathname.replace(/\\/[^\\/]*$/,\"/\");return t.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi,(function(t,e){var i,o=e.trim().replace(/^\"(.*)\"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(o)?t:(i=0===o.indexOf(\"//\")?o:0===o.indexOf(\"/\")?n+o:r+o.replace(/^\\.\\//,\"\"),\"url(\"+JSON.stringify(i)+\")\")}))}}]]);","extractedComments":[]}